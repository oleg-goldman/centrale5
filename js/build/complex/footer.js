window.ww_tools={},ww_tools.wm={f:{scrollTo:function(e,t=null,n={}){if(e.length){var i,a=0,o=n.tolerance?n.tolerance:0,s=n.header?n.header:[],r=n.speed?n.speed:1100,l=n.mode?n.mode:"swing";s.length&&(a=s.height()),t?i=e.position():(t="html, body",i=e.offset()),$(t).stop().animate({scrollTop:i.top-a-o},r,l)}}},init:{dataScrollTo:function(){$("[data-scroll-to]").each((function(){var e=$(this),t=e.attr("data-scroll-to");if(!e.attr("data-disable-scroll")){var n=$(t).first();n.length>0&&(e.click((function(){var t={};t.tolerance=e.attr("data-tolerance"),t.speed=e.attr("data-speed"),t.mode=e.attr("data-mode");var i=$(e.attr("data-header-selector"));i.length>0&&(t.header=i),ww_tools.wm.f.scrollTo(n,null,t)})),e.addClass("scroll-to-active"))}}))}},initDefault:function(){ww_tools.wm.init.dataScrollTo()}},$(document).ready((function(){ww_tools.wm.initDefault()})),ww_tools.cge={settings:{},f:{init:function(){},sendEvent:function(){}}},ww_tools.dm={f:{deleteBlock:function(e){e.remove()},deleteParentBlock:function(e){var t=e.attr("data-delete-parent-block"),n=e.parents(t);n.length&&ww_tools.dm.f.deleteBlock(n)},spoilerBlockActivate:function(e,t){if("true"!=e.attr("data-activated")){var n=e.find("[data-spoiler-text]"),i=n.attr("data-max-height"),a=e.find("[data-spoiler-btn]"),o=a.attr("data-show-text"),s=a.attr("data-hide-text");n.height()>i||n.prop("scrollHeight")>i?(e.attr("data-activated",!0),a.show(),a.html(o),n.css("height",i+"px"),n.addClass(t),a.off("click"),a.click((function(){n.hasClass(t)?(n.removeClass(t),a.html(s),n.animate({height:n.prop("scrollHeight")+"px"},300)):(n.addClass(t),a.html(o),n.animate({height:i+"px"},300))}))):a.hide()}},showBlock:function(e,t,n){var i=n.time?n.time:400;!!n.hideClicked&&n.hideClicked&&e.hide(i),t.show(i)},handleSwipe:function(e,t,n){if(n&&t&&window.innerWidth<=e.screenWidthThreshold){let i=t-n;i>e.sensitivity&&e.onSwipeLeft?e.onSwipeLeft(e.element):i<-e.sensitivity&&e.onSwipeRight&&e.onSwipeRight(e.element)}},assignHandlerSwipe:function(e,t){var n=null,i=null;"string"==typeof e&&(e=$(e)),t=$.extend({onSwipeLeft:ww_tools.dm.f.onSwipeLeft,onSwipeRight:ww_tools.dm.f.onSwipeRight,sensitivity:100,screenWidthThreshold:768},t),e.each((function(){var e=$(this);e.on("touchstart",(function(e){n=e.changedTouches[0].screenX})),e.on("touchend",(function(a){i=a.changedTouches[0].screenX,ww_tools.dm.f.handleSwipe({onSwipeLeft:t.onSwipeLeft,onSwipeRight:t.onSwipeRight,sensitivity:t.sensitivity,screenWidthThreshold:t.screenWidthThreshold,element:e},n,i),n=null,i=null}))}))},onSwipeLeft:function(e){if("simple_click"===e.attr("data-add-swipes-actions"))ww_tools.dm.f.simpleClick(e.attr("data-click-elements-selector"),"left");else console.log("Swipe left")},onSwipeRight:function(e){if("simple_click"===e.attr("data-add-swipes-actions"))ww_tools.dm.f.simpleClick(e.attr("data-click-elements-selector"),"right");else console.log("Swipe right")},simpleClick:function(e,t){var n=$(e),i=n.filter(".active"),a=n.index(i),o=null;"left"===t?(o=a<n.length-1?n.eq(a+1):null)||(o=n.first()):"right"===t&&((o=a>0?n.eq(a-1):null)||(o=n.last())),o.click()}},init:{addSwipes:function(){$("[data-add-swipes-actions]").each((function(){ww_tools.dm.f.assignHandlerSwipe($(this))}))},deleteParentBlock:function(){$("[data-delete-parent-block]").click((function(e){e.preventDefault(),ww_tools.dm.f.deleteParentBlock($(this))}))},showTargetBlock:function(){$("[data-show-target-block]").click((function(e){e.preventDefault();var t=$(this),n=$(this).attr("data-time"),i=$(this).attr("data-show-target-block"),a=$(this).attr("data-hide-clicked"),o=$(i),s={};s.time=n,s.hideClicked=a,ww_tools.dm.f.showBlock(t,o,s)}))},spoilers:function(e,t=null){t?$('[data-spoiler-wrapper="'+t+'"]').each((function(){ww_tools.dm.f.spoilerBlockActivate($(this),e)})):$("[data-spoiler-wrapper]").each((function(){ww_tools.dm.f.spoilerBlockActivate($(this),e)}))}},initDefault:function(){ww_tools.dm.init.deleteParentBlock(),ww_tools.dm.init.showTargetBlock(),ww_tools.dm.init.addSwipes()}},$(document).ready((function(){ww_tools.dm.initDefault()})),ww_tools.forms={f:{checkInputs:function(e,t=[]){return ww_tools.forms.f.clearErrors(),e.each((function(){var e=$(this),n=e.prop("name"),i=e.val();t.includes(n)&&!i&&(ww_tools.forms.data.errors[n]=["Обязательно для заполнения."])})),ww_tools.forms.data.errors},showErrors:function(e,t){for(var n in ww_tools.forms.data.errors)if(ww_tools.forms.data.errors.hasOwnProperty(n)){var i=e.find('[name="'+n+'"]');if(!i.length||"hidden"===i.attr("type")){window.formErrorApi(t),alert("Кажется, что-то пошло не так. Повторите попытку позднее, спасибо.");break}i.addClass("has-error"),i.siblings(".error").html(ww_tools.forms.data.errors[n][0])}},sendFormWithRecaptchaReset:function(e,t){"undefined"!=typeof grecaptcha&&e&&grecaptcha.ready((function(){grecaptcha.execute(e).then((function(e){$(".token_recaptcha_v3").val(e),$(document).trigger("send-form-delayed",t)}))}))},sendForm:function(e){var t=e.closest(".form, form"),n=t.find("input, textarea, select").serialize(),i=t.attr("action")||t.data("action");n+="&url="+new URL(window.location.toString()).toString(),i=new URL(i),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:i.toString(),method:"post",dataType:"json",data:n,async:!1,complete:function(e){if(422===e.status){console.log("error");var t=e.responseJSON.errors;return console.log(t),!1}return e.responseJSON&&"ok"===e.responseJSON.status?(ww_tools.forms.settings.action.callbacks.success(e.responseJSON),!0):(console.log("nok"),console.log(e.responseJSON),!1)}})},findForm:function(e){return e.closest(".form, form")},trimPhoneNumber:function(e){return"+"+e.replace(/[^0-9]/g,"")},makeFullUrl:function(e){let t="";switch(!0){case["https://whitewill.ru","https://ww.estate"].includes(window.location.origin):t=window.location.protocol+"/"+window.location.pathname+"."+window.location.host;break;case window.location.host.split(".").length>2:case Boolean(window.location.pathname.match(/admin\/preview/)?.length):default:t=window.location.origin}return t+(e.startsWith("/")?"":"/")+e},reportError:function(e,t=null){t&&(e+="&errorMessage="+encodeURIComponent(t)),window.formErrorApi(e),alert("Кажется, что-то пошло не так. Повторите попытку позднее, спасибо.")},clearErrors:function(){ww_tools.forms.data.errors={}}},tools:{verificationPhone:{verificationInitForm:null,f:{showBlock:function(e){ww_tools.forms.f.findForm(e).find("[data-form-verification-wrapper]").show()},hideBlock:function(e){ww_tools.forms.f.findForm(e).find("[data-form-verification-wrapper]").hide()},setState:function(e,t){var n=ww_tools.forms.tools.verificationPhone.verificationInitForm,i=$('[data-form-verification-element="btn-confirm-code"]'),a=$('[data-form-verification-element="btn-send-code"]'),o=$('[data-form-verification-element="input-code"]'),s=$('[data-form-verification-element="input-phone"]'),r=$("#verification-number");switch(t){case"modal_open":var l=(n=ww_tools.forms.tools.verificationPhone.verificationInitForm=e).parents(".popup");l.length&&ww_tools.popup.f.close(l),ww_tools.popup.f.open(r);var c=n.find('input[name="phone"]').val();s.val(c);break;case"input-phone":a.show(),s.show(),i.hide(),o.hide();break;case"confirmation":i.show(),o.show(),a.hide(),s.hide();break;case"confirmed":a.show(),s.show(),i.hide(),o.hide(),ww_tools.popup.f.close(r),n.find('input[name="phone"]').val(s.val()),n.find(".send-presentation, .send-form, .catalog-form_btn")?.trigger("click")}},handleResponse:function(e,t,n){if($(t).find(".has-error, .has-info").hide().html(""),[20,21].includes(e.statusCode))ww_tools.forms.tools.verificationPhone.f.setState(t,"confirmed");else if(e.timeout){e["form-state"]&&ww_tools.forms.tools.verificationPhone.f.setState(t,e["form-state"]),$(n).prop("disabled",!0);let i=e.timeout,a=e.message.replace(/\d+/,`<span id="timeout">${gMakeTime(i)}</span>`);$(t).find(".has-error").html(a).show();let o=$(t).find(".has-error #timeout"),s=setInterval((function(){i--,i||(clearInterval(s),$(t).find(".has-error").hide(),$(n).prop("disabled",!1)),o.html(gMakeTime(i))}),1e3)}else e.message&&$(t).find(".has-info").html(e.message).show()},checkCodeLength:function(e,t){let n=$(e).find(".has-info");n.hide().html(""),t.prop("disabled",!1);let i=e.find('input[name="confirmation_code"]');return!(i.val().length<4)||(t.prop("disabled",!0),n.html("Осталось ввести цифр: "+Math.abs(i.val().length-4)).show(),!1)}},init:function(){let e=$('[data-form-verification-element="btn-confirm-code"]'),t=e.parents("form, .form");t.find('input[name="confirmation_code"]').on("input paste",(function(){ww_tools.forms.tools.verificationPhone.f.checkCodeLength(t,e)})),e.click((function(e){e.preventDefault();var t=$(this),n=ww_tools.forms.f.findForm(t);if(ww_tools.forms.tools.verificationPhone.f.checkCodeLength(n,t)){var i={phone_number:ww_tools.forms.f.trimPhoneNumber(n.find('input[name="phone"]').val()),verification_code:n.find('input[name="confirmation_code"]').val()};$.ajax({url:ww_tools.forms.f.makeFullUrl("/phone-verification/confirm-code"),method:"POST",data:i,complete:function(e){if(200!==e.status)ww_tools.forms.f.reportError(i,"Ошибка сервиса верификации телефона пользователя: подтверждение кода");else{var a=e.responseJSON;!0===a.success?(n.find(".has-error, .has-info").hide().html(""),ww_tools.forms.tools.verificationPhone.f.setState(n,"confirmed")):ww_tools.forms.tools.verificationPhone.f.handleResponse(a,n,t)}}})}})),$('[data-form-verification-element="btn-send-code"]').click((function(e){e.preventDefault();var t=$(this),n=ww_tools.forms.f.findForm(t),i={phone_number:ww_tools.forms.f.trimPhoneNumber(n.find('input[name="phone"]').val())};$.ajax({url:ww_tools.forms.f.makeFullUrl("/phone-verification/request-code"),method:"POST",data:i,complete:function(e){if(200!==e.status)n.find(".has-error, .has-info").hide().html(""),ww_tools.forms.f.reportError(i,"Ошибка сервиса верификации телефона пользователя: отправка кода");else{var a=e.responseJSON;if(!0===a.success){ww_tools.forms.tools.verificationPhone.f.setState(n,"confirmation"),n.find('input[name="confirmation_code"]').trigger("input")}else ww_tools.forms.tools.verificationPhone.f.handleResponse(a,n,t)}}})}))}}},data:{errors:{}},settings:{action:{callbacks:{success:function(e){ww_tools.popup.f.close(),$("[data-protected-form]").attr("data-action-sent",!0),$("[data-protected-form]").submit()}}}},initDefault:function(){ww_tools.forms.tools.verificationPhone.init()}},$(document).ready((function(){ww_tools.forms.initDefault()})),ww_tools.menu={f:{dropdown:function(){}},data:{}},ww_tools.popup={f:{show:function(e){0!==$(".popup.show").length?$(".popup.show").each((function(){ww_tools.popup.f.close($(this)),setTimeout((function(){ww_tools.popup.f.open(e)}),301)})):ww_tools.popup.f.open(e)},open:function(e){e.addClass("show"),$("body").addClass("hidden layout"),0!=$(e).find(".popup__container").length&&setTimeout((function(){ww_tools.popup.data.topPopup=$(e).find(".popup__container").position().top,ww_tools.popup.data.heightPopup=$(e).find(".popup__container").innerHeight()}),300)},close:function(e=null){var t=$(window).width()<768;(e=e||$(".popup.show")).addClass("hidden"),setTimeout((function(){$(e).removeClass("show"),$(e).removeClass("hidden"),t&&$(e).find(".popup__container").css("top",0),ww_tools.popup.f.stopVideos(e)}),300),$("body").addClass("layout_hidden"),setTimeout((function(){$("body").removeClass("hidden layout layout_hidden")}),300)},stopVideos:function(e){var t=e.find("[video_youtube]");t.length>0&&t.remove()}},data:{topPopup:0,heightPopup:0},init:{dataOpenPopup:function(){$("[data-open-popup]").click((function(){var e=$(this).attr("data-open-popup"),t=$(e);ww_tools.popup.f.open(t)}))},closePopupBtns:function(){$("[data-close-popup]").click((function(){var e=$(this).parents("[data-popup-core]");ww_tools.popup.f.close(e)}))}},initDefault:function(){ww_tools.popup.init.dataOpenPopup(),ww_tools.popup.init.closePopupBtns()}},$(document).ready((function(){ww_tools.popup.initDefault()})),function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("undefined"!=typeof exports?exports:e.dragscroll={})}(this,(function(e){var t,n,i=window,a=document,o="mousemove",s="mouseup",r="mousedown",l="EventListener",c="add"+l,d="remove"+l,u=[],h=function(e,l){for(e=0;e<u.length;)(l=(l=u[e++]).container||l)[d](r,l.md,0),i[d](s,l.mu,0),i[d](o,l.mm,0);for(u=[].slice.call(a.getElementsByClassName("dragscroll")),e=0;e<u.length;)!function(e,l,d,u,h,p){(p=e.container||e)[c](r,p.md=function(t){e.hasAttribute("nochilddrag")&&a.elementFromPoint(t.pageX,t.pageY)!=p||(u=1,l=t.clientX,d=t.clientY,t.preventDefault())},0),i[c](s,p.mu=function(){u=0},0),i[c](o,p.mm=function(i){u&&((h=e.scroller||e).scrollLeft-=t=-l+(l=i.clientX),h.scrollTop-=n=-d+(d=i.clientY),e==a.body&&((h=a.documentElement).scrollLeft-=t,h.scrollTop-=n))},0)}(u[e++])};"complete"==a.readyState?h():i[c]("load",h,0),e.reset=h}));var phoneCode=[{mask:"+247-####",cc:"AC",name_en:"Ascension",desc_en:"",name_ru:"Остров Вознесения",desc_ru:""},{mask:"+376-###-###",cc:"AD",name_en:"Andorra",desc_en:"",name_ru:"Андорра",desc_ru:""},{mask:"+971-5#-###-####",cc:"AE",name_en:"United Arab Emirates",desc_en:"mobile",name_ru:"Объединенные Арабские Эмираты",desc_ru:"мобильные"},{mask:"+971-#-###-####",cc:"AE",name_en:"United Arab Emirates",desc_en:"",name_ru:"Объединенные Арабские Эмираты",desc_ru:""},{mask:"+93-##-###-####",cc:"AF",name_en:"Afghanistan",desc_en:"",name_ru:"Афганистан",desc_ru:""},{mask:"+1(268)###-####",cc:"AG",name_en:"Antigua & Barbuda",desc_en:"",name_ru:"Антигуа и Барбуда",desc_ru:""},{mask:"+1(264)###-####",cc:"AI",name_en:"Anguilla",desc_en:"",name_ru:"Ангилья",desc_ru:""},{mask:"+355(###)###-###",cc:"AL",name_en:"Albania",desc_en:"",name_ru:"Албания",desc_ru:""},{mask:"+374-##-###-###",cc:"AM",name_en:"Armenia",desc_en:"",name_ru:"Армения",desc_ru:""},{mask:"+599-###-####",cc:"AN",name_en:"Caribbean Netherlands",desc_en:"",name_ru:"Карибские Нидерланды",desc_ru:""},{mask:"+599-###-####",cc:"AN",name_en:"Netherlands Antilles",desc_en:"",name_ru:"Нидерландские Антильские острова",desc_ru:""},{mask:"+599-9###-####",cc:"AN",name_en:"Netherlands Antilles",desc_en:"Curacao",name_ru:"Нидерландские Антильские острова",desc_ru:"Кюрасао"},{mask:"+244(###)###-###",cc:"AO",name_en:"Angola",desc_en:"",name_ru:"Ангола",desc_ru:""},{mask:"+672-1##-###",cc:"AQ",name_en:"Australian bases in Antarctica",desc_en:"",name_ru:"Австралийская антарктическая база",desc_ru:""},{mask:"+54(###)###-####",cc:"AR",name_en:"Argentina",desc_en:"",name_ru:"Аргентина",desc_ru:""},{mask:"+1(684)###-####",cc:"AS",name_en:"American Samoa",desc_en:"",name_ru:"Американское Самоа",desc_ru:""},{mask:"+43(###)###-####",cc:"AT",name_en:"Austria",desc_en:"",name_ru:"Австрия",desc_ru:""},{mask:"+61-#-####-####",cc:"AU",name_en:"Australia",desc_en:"",name_ru:"Австралия",desc_ru:""},{mask:"+297-###-####",cc:"AW",name_en:"Aruba",desc_en:"",name_ru:"Аруба",desc_ru:""},{mask:"+994-##-###-##-##",cc:"AZ",name_en:"Azerbaijan",desc_en:"",name_ru:"Азербайджан",desc_ru:""},{mask:"+387-##-#####",cc:"BA",name_en:"Bosnia and Herzegovina",desc_en:"",name_ru:"Босния и Герцеговина",desc_ru:""},{mask:"+387-##-####",cc:"BA",name_en:"Bosnia and Herzegovina",desc_en:"",name_ru:"Босния и Герцеговина",desc_ru:""},{mask:"+1(246)###-####",cc:"BB",name_en:"Barbados",desc_en:"",name_ru:"Барбадос",desc_ru:""},{mask:"+880-##-###-###",cc:"BD",name_en:"Bangladesh",desc_en:"",name_ru:"Бангладеш",desc_ru:""},{mask:"+32(###)###-###",cc:"BE",name_en:"Belgium",desc_en:"",name_ru:"Бельгия",desc_ru:""},{mask:"+226-##-##-####",cc:"BF",name_en:"Burkina Faso",desc_en:"",name_ru:"Буркина Фасо",desc_ru:""},{mask:"+359(###)###-###",cc:"BG",name_en:"Bulgaria",desc_en:"",name_ru:"Болгария",desc_ru:""},{mask:"+973-####-####",cc:"BH",name_en:"Bahrain",desc_en:"",name_ru:"Бахрейн",desc_ru:""},{mask:"+257-##-##-####",cc:"BI",name_en:"Burundi",desc_en:"",name_ru:"Бурунди",desc_ru:""},{mask:"+229-##-##-####",cc:"BJ",name_en:"Benin",desc_en:"",name_ru:"Бенин",desc_ru:""},{mask:"+1(441)###-####",cc:"BM",name_en:"Bermuda",desc_en:"",name_ru:"Бермудские острова",desc_ru:""},{mask:"+673-###-####",cc:"BN",name_en:"Brunei Darussalam",desc_en:"",name_ru:"Бруней-Даруссалам",desc_ru:""},{mask:"+591-#-###-####",cc:"BO",name_en:"Bolivia",desc_en:"",name_ru:"Боливия",desc_ru:""},{mask:"+55-##-####-####",cc:"BR",name_en:"Brazil",desc_en:"",name_ru:"Бразилия",desc_ru:""},{mask:"+1(242)###-####",cc:"BS",name_en:"Bahamas",desc_en:"",name_ru:"Багамские Острова",desc_ru:""},{mask:"+975-17-###-###",cc:"BT",name_en:"Bhutan",desc_en:"",name_ru:"Бутан",desc_ru:""},{mask:"+975-#-###-###",cc:"BT",name_en:"Bhutan",desc_en:"",name_ru:"Бутан",desc_ru:""},{mask:"+267-##-###-###",cc:"BW",name_en:"Botswana",desc_en:"",name_ru:"Ботсвана",desc_ru:""},{mask:"+375(##)###-##-##",cc:"BY",name_en:"Belarus",desc_en:"",name_ru:"Беларусь (Белоруссия)",desc_ru:""},{mask:"+501-###-####",cc:"BZ",name_en:"Belize",desc_en:"",name_ru:"Белиз",desc_ru:""},{mask:"+243(###)###-###",cc:"CD",name_en:"Dem. Rep. Congo",desc_en:"",name_ru:"Дем. Респ. Конго (Киншаса)",desc_ru:""},{mask:"+236-##-##-####",cc:"CF",name_en:"Central African Republic",desc_en:"",name_ru:"Центральноафриканская Республика",desc_ru:""},{mask:"+242-##-###-####",cc:"CG",name_en:"Congo (Brazzaville)",desc_en:"",name_ru:"Конго (Браззавиль)",desc_ru:""},{mask:"+41-##-###-####",cc:"CH",name_en:"Switzerland",desc_en:"",name_ru:"Швейцария",desc_ru:""},{mask:"+225-##-###-###",cc:"CI",name_en:"Cote d’Ivoire (Ivory Coast)",desc_en:"",name_ru:"Кот-д’Ивуар",desc_ru:""},{mask:"+682-##-###",cc:"CK",name_en:"Cook Islands",desc_en:"",name_ru:"Острова Кука",desc_ru:""},{mask:"+56-#-####-####",cc:"CL",name_en:"Chile",desc_en:"",name_ru:"Чили",desc_ru:""},{mask:"+237-####-####",cc:"CM",name_en:"Cameroon",desc_en:"",name_ru:"Камерун",desc_ru:""},{mask:"+86(###)####-####",cc:"CN",name_en:"China (PRC)",desc_en:"",name_ru:"Китайская Н.Р.",desc_ru:""},{mask:"+86(###)####-###",cc:"CN",name_en:"China (PRC)",desc_en:"",name_ru:"Китайская Н.Р.",desc_ru:""},{mask:"+86-##-#####-#####",cc:"CN",name_en:"China (PRC)",desc_en:"",name_ru:"Китайская Н.Р.",desc_ru:""},{mask:"+57(###)###-####",cc:"CO",name_en:"Colombia",desc_en:"",name_ru:"Колумбия",desc_ru:""},{mask:"+506-####-####",cc:"CR",name_en:"Costa Rica",desc_en:"",name_ru:"Коста-Рика",desc_ru:""},{mask:"+53-#-###-####",cc:"CU",name_en:"Cuba",desc_en:"",name_ru:"Куба",desc_ru:""},{mask:"+238(###)##-##",cc:"CV",name_en:"Cape Verde",desc_en:"",name_ru:"Кабо-Верде",desc_ru:""},{mask:"+599-###-####",cc:"CW",name_en:"Curacao",desc_en:"",name_ru:"Кюрасао",desc_ru:""},{mask:"+357-##-###-###",cc:"CY",name_en:"Cyprus",desc_en:"",name_ru:"Кипр",desc_ru:""},{mask:"+420(###)###-###",cc:"CZ",name_en:"Czech Republic",desc_en:"",name_ru:"Чехия",desc_ru:""},{mask:"+49(####)###-####",cc:"DE",name_en:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49(###)###-####",cc:"DE",name_en:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49(###)##-####",cc:"DE",name_en:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49(###)##-###",cc:"DE",name_en:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49(###)##-##",cc:"DE",name_en:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+49-###-###",cc:"DE",name_en:"Germany",desc_en:"",name_ru:"Германия",desc_ru:""},{mask:"+253-##-##-##-##",cc:"DJ",name_en:"Djibouti",desc_en:"",name_ru:"Джибути",desc_ru:""},{mask:"+45-##-##-##-##",cc:"DK",name_en:"Denmark",desc_en:"",name_ru:"Дания",desc_ru:""},{mask:"+1(767)###-####",cc:"DM",name_en:"Dominica",desc_en:"",name_ru:"Доминика",desc_ru:""},{mask:"+1(809)###-####",cc:"DO",name_en:"Dominican Republic",desc_en:"",name_ru:"Доминиканская Республика",desc_ru:""},{mask:"+1(829)###-####",cc:"DO",name_en:"Dominican Republic",desc_en:"",name_ru:"Доминиканская Республика",desc_ru:""},{mask:"+1(849)###-####",cc:"DO",name_en:"Dominican Republic",desc_en:"",name_ru:"Доминиканская Республика",desc_ru:""},{mask:"+213-##-###-####",cc:"DZ",name_en:"Algeria",desc_en:"",name_ru:"Алжир",desc_ru:""},{mask:"+593-##-###-####",cc:"EC",name_en:"Ecuador ",desc_en:"mobile",name_ru:"Эквадор ",desc_ru:"мобильные"},{mask:"+593-#-###-####",cc:"EC",name_en:"Ecuador",desc_en:"",name_ru:"Эквадор",desc_ru:""},{mask:"+372-####-####",cc:"EE",name_en:"Estonia ",desc_en:"mobile",name_ru:"Эстония ",desc_ru:"мобильные"},{mask:"+372-###-####",cc:"EE",name_en:"Estonia",desc_en:"",name_ru:"Эстония",desc_ru:""},{mask:"+20(###)###-####",cc:"EG",name_en:"Egypt",desc_en:"",name_ru:"Египет",desc_ru:""},{mask:"+291-#-###-###",cc:"ER",name_en:"Eritrea",desc_en:"",name_ru:"Эритрея",desc_ru:""},{mask:"+34(###)###-###",cc:"ES",name_en:"Spain",desc_en:"",name_ru:"Испания",desc_ru:""},{mask:"+251-##-###-####",cc:"ET",name_en:"Ethiopia",desc_en:"",name_ru:"Эфиопия",desc_ru:""},{mask:"+358(###)###-##-##",cc:"FI",name_en:"Finland",desc_en:"",name_ru:"Финляндия",desc_ru:""},{mask:"+679-##-#####",cc:"FJ",name_en:"Fiji",desc_en:"",name_ru:"Фиджи",desc_ru:""},{mask:"+500-#####",cc:"FK",name_en:"Falkland Islands",desc_en:"",name_ru:"Фолклендские острова",desc_ru:""},{mask:"+691-###-####",cc:"FM",name_en:"F.S. Micronesia",desc_en:"",name_ru:"Ф.Ш. Микронезии",desc_ru:""},{mask:"+298-###-###",cc:"FO",name_en:"Faroe Islands",desc_en:"",name_ru:"Фарерские острова",desc_ru:""},{mask:"+262-#####-####",cc:"FR",name_en:"Mayotte",desc_en:"",name_ru:"Майотта",desc_ru:""},{mask:"+33(###)###-###",cc:"FR",name_en:"France",desc_en:"",name_ru:"Франция",desc_ru:""},{mask:"+508-##-####",cc:"FR",name_en:"St Pierre & Miquelon",desc_en:"",name_ru:"Сен-Пьер и Микелон",desc_ru:""},{mask:"+590(###)###-###",cc:"FR",name_en:"Guadeloupe",desc_en:"",name_ru:"Гваделупа",desc_ru:""},{mask:"+241-#-##-##-##",cc:"GA",name_en:"Gabon",desc_en:"",name_ru:"Габон",desc_ru:""},{mask:"+1(473)###-####",cc:"GD",name_en:"Grenada",desc_en:"",name_ru:"Гренада",desc_ru:""},{mask:"+995(###)###-###",cc:"GE",name_en:"Rep. of Georgia",desc_en:"",name_ru:"Грузия",desc_ru:""},{mask:"+594-#####-####",cc:"GF",name_en:"Guiana (French)",desc_en:"",name_ru:"Фр. Гвиана",desc_ru:""},{mask:"+233(###)###-###",cc:"GH",name_en:"Ghana",desc_en:"",name_ru:"Гана",desc_ru:""},{mask:"+350-###-#####",cc:"GI",name_en:"Gibraltar",desc_en:"",name_ru:"Гибралтар",desc_ru:""},{mask:"+299-##-##-##",cc:"GL",name_en:"Greenland",desc_en:"",name_ru:"Гренландия",desc_ru:""},{mask:"+220(###)##-##",cc:"GM",name_en:"Gambia",desc_en:"",name_ru:"Гамбия",desc_ru:""},{mask:"+224-##-###-###",cc:"GN",name_en:"Guinea",desc_en:"",name_ru:"Гвинея",desc_ru:""},{mask:"+240-##-###-####",cc:"GQ",name_en:"Equatorial Guinea",desc_en:"",name_ru:"Экваториальная Гвинея",desc_ru:""},{mask:"+30(###)###-####",cc:"GR",name_en:"Greece",desc_en:"",name_ru:"Греция",desc_ru:""},{mask:"+502-#-###-####",cc:"GT",name_en:"Guatemala",desc_en:"",name_ru:"Гватемала",desc_ru:""},{mask:"+1(671)###-####",cc:"GU",name_en:"Guam",desc_en:"",name_ru:"Гуам",desc_ru:""},{mask:"+245-#-######",cc:"GW",name_en:"Guinea-Bissau",desc_en:"",name_ru:"Гвинея-Бисау",desc_ru:""},{mask:"+592-###-####",cc:"GY",name_en:"Guyana",desc_en:"",name_ru:"Гайана",desc_ru:""},{mask:"+852-####-####",cc:"HK",name_en:"Hong Kong",desc_en:"",name_ru:"Гонконг",desc_ru:""},{mask:"+504-####-####",cc:"HN",name_en:"Honduras",desc_en:"",name_ru:"Гондурас",desc_ru:""},{mask:"+385-##-###-###",cc:"HR",name_en:"Croatia",desc_en:"",name_ru:"Хорватия",desc_ru:""},{mask:"+509-##-##-####",cc:"HT",name_en:"Haiti",desc_en:"",name_ru:"Гаити",desc_ru:""},{mask:"+36(###)###-###",cc:"HU",name_en:"Hungary",desc_en:"",name_ru:"Венгрия",desc_ru:""},{mask:"+62(8##)###-####",cc:"ID",name_en:"Indonesia ",desc_en:"mobile",name_ru:"Индонезия ",desc_ru:"мобильные"},{mask:"+62-##-###-##",cc:"ID",name_en:"Indonesia",desc_en:"",name_ru:"Индонезия",desc_ru:""},{mask:"+62-##-###-###",cc:"ID",name_en:"Indonesia",desc_en:"",name_ru:"Индонезия",desc_ru:""},{mask:"+62-##-###-####",cc:"ID",name_en:"Indonesia",desc_en:"",name_ru:"Индонезия",desc_ru:""},{mask:"+62(8##)###-###",cc:"ID",name_en:"Indonesia ",desc_en:"mobile",name_ru:"Индонезия ",desc_ru:"мобильные"},{mask:"+62(8##)###-##-###",cc:"ID",name_en:"Indonesia ",desc_en:"mobile",name_ru:"Индонезия ",desc_ru:"мобильные"},{mask:"+353(###)###-###",cc:"IE",name_en:"Ireland",desc_en:"",name_ru:"Ирландия",desc_ru:""},{mask:"+972-5#-###-####",cc:"IL",name_en:"Israel ",desc_en:"mobile",name_ru:"Израиль ",desc_ru:"мобильные"},{mask:"+972-#-###-####",cc:"IL",name_en:"Israel",desc_en:"",name_ru:"Израиль",desc_ru:""},{mask:"+91(####)###-###",cc:"IN",name_en:"India",desc_en:"",name_ru:"Индия",desc_ru:""},{mask:"+246-###-####",cc:"IO",name_en:"Diego Garcia",desc_en:"",name_ru:"Диего-Гарсия",desc_ru:""},{mask:"+964(###)###-####",cc:"IQ",name_en:"Iraq",desc_en:"",name_ru:"Ирак",desc_ru:""},{mask:"+98(###)###-####",cc:"IR",name_en:"Iran",desc_en:"",name_ru:"Иран",desc_ru:""},{mask:"+354-###-####",cc:"IS",name_en:"Iceland",desc_en:"",name_ru:"Исландия",desc_ru:""},{mask:"+39(###)####-###",cc:"IT",name_en:"Italy",desc_en:"",name_ru:"Италия",desc_ru:""},{mask:"+1(876)###-####",cc:"JM",name_en:"Jamaica",desc_en:"",name_ru:"Ямайка",desc_ru:""},{mask:"+962-#-####-####",cc:"JO",name_en:"Jordan",desc_en:"",name_ru:"Иордания",desc_ru:""},{mask:"+81-##-####-####",cc:"JP",name_en:"Japan ",desc_en:"mobile",name_ru:"Япония ",desc_ru:"мобильные"},{mask:"+81(###)###-###",cc:"JP",name_en:"Japan",desc_en:"",name_ru:"Япония",desc_ru:""},{mask:"+254-###-######",cc:"KE",name_en:"Kenya",desc_en:"",name_ru:"Кения",desc_ru:""},{mask:"+996(###)###-###",cc:"KG",name_en:"Kyrgyzstan",desc_en:"",name_ru:"Киргизия",desc_ru:""},{mask:"+855-##-###-###",cc:"KH",name_en:"Cambodia",desc_en:"",name_ru:"Камбоджа",desc_ru:""},{mask:"+686-##-###",cc:"KI",name_en:"Kiribati",desc_en:"",name_ru:"Кирибати",desc_ru:""},{mask:"+269-##-#####",cc:"KM",name_en:"Comoros",desc_en:"",name_ru:"Коморы",desc_ru:""},{mask:"+1(869)###-####",cc:"KN",name_en:"Saint Kitts & Nevis",desc_en:"",name_ru:"Сент-Китс и Невис",desc_ru:""},{mask:"+850-191-###-####",cc:"KP",name_en:"DPR Korea (North) ",desc_en:"mobile",name_ru:"Корейская НДР ",desc_ru:"мобильные"},{mask:"+850-##-###-###",cc:"KP",name_en:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+850-###-####-###",cc:"KP",name_en:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+850-###-###",cc:"KP",name_en:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+850-####-####",cc:"KP",name_en:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+850-####-#############",cc:"KP",name_en:"DPR Korea (North)",desc_en:"",name_ru:"Корейская НДР",desc_ru:""},{mask:"+82-##-###-####",cc:"KR",name_en:"Korea (South)",desc_en:"",name_ru:"Респ. Корея",desc_ru:""},{mask:"+965-####-####",cc:"KW",name_en:"Kuwait",desc_en:"",name_ru:"Кувейт",desc_ru:""},{mask:"+1(345)###-####",cc:"KY",name_en:"Cayman Islands",desc_en:"",name_ru:"Каймановы острова",desc_ru:""},{mask:"+7(6##)###-##-##",cc:"KZ",name_en:"Kazakhstan",desc_en:"",name_ru:"Казахстан",desc_ru:""},{mask:"+7(7##)###-##-##",cc:"KZ",name_en:"Kazakhstan",desc_en:"",name_ru:"Казахстан",desc_ru:""},{mask:"+856(20##)###-###",cc:"LA",name_en:"Laos ",desc_en:"mobile",name_ru:"Лаос ",desc_ru:"мобильные"},{mask:"+856-##-###-###",cc:"LA",name_en:"Laos",desc_en:"",name_ru:"Лаос",desc_ru:""},{mask:"+961-##-###-###",cc:"LB",name_en:"Lebanon ",desc_en:"mobile",name_ru:"Ливан ",desc_ru:"мобильные"},{mask:"+961-#-###-###",cc:"LB",name_en:"Lebanon",desc_en:"",name_ru:"Ливан",desc_ru:""},{mask:"+1(758)###-####",cc:"LC",name_en:"Saint Lucia",desc_en:"",name_ru:"Сент-Люсия",desc_ru:""},{mask:"+423(###)###-####",cc:"LI",name_en:"Liechtenstein",desc_en:"",name_ru:"Лихтенштейн",desc_ru:""},{mask:"+94-##-###-####",cc:"LK",name_en:"Sri Lanka",desc_en:"",name_ru:"Шри-Ланка",desc_ru:""},{mask:"+231-##-###-###",cc:"LR",name_en:"Liberia",desc_en:"",name_ru:"Либерия",desc_ru:""},{mask:"+266-#-###-####",cc:"LS",name_en:"Lesotho",desc_en:"",name_ru:"Лесото",desc_ru:""},{mask:"+370(###)##-###",cc:"LT",name_en:"Lithuania",desc_en:"",name_ru:"Литва",desc_ru:""},{mask:"+352(###)###-###",cc:"LU",name_en:"Luxembourg",desc_en:"",name_ru:"Люксембург",desc_ru:""},{mask:"+371-##-###-###",cc:"LV",name_en:"Latvia",desc_en:"",name_ru:"Латвия",desc_ru:""},{mask:"+218-##-###-###",cc:"LY",name_en:"Libya",desc_en:"",name_ru:"Ливия",desc_ru:""},{mask:"+218-21-###-####",cc:"LY",name_en:"Libya",desc_en:"Tripoli",name_ru:"Ливия",desc_ru:"Триполи"},{mask:"+212-##-####-###",cc:"MA",name_en:"Morocco",desc_en:"",name_ru:"Марокко",desc_ru:""},{mask:"+377(###)###-###",cc:"MC",name_en:"Monaco",desc_en:"",name_ru:"Монако",desc_ru:""},{mask:"+377-##-###-###",cc:"MC",name_en:"Monaco",desc_en:"",name_ru:"Монако",desc_ru:""},{mask:"+373-####-####",cc:"MD",name_en:"Moldova",desc_en:"",name_ru:"Молдова",desc_ru:""},{mask:"+382-##-###-###",cc:"ME",name_en:"Montenegro",desc_en:"",name_ru:"Черногория",desc_ru:""},{mask:"+261-##-##-#####",cc:"MG",name_en:"Madagascar",desc_en:"",name_ru:"Мадагаскар",desc_ru:""},{mask:"+692-###-####",cc:"MH",name_en:"Marshall Islands",desc_en:"",name_ru:"Маршалловы Острова",desc_ru:""},{mask:"+389-##-###-###",cc:"MK",name_en:"Republic of Macedonia",desc_en:"",name_ru:"Респ. Македония",desc_ru:""},{mask:"+223-##-##-####",cc:"ML",name_en:"Mali",desc_en:"",name_ru:"Мали",desc_ru:""},{mask:"+95-##-###-###",cc:"MM",name_en:"Burma (Myanmar)",desc_en:"",name_ru:"Бирма (Мьянма)",desc_ru:""},{mask:"+95-#-###-###",cc:"MM",name_en:"Burma (Myanmar)",desc_en:"",name_ru:"Бирма (Мьянма)",desc_ru:""},{mask:"+95-###-###",cc:"MM",name_en:"Burma (Myanmar)",desc_en:"",name_ru:"Бирма (Мьянма)",desc_ru:""},{mask:"+976-##-##-####",cc:"MN",name_en:"Mongolia",desc_en:"",name_ru:"Монголия",desc_ru:""},{mask:"+853-####-####",cc:"MO",name_en:"Macau",desc_en:"",name_ru:"Макао",desc_ru:""},{mask:"+1(670)###-####",cc:"MP",name_en:"Northern Mariana Islands",desc_en:"",name_ru:"Северные Марианские острова Сайпан",desc_ru:""},{mask:"+596(###)##-##-##",cc:"MQ",name_en:"Martinique",desc_en:"",name_ru:"Мартиника",desc_ru:""},{mask:"+222-##-##-####",cc:"MR",name_en:"Mauritania",desc_en:"",name_ru:"Мавритания",desc_ru:""},{mask:"+1(664)###-####",cc:"MS",name_en:"Montserrat",desc_en:"",name_ru:"Монтсеррат",desc_ru:""},{mask:"+356-####-####",cc:"MT",name_en:"Malta",desc_en:"",name_ru:"Мальта",desc_ru:""},{mask:"+230-###-####",cc:"MU",name_en:"Mauritius",desc_en:"",name_ru:"Маврикий",desc_ru:""},{mask:"+960-###-####",cc:"MV",name_en:"Maldives",desc_en:"",name_ru:"Мальдивские острова",desc_ru:""},{mask:"+265-1-###-###",cc:"MW",name_en:"Malawi",desc_en:"Telecom Ltd",name_ru:"Малави",desc_ru:"Telecom Ltd"},{mask:"+265-#-####-####",cc:"MW",name_en:"Malawi",desc_en:"",name_ru:"Малави",desc_ru:""},{mask:"+52(###)###-####",cc:"MX",name_en:"Mexico",desc_en:"",name_ru:"Мексика",desc_ru:""},{mask:"+52-##-##-####",cc:"MX",name_en:"Mexico",desc_en:"",name_ru:"Мексика",desc_ru:""},{mask:"+60-##-###-####",cc:"MY",name_en:"Malaysia ",desc_en:"mobile",name_ru:"Малайзия ",desc_ru:"мобильные"},{mask:"+60(###)###-###",cc:"MY",name_en:"Malaysia",desc_en:"",name_ru:"Малайзия",desc_ru:""},{mask:"+60-##-###-###",cc:"MY",name_en:"Malaysia",desc_en:"",name_ru:"Малайзия",desc_ru:""},{mask:"+60-#-###-###",cc:"MY",name_en:"Malaysia",desc_en:"",name_ru:"Малайзия",desc_ru:""},{mask:"+258-##-###-###",cc:"MZ",name_en:"Mozambique",desc_en:"",name_ru:"Мозамбик",desc_ru:""},{mask:"+264-##-###-####",cc:"NA",name_en:"Namibia",desc_en:"",name_ru:"Намибия",desc_ru:""},{mask:"+687-##-####",cc:"NC",name_en:"New Caledonia",desc_en:"",name_ru:"Новая Каледония",desc_ru:""},{mask:"+227-##-##-####",cc:"NE",name_en:"Niger",desc_en:"",name_ru:"Нигер",desc_ru:""},{mask:"+672-3##-###",cc:"NF",name_en:"Norfolk Island",desc_en:"",name_ru:"Норфолк (остров)",desc_ru:""},{mask:"+234(###)###-####",cc:"NG",name_en:"Nigeria",desc_en:"",name_ru:"Нигерия",desc_ru:""},{mask:"+234-##-###-###",cc:"NG",name_en:"Nigeria",desc_en:"",name_ru:"Нигерия",desc_ru:""},{mask:"+234-##-###-##",cc:"NG",name_en:"Nigeria",desc_en:"",name_ru:"Нигерия",desc_ru:""},{mask:"+234(###)###-####",cc:"NG",name_en:"Nigeria ",desc_en:"mobile",name_ru:"Нигерия ",desc_ru:"мобильные"},{mask:"+505-####-####",cc:"NI",name_en:"Nicaragua",desc_en:"",name_ru:"Никарагуа",desc_ru:""},{mask:"+31-##-###-####",cc:"NL",name_en:"Netherlands",desc_en:"",name_ru:"Нидерланды",desc_ru:""},{mask:"+47(###)##-###",cc:"NO",name_en:"Norway",desc_en:"",name_ru:"Норвегия",desc_ru:""},{mask:"+977-##-###-###",cc:"NP",name_en:"Nepal",desc_en:"",name_ru:"Непал",desc_ru:""},{mask:"+674-###-####",cc:"NR",name_en:"Nauru",desc_en:"",name_ru:"Науру",desc_ru:""},{mask:"+683-####",cc:"NU",name_en:"Niue",desc_en:"",name_ru:"Ниуэ",desc_ru:""},{mask:"+64(###)###-###",cc:"NZ",name_en:"New Zealand",desc_en:"",name_ru:"Новая Зеландия",desc_ru:""},{mask:"+64-##-###-###",cc:"NZ",name_en:"New Zealand",desc_en:"",name_ru:"Новая Зеландия",desc_ru:""},{mask:"+64(###)###-####",cc:"NZ",name_en:"New Zealand",desc_en:"",name_ru:"Новая Зеландия",desc_ru:""},{mask:"+968-##-###-###",cc:"OM",name_en:"Oman",desc_en:"",name_ru:"Оман",desc_ru:""},{mask:"+507-###-####",cc:"PA",name_en:"Panama",desc_en:"",name_ru:"Панама",desc_ru:""},{mask:"+51(###)###-###",cc:"PE",name_en:"Peru",desc_en:"",name_ru:"Перу",desc_ru:""},{mask:"+689-##-##-##",cc:"PF",name_en:"French Polynesia",desc_en:"",name_ru:"Французская Полинезия (Таити)",desc_ru:""},{mask:"+675(###)##-###",cc:"PG",name_en:"Papua New Guinea",desc_en:"",name_ru:"Папуа-Новая Гвинея",desc_ru:""},{mask:"+63(###)###-####",cc:"PH",name_en:"Philippines",desc_en:"",name_ru:"Филиппины",desc_ru:""},{mask:"+92(###)###-####",cc:"PK",name_en:"Pakistan",desc_en:"",name_ru:"Пакистан",desc_ru:""},{mask:"+48(###)###-###",cc:"PL",name_en:"Poland",desc_en:"",name_ru:"Польша",desc_ru:""},{mask:"+970-##-###-####",cc:"PS",name_en:"Palestine",desc_en:"",name_ru:"Палестина",desc_ru:""},{mask:"+351-##-###-####",cc:"PT",name_en:"Portugal",desc_en:"",name_ru:"Португалия",desc_ru:""},{mask:"+680-###-####",cc:"PW",name_en:"Palau",desc_en:"",name_ru:"Палау",desc_ru:""},{mask:"+595(###)###-###",cc:"PY",name_en:"Paraguay",desc_en:"",name_ru:"Парагвай",desc_ru:""},{mask:"+974-####-####",cc:"QA",name_en:"Qatar",desc_en:"",name_ru:"Катар",desc_ru:""},{mask:"+262-#####-####",cc:"RE",name_en:"Reunion",desc_en:"",name_ru:"Реюньон",desc_ru:""},{mask:"+40-##-###-####",cc:"RO",name_en:"Romania",desc_en:"",name_ru:"Румыния",desc_ru:""},{mask:"+381-##-###-####",cc:"RS",name_en:"Serbia",desc_en:"",name_ru:"Сербия",desc_ru:""},{mask:"+7(###)###-##-##",cc:"RU",name_en:"Russia",desc_en:"",name_ru:"Россия",desc_ru:""},{mask:"+250(###)###-###",cc:"RW",name_en:"Rwanda",desc_en:"",name_ru:"Руанда",desc_ru:""},{mask:"+966-5-####-####",cc:"SA",name_en:"Saudi Arabia ",desc_en:"mobile",name_ru:"Саудовская Аравия ",desc_ru:"мобильные"},{mask:"+966-#-###-####",cc:"SA",name_en:"Saudi Arabia",desc_en:"",name_ru:"Саудовская Аравия",desc_ru:""},{mask:"+677-###-####",cc:"SB",name_en:"Solomon Islands ",desc_en:"mobile",name_ru:"Соломоновы Острова ",desc_ru:"мобильные"},{mask:"+677-#####",cc:"SB",name_en:"Solomon Islands",desc_en:"",name_ru:"Соломоновы Острова",desc_ru:""},{mask:"+248-#-###-###",cc:"SC",name_en:"Seychelles",desc_en:"",name_ru:"Сейшелы",desc_ru:""},{mask:"+249-##-###-####",cc:"SD",name_en:"Sudan",desc_en:"",name_ru:"Судан",desc_ru:""},{mask:"+46-##-###-####",cc:"SE",name_en:"Sweden",desc_en:"",name_ru:"Швеция",desc_ru:""},{mask:"+65-####-####",cc:"SG",name_en:"Singapore",desc_en:"",name_ru:"Сингапур",desc_ru:""},{mask:"+290-####",cc:"SH",name_en:"Saint Helena",desc_en:"",name_ru:"Остров Святой Елены",desc_ru:""},{mask:"+290-####",cc:"SH",name_en:"Tristan da Cunha",desc_en:"",name_ru:"Тристан-да-Кунья",desc_ru:""},{mask:"+386-##-###-###",cc:"SI",name_en:"Slovenia",desc_en:"",name_ru:"Словения",desc_ru:""},{mask:"+421(###)###-###",cc:"SK",name_en:"Slovakia",desc_en:"",name_ru:"Словакия",desc_ru:""},{mask:"+232-##-######",cc:"SL",name_en:"Sierra Leone",desc_en:"",name_ru:"Сьерра-Леоне",desc_ru:""},{mask:"+378-####-######",cc:"SM",name_en:"San Marino",desc_en:"",name_ru:"Сан-Марино",desc_ru:""},{mask:"+221-##-###-####",cc:"SN",name_en:"Senegal",desc_en:"",name_ru:"Сенегал",desc_ru:""},{mask:"+252-##-###-###",cc:"SO",name_en:"Somalia",desc_en:"",name_ru:"Сомали",desc_ru:""},{mask:"+252-#-###-###",cc:"SO",name_en:"Somalia",desc_en:"",name_ru:"Сомали",desc_ru:""},{mask:"+252-#-###-###",cc:"SO",name_en:"Somalia ",desc_en:"mobile",name_ru:"Сомали ",desc_ru:"мобильные"},{mask:"+597-###-####",cc:"SR",name_en:"Suriname ",desc_en:"mobile",name_ru:"Суринам ",desc_ru:"мобильные"},{mask:"+597-###-###",cc:"SR",name_en:"Suriname",desc_en:"",name_ru:"Суринам",desc_ru:""},{mask:"+211-##-###-####",cc:"SS",name_en:"South Sudan",desc_en:"",name_ru:"Южный Судан",desc_ru:""},{mask:"+239-##-#####",cc:"ST",name_en:"Sao Tome and Principe",desc_en:"",name_ru:"Сан-Томе и Принсипи",desc_ru:""},{mask:"+503-##-##-####",cc:"SV",name_en:"El Salvador",desc_en:"",name_ru:"Сальвадор",desc_ru:""},{mask:"+1(721)###-####",cc:"SX",name_en:"Sint Maarten",desc_en:"",name_ru:"Синт-Маартен",desc_ru:""},{mask:"+963-##-####-###",cc:"SY",name_en:"Syrian Arab Republic",desc_en:"",name_ru:"Сирийская арабская республика",desc_ru:""},{mask:"+268-##-##-####",cc:"SZ",name_en:"Swaziland",desc_en:"",name_ru:"Свазиленд",desc_ru:""},{mask:"+1(649)###-####",cc:"TC",name_en:"Turks & Caicos",desc_en:"",name_ru:"Тёркс и Кайкос",desc_ru:""},{mask:"+235-##-##-##-##",cc:"TD",name_en:"Chad",desc_en:"",name_ru:"Чад",desc_ru:""},{mask:"+228-##-###-###",cc:"TG",name_en:"Togo",desc_en:"",name_ru:"Того",desc_ru:""},{mask:"+66-##-###-####",cc:"TH",name_en:"Thailand ",desc_en:"mobile",name_ru:"Таиланд ",desc_ru:"мобильные"},{mask:"+66-##-###-###",cc:"TH",name_en:"Thailand",desc_en:"",name_ru:"Таиланд",desc_ru:""},{mask:"+992-##-###-####",cc:"TJ",name_en:"Tajikistan",desc_en:"",name_ru:"Таджикистан",desc_ru:""},{mask:"+690-####",cc:"TK",name_en:"Tokelau",desc_en:"",name_ru:"Токелау",desc_ru:""},{mask:"+670-###-####",cc:"TL",name_en:"East Timor",desc_en:"",name_ru:"Восточный Тимор",desc_ru:""},{mask:"+670-77#-#####",cc:"TL",name_en:"East Timor",desc_en:"Timor Telecom",name_ru:"Восточный Тимор",desc_ru:"Timor Telecom"},{mask:"+670-78#-#####",cc:"TL",name_en:"East Timor",desc_en:"Timor Telecom",name_ru:"Восточный Тимор",desc_ru:"Timor Telecom"},{mask:"+993-#-###-####",cc:"TM",name_en:"Turkmenistan",desc_en:"",name_ru:"Туркменистан",desc_ru:""},{mask:"+216-##-###-###",cc:"TN",name_en:"Tunisia",desc_en:"",name_ru:"Тунис",desc_ru:""},{mask:"+676-#####",cc:"TO",name_en:"Tonga",desc_en:"",name_ru:"Тонга",desc_ru:""},{mask:"+90(###)###-####",cc:"TR",name_en:"Turkey",desc_en:"",name_ru:"Турция",desc_ru:""},{mask:"+1(868)###-####",cc:"TT",name_en:"Trinidad & Tobago",desc_en:"",name_ru:"Тринидад и Тобаго",desc_ru:""},{mask:"+688-90####",cc:"TV",name_en:"Tuvalu ",desc_en:"mobile",name_ru:"Тувалу ",desc_ru:"мобильные"},{mask:"+688-2####",cc:"TV",name_en:"Tuvalu",desc_en:"",name_ru:"Тувалу",desc_ru:""},{mask:"+886-#-####-####",cc:"TW",name_en:"Taiwan",desc_en:"",name_ru:"Тайвань",desc_ru:""},{mask:"+886-####-####",cc:"TW",name_en:"Taiwan",desc_en:"",name_ru:"Тайвань",desc_ru:""},{mask:"+255-##-###-####",cc:"TZ",name_en:"Tanzania",desc_en:"",name_ru:"Танзания",desc_ru:""},{mask:"+380(##)###-##-##",cc:"UA",name_en:"Ukraine",desc_en:"",name_ru:"Украина",desc_ru:""},{mask:"+256(###)###-###",cc:"UG",name_en:"Uganda",desc_en:"",name_ru:"Уганда",desc_ru:""},{mask:"+44-##-####-####",cc:"UK",name_en:"United Kingdom",desc_en:"",name_ru:"Великобритания",desc_ru:""},{mask:"+598-#-###-##-##",cc:"UY",name_en:"Uruguay",desc_en:"",name_ru:"Уругвай",desc_ru:""},{mask:"+998-##-###-####",cc:"UZ",name_en:"Uzbekistan",desc_en:"",name_ru:"Узбекистан",desc_ru:""},{mask:"+39-6-698-#####",cc:"VA",name_en:"Vatican City",desc_en:"",name_ru:"Ватикан",desc_ru:""},{mask:"+1(784)###-####",cc:"VC",name_en:"Saint Vincent & the Grenadines",desc_en:"",name_ru:"Сент-Винсент и Гренадины",desc_ru:""},{mask:"+58(###)###-####",cc:"VE",name_en:"Venezuela",desc_en:"",name_ru:"Венесуэла",desc_ru:""},{mask:"+1(284)###-####",cc:"VG",name_en:"British Virgin Islands",desc_en:"",name_ru:"Британские Виргинские острова",desc_ru:""},{mask:"+1(340)###-####",cc:"VI",name_en:"US Virgin Islands",desc_en:"",name_ru:"Американские Виргинские острова",desc_ru:""},{mask:"+84-##-####-###",cc:"VN",name_en:"Vietnam",desc_en:"",name_ru:"Вьетнам",desc_ru:""},{mask:"+84(###)####-###",cc:"VN",name_en:"Vietnam",desc_en:"",name_ru:"Вьетнам",desc_ru:""},{mask:"+678-##-#####",cc:"VU",name_en:"Vanuatu ",desc_en:"mobile",name_ru:"Вануату ",desc_ru:"мобильные"},{mask:"+678-#####",cc:"VU",name_en:"Vanuatu",desc_en:"",name_ru:"Вануату",desc_ru:""},{mask:"+681-##-####",cc:"WF",name_en:"Wallis and Futuna",desc_en:"",name_ru:"Уоллис и Футуна",desc_ru:""},{mask:"+685-##-####",cc:"WS",name_en:"Samoa",desc_en:"",name_ru:"Самоа",desc_ru:""},{mask:"+967-###-###-###",cc:"YE",name_en:"Yemen ",desc_en:"mobile",name_ru:"Йемен ",desc_ru:"мобильные"},{mask:"+967-#-###-###",cc:"YE",name_en:"Yemen",desc_en:"",name_ru:"Йемен",desc_ru:""},{mask:"+967-##-###-###",cc:"YE",name_en:"Yemen",desc_en:"",name_ru:"Йемен",desc_ru:""},{mask:"+27-##-###-####",cc:"ZA",name_en:"South Africa",desc_en:"",name_ru:"Южно-Африканская Респ.",desc_ru:""},{mask:"+260-##-###-####",cc:"ZM",name_en:"Zambia",desc_en:"",name_ru:"Замбия",desc_ru:""},{mask:"+263-#-######",cc:"ZW",name_en:"Zimbabwe",desc_en:"",name_ru:"Зимбабве",desc_ru:""},{mask:"+1(###)###-####",cc:["US","CA"],name_en:"USA and Canada",desc_en:"",name_ru:"США и Канада",desc_ru:""}];if(function(e){null==e.fn.inputmask&&(e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,showMaskOnHover:!0,numericInput:!1,radixPoint:".",definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,46,91,93,108]},val:e.fn.val},e.fn.inputmask=function(t,n){var i=e.extend(!0,{},e.inputmask.defaults,n),a=function(e){var t=document.createElement("input"),n=(e="on"+e)in t;n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]);return t=null,n}("paste")?"paste":"input",o=null!=navigator.userAgent.match(/iphone/i),s=null!=navigator.userAgent.match(/android.*mobile safari.*/i);if(s){var r=navigator.userAgent.match(/mobile safari.*/i),l=parseInt(new RegExp(/[0-9]+/).exec(r));s=l<=533}if("string"==typeof t)switch(t){case"mask":var c=h(),d=p();return this.each((function(){M(this)}));case"unmaskedvalue":d=this.data("inputmask").tests,c=this.data("inputmask")._buffer;return i.greedy=this.data("inputmask").greedy,i.repeat=this.data("inputmask").repeat,i.definitions=this.data("inputmask").definitions,L(this);case"remove":return this.each((function(){var t=e(this),n=this;setTimeout((function(){var e;t.data("inputmask")&&(d=t.data("inputmask").tests,c=t.data("inputmask")._buffer,i.greedy=t.data("inputmask").greedy,i.repeat=t.data("inputmask").repeat,i.definitions=t.data("inputmask").definitions,n._valueSet(L(t,!0)),t.removeData("inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask"),Object.getOwnPropertyDescriptor&&(e=Object.getOwnPropertyDescriptor(n,"value")),e&&e.get?n._valueGet&&Object.defineProperty(n,"value",{get:n._valueGet,set:n._valueSet}):document.__lookupGetter__&&n.__lookupGetter__("value")&&n._valueGet&&(n.__defineGetter__("value",n._valueGet),n.__defineSetter__("value",n._valueSet)),delete n._valueGet,delete n._valueSet)}),0)}));case"getemptymask":return this.data("inputmask")?this.data("inputmask")._buffer.join(""):"";case"hasMaskedValue":return!!this.data("inputmask")&&!this.data("inputmask").autoUnmask;default:u(t)||(i.mask=t);c=h(),d=p();return this.each((function(){M(this)}))}if("object"==typeof t){u((i=e.extend(!0,{},e.inputmask.defaults,t)).alias);c=h(),d=p();return this.each((function(){M(this)}))}function u(t){var a=i.aliases[t];return!!a&&(a.alias&&u(a.alias),e.extend(!0,i,a),e.extend(!0,i,n),!0)}function h(){var t=!1,n=0;1==i.mask.length&&0==i.greedy&&(i.placeholder="");for(var a=e.map(i.mask.split(""),(function(e,a){var o=[];if(e==i.escapeChar)t=!0;else if(e!=i.optionalmarker.start&&e!=i.optionalmarker.end||t){var s=i.definitions[e];if(s&&!t)for(var r=0;r<s.cardinality;r++)o.push(g(n+r));else o.push(e),t=!1;return n+=o.length,o}})),o=a.slice(),s=1;s<i.repeat&&i.greedy;s++)o=o.concat(a.slice());return o}function p(){var t=!1,n=!1,a=!1;return e.map(i.mask.split(""),(function(e,o){var s=[];if(e==i.escapeChar)n=!0;else if(e!=i.optionalmarker.start||n){if(e!=i.optionalmarker.end||n){var r=i.definitions[e];if(r&&!n){for(var l=r.prevalidator,c=l?l.length:0,d=1;d<r.cardinality;d++){var u=c>=d?l[d-1]:[],h=u.validator,p=u.cardinality;s.push({fn:h?"string"==typeof h?new RegExp(h):new function(){this.test=h}:new RegExp("."),cardinality:p||1,optionality:t,newBlockMarker:1==t&&a,offset:0,casing:r.casing,def:e}),1==t&&(a=!1)}s.push({fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:t,newBlockMarker:a,offset:0,casing:r.casing,def:e})}else s.push({fn:null,cardinality:0,optionality:t,newBlockMarker:a,offset:0,casing:null,def:e}),n=!1;return a=!1,s}t=!1,a=!0}else t=!0,a=!0}))}function m(e,t,n,a){if(e<0||e>=v())return!1;for(var o=_(e),s=t?1:0,r="",l=d[o].cardinality;l>s;l--)r+=b(n,o-(l-1));return t&&(r+=t),null!=d[o].fn&&d[o].fn.test(r,n,e,a,i)}function f(e){var t=_(e),n=d[t];return null!=n&&n.fn}function _(e){return e%d.length}function g(e){return i.placeholder.charAt(e%i.placeholder.length)}function v(){var e=c.length;return!i.greedy&&i.repeat>1&&(e+=c.length*(i.repeat-1)),e}function y(e,t){var n=v();if(t>=n)return n;for(var i=t;++i<n&&!f(i););return i}function w(e,t){var n=t;if(n<=0)return 0;for(;--n>0&&!f(n););return n}function k(e,t,n){var i=d[_(t)],a=n;if(null!=a)switch(i.casing){case"upper":a=n.toUpperCase();break;case"lower":a=n.toLowerCase()}e[t]=a}function b(e,t,n){return n&&(t=$(e,t)),e[t]}function $(e,t,n){var i;if(n)for(;t<0&&e.length<v();)for(i=c.length-1,t=c.length;void 0!==c[i];)e.unshift(c[i--]);else for(;null==e[t]&&e.length<v();)for(i=0;void 0!==c[i];)e.push(c[i++]);return t}function C(e,t,n){e._valueSet(t.join("")),null!=n&&(s?setTimeout((function(){T(e,n)}),100):T(e,n))}function S(e,t,n){for(var i=t,a=v();i<n&&i<a;i++)k(e,i,b(c.slice(),i))}function x(e,t){var n=_(t);k(e,t,b(c,n))}function E(t,n,a,o){var s=e(t).data("inputmask").isRTL,r=A(t._valueGet(),s).split("");if(s){var l=v(),u=r.reverse();u.length=l;for(var h=0;h<l;h++){var p=_(l-(h+1));null==d[p].fn&&u[h]!=b(c,p)?(u.splice(h,0,b(c,p)),u.length=l):u[h]=u[h]||b(c,p)}r=u.reverse()}S(n,0,n.length),n.length=c.length;var w,$=-1,E=-1,P=(l=v(),r.length),D=0==P?l:-1;for(h=0;h<P;h++)for(var L=E+1;L<l;L++){if(f(L)){var T=r[h];!1!==(w=m(L,T,n,!a))?(!0!==w&&(L=w.pos||L,T=w.c||T),k(n,L,T),$=E=L):(x(n,L),T==g(L)&&(E=L,D=L));break}if(x(n,L),$==E&&($=L),E=L,r[h]==b(n,L))break}if(0==i.greedy)for(var M=A(n.join(""),s).split("");n.length!=M.length;)s?n.shift():n.pop();return a&&C(t,n),s?i.numericInput?-1!=e.inArray(i.radixPoint,n)&&!0!==o?e.inArray(i.radixPoint,n):y(0,l):y(0,D):y(0,$)}function P(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","gim"),"\\$1")}function A(e,t){return t?e.replace(new RegExp("^("+P(c.join(""))+")*"),""):e.replace(new RegExp("("+P(c.join(""))+")*$"),"")}function D(t,n){E(t,n,!1);var i=n.slice();if(e(t).data("inputmask").isRTL)for(var a=0;a<=i.length-1;a++){var o=_(a);if(!d[o].optionality)break;if(g(a)!=n[a]&&f(a))break;i.splice(0,1)}else for(a=i.length-1;a>=0;a--){o=_(a);if(!d[o].optionality)break;if(g(a)!=n[a]&&f(a))break;i.pop()}C(t,i)}function L(t,n){var i=t[0];if(!d||!0!==n&&t.hasClass("hasDatepicker"))return i._valueGet();var a=c.slice();return E(i,a),e.map(a,(function(e,t){return f(t)&&e!=b(c.slice(),t)?e:null})).join("")}function T(e,t,n){var a=e.jquery&&e.length>0?e[0]:e;if("number"!=typeof t){var o=s?r:null,r=null;if(null==o){if(a.setSelectionRange)t=a.selectionStart,n=a.selectionEnd;else if(document.selection&&document.selection.createRange){n=(t=0-(l=document.selection.createRange()).duplicate().moveStart("character",-1e5))+l.text.length}o={begin:t,end:n}}return o}if(n="number"==typeof n?n:t,0==i.insertMode&&t==n&&n++,a.setSelectionRange)a.setSelectionRange(t,n);else if(a.createTextRange){var l;(l=a.createTextRange()).collapse(!0),l.moveEnd("character",n),l.moveStart("character",t),l.select()}a.focus(),s&&n!=a.selectionEnd&&(r={begin:t,end:n})}function M(t){var n=e(t);if(n.is(":input")){i.greedy=i.greedy?i.greedy:0==i.repeat;var r=n.prop("maxLength");v()>r&&r>-1&&(r<c.length&&(c.length=r),0==i.greedy&&(i.repeat=Math.round(r/c.length))),n.prop("maxLength",2*v()),n.data("inputmask",{tests:d,_buffer:c,greedy:i.greedy,repeat:i.repeat,autoUnmask:i.autoUnmask,definitions:i.definitions,isRTL:!1}),function(t){var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value"));n&&n.get?t._valueGet||(t._valueGet=n.get,t._valueSet=n.set,Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("inputmask");return n&&n.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=n._buffer.join("")?this._valueGet():""},set:function(t){this._valueSet(t),e(this).triggerHandler("setvalue.inputmask")}})):document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(t._valueGet=t.__lookupGetter__("value"),t._valueSet=t.__lookupSetter__("value"),t.__defineGetter__("value",(function(){var t=e(this),n=e(this).data("inputmask");return n&&n.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=n._buffer.join("")?this._valueGet():""})),t.__defineSetter__("value",(function(t){this._valueSet(t),e(this).triggerHandler("setvalue.inputmask")}))):(t._valueGet||(t._valueGet=function(){return this.value},t._valueSet=function(e){this.value=e}),1!=e.fn.val.inputmaskpatch&&(e.fn.val=function(){if(0==arguments.length){var t=e(this);if(t.data("inputmask")){if(t.data("inputmask").autoUnmask)return t.inputmask("unmaskedvalue");var n=e.inputmask.val.apply(t);return n!=t.data("inputmask")._buffer.join("")?n:""}return e.inputmask.val.apply(t)}var i=arguments;return this.each((function(){var t=e(this),n=e.inputmask.val.apply(t,i);return t.data("inputmask")&&t.triggerHandler("setvalue.inputmask"),n}))},e.extend(e.fn.val,{inputmaskpatch:!0})))}(t);var l,u,h,p=c.slice(),P=t._valueGet(),L=!1,M=!1,N=-1,I=y(0,-1),R=(w(0,v()),!1);if("rtl"==t.dir||i.numericInput){t.dir="ltr",n.css("text-align","right"),n.removeAttr("dir");var z=n.data("inputmask");z.isRTL=!0,n.data("inputmask",z),R=!0}n.unbind(".inputmask"),n.removeClass("focus.inputmask"),n.bind("mouseenter.inputmask",(function(){if(!e(this).hasClass("focus.inputmask")&&i.showMaskOnHover){var t=this._valueGet().length;t<p.length&&(0==t&&(p=c.slice()),C(this,p))}})).bind("blur.inputmask",(function(){var t=e(this),n=this,a=n._valueGet();t.removeClass("focus.inputmask"),a!=P&&t.change(),i.clearMaskOnLostFocus&&(a==c.join("")?n._valueSet(""):D(n,p)),F(n)||(t.trigger("incomplete"),i.clearIncomplete&&(i.clearMaskOnLostFocus?n._valueSet(""):C(n,p=c.slice())))})).bind("focus.inputmask",(function(){var t=e(this),n=this;if(!t.hasClass("focus.inputmask")&&!i.showMaskOnHover){var a=n._valueGet().length;a<p.length&&(0==a&&(p=c.slice()),T(n,E(n,p,!0)))}t.addClass("focus.inputmask"),P=n._valueGet()})).bind("mouseleave.inputmask",(function(){var t=e(this),n=this;i.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||(n._valueGet()==c.join("")||""==n._valueGet()?n._valueSet(""):D(n,p)))})).bind("click.inputmask",(function(){var e=this;setTimeout((function(){var t=T(e);if(t.begin==t.end){var n=t.begin;N=E(e,p,!1),T(e,R?n>N&&(!1!==m(n,p[n],p,!0)||!f(n))?n:N:n<N&&(!1!==m(n,p[n],p,!0)||!f(n))?n:N)}}),0)})).bind("dblclick.inputmask",(function(){var e=this;setTimeout((function(){T(e,0,N)}),0)})).bind("keydown.inputmask",(function(t){L=!1;var n=this,a=t.keyCode,s=T(n);if(i.numericInput){var r=n._valueGet().indexOf(i.radixPoint);-1!=r&&(R=s.begin<=r||s.end<=r)}if(a==i.keyCode.BACKSPACE||a==i.keyCode.DELETE||o&&127==a){var l=v();if(0==s.begin&&s.end==l)p=c.slice(),C(n,p),T(n,E(n,p,!1));else if(s.end-s.begin>1||s.end-s.begin==1&&i.insertMode)S(p,s.begin,s.end),C(n,p,R?E(n,p,!1):s.begin);else{var d=s.begin-(a==i.keyCode.DELETE?0:1);d<I&&a==i.keyCode.DELETE&&(d=I),d>=I&&(i.numericInput&&i.greedy&&a==i.keyCode.DELETE&&p[d]==i.radixPoint&&(d=y(0,d),R=!1),R?(d=j(I,d,g(d),!0),d=i.numericInput&&i.greedy&&a==i.keyCode.BACKSPACE&&p[d+1]==i.radixPoint?d+1:y(0,d)):d=O(d,l),C(n,p,d))}return n._valueGet()==c.join("")&&e(n).trigger("cleared"),!1}if(a==i.keyCode.END||a==i.keyCode.PAGE_DOWN)return setTimeout((function(){var e=E(n,p,!1,!0);i.insertMode||e!=v()||t.shiftKey||e--,T(n,t.shiftKey?s.begin:e,e)}),0),!1;if(a==i.keyCode.HOME||a==i.keyCode.PAGE_UP)return T(n,0,t.shiftKey?s.begin:0),!1;if(a==i.keyCode.ESCAPE)return n._valueSet(P),T(n,0,E(n,p)),!1;if(a==i.keyCode.INSERT)return i.insertMode=!i.insertMode,T(n,i.insertMode||s.begin!=v()?s.begin:s.begin-1),!1;if(t.ctrlKey&&88==a)setTimeout((function(){T(n,E(n,p,!0))}),0);else if(!i.insertMode){if(a==i.keyCode.RIGHT)return u=(u=s.begin==s.end?s.end+1:s.end)<v()?u:s.end,T(n,t.shiftKey?s.begin:u,t.shiftKey?u+1:u),!1;if(a==i.keyCode.LEFT){var u=s.begin-1;return T(n,u=u>0?u:0,t.shiftKey?s.end:u),!1}}i.onKeyDown.call(this,t,i),M=-1!=e.inArray(a,i.ignorables)})).bind("keypress.inputmask",(function(t){if(L)return!1;L=!0;var n=this,a=e(n),o=(t=t||window.event).which||t.charCode||t.keyCode;if(i.numericInput&&o==i.radixPoint.charCodeAt(i.radixPoint.length-1)){var r=n._valueGet().indexOf(i.radixPoint);T(n,y(0,-1!=r?r:v()))}if(t.ctrlKey||t.altKey||t.metaKey||M)return!0;if(o){a.trigger("input");var l=T(n),c=String.fromCharCode(o),d=v();if(S(p,l.begin,l.end),R){if(!1!==(_=m((x=i.numericInput?l.end:w(0,l.end))==d||b(p,x)==i.radixPoint?w(0,x):x,c,p,!1))){!0!==_&&(x=_.pos||l,c=_.c||c);var u=I;if(1==i.insertMode){if(1==i.greedy)for(var h=p.slice();b(h,u,!0)!=g(u)&&u<=x;)u=u==d?d+1:y(0,u);if(!(u<=x&&(i.greedy||p.length<d)))return!1;if(p[I]!=g(I)&&p.length<d){var f=$(p,-1,R);0!=l.end&&(x+=f),d=p.length}O(u,i.numericInput?w(0,x):x,c)}else k(p,i.numericInput?w(0,x):x,c);C(n,p,i.numericInput&&0==x?y(0,x):x),setTimeout((function(){F(n)&&a.trigger("complete")}),0)}else s&&C(n,p,l.begin)}else{var _,x=y(0,l.begin-1);if($(p,x,R),!1!==(_=m(x,c,p,!1))){if(!0!==_&&(x=_.pos||x,c=_.c||c),1==i.insertMode){var E=v();for(h=p.slice();b(h,E,!0)!=g(E)&&E>=x;)E=0==E?-1:w(0,E);if(!(E>=x))return!1;j(x,p.length,c)}else k(p,x,c);var P=y(0,x);C(n,p,P),setTimeout((function(){F(n)&&a.trigger("complete")}),0)}else s&&C(n,p,l.begin)}return!1}})).bind("keyup.inputmask",(function(t){var n=e(this),a=this,o=t.keyCode;i.onKeyUp.call(this,t,i),o==i.keyCode.TAB&&n.hasClass("focus.inputmask")&&0==a._valueGet().length&&(C(a,p=c.slice()),R||T(a,0),P=a._valueGet())})).bind(a+".inputmask, dragdrop.inputmask, drop.inputmask",(function(){var e=this;setTimeout((function(){T(e,E(e,p,!0))}),0)})).bind("setvalue.inputmask",(function(){var e=this;P=e._valueGet(),E(e,p,!0),e._valueGet()==c.join("")&&e._valueSet("")})).bind("complete.inputmask",i.oncomplete).bind("incomplete.inputmask",i.onincomplete).bind("cleared.inputmask",i.oncleared),N=E(t,p,!0);try{l=document.activeElement}catch(e){}l===t?(n.addClass("focus.inputmask"),T(t,N)):i.clearMaskOnLostFocus&&(t._valueGet()==c.join("")?t._valueSet(""):D(t,p)),u=t,h=e._data(u).events,e.each(h,(function(t,n){e(u).bind(t+".inputmask",(function(e){if(this.readOnly||this.disabled)return e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1}));for(var i=n[n.length-1],a=n.length-1;a>0;a--)n[a]=n[a-1];n[0]=i}))}function F(e){for(var t=!0,n=e._valueGet(),i=n.length,a=0;a<i;a++)if(f(a)&&n.charAt(a)==g(a)){t=!1;break}return t}function O(e,t,n){for(;!f(e)&&e-1>=0;)e--;for(var i=e;i<t&&i<v();i++)if(f(i)){x(p,i);var a=y(0,i),o=b(p,a);if(o!=g(a)){if(a<v()&&!1!==m(i,o,p,!0)&&d[_(i)].def==d[_(a)].def)k(p,i,b(p,a)),x(p,a);else if(f(i))break}else if(null==n)break}else x(p,i);return null!=n&&k(p,R?t:w(0,t),n),0==(p=A(p.join(""),R).split("")).length&&(p=c.slice()),e}function j(e,t,n,i){for(var a=e;a<=t&&a<v();a++)if(f(a)){var o=b(p,a);if(k(p,a,n),o!=g(a)){var s=y(0,a);if(!(s<v()))break;if(!1!==m(s,o,p,!0)&&d[_(a)].def==d[_(s)].def)n=o;else{if(f(s))break;n=o}}else if(!0!==i)break}else x(p,a);var r=p.length;return 0==(p=A(p.join(""),R).split("")).length&&(p=c.slice()),t-(r-p.length)}}})}(jQuery),function(e){var t=e.fn.jquery.split("."),n=parseInt(t[0]),i=parseInt(t[1]),a=n<1||1==n&&i<7;function o(t,n,i){var o=function(t){return a?t.data("events"):e._data(t[0]).events}(t),s=o[n];if(a)i?o.live.unshift(o.live.pop()):s.unshift(s.pop());else{var r=i?s.splice(s.delegateCount-1,1)[0]:s.pop();s.splice(i?0:s.delegateCount||0,0,r)}}function s(t,n,i){var a=n.split(/\s+/);t.each((function(){for(var t=0;t<a.length;++t){var n=e.trim(a[t]).match(/[^\.]+/i)[0];o(e(this),n,i)}}))}function r(t){e.fn[t+"First"]=function(){var n=e.makeArray(arguments).shift();return n&&(e.fn[t].apply(this,arguments),s(this,n)),this}}r("bind"),r("one"),e.fn.delegateFirst=function(){var t=e.makeArray(arguments),n=t[1];return n&&(t.splice(0,2),e.fn.delegate.apply(this,arguments),s(this,n,!0)),this},e.fn.liveFirst=function(){var t=e.makeArray(arguments);return t.unshift(this.selector),e.fn.delegateFirst.apply(e(document),t),this},a||(e.fn.onFirst=function(t,n){var i=e(this),a="string"==typeof n;if(e.fn.on.apply(i,arguments),"object"==typeof t)for(type in t)t.hasOwnProperty(type)&&s(i,type,a);else"string"==typeof t&&s(i,t,a);return i})}(jQuery),function(e){e.masksLoad=function(t){var n;return e.ajax({url:t,async:!1,dataType:"json",success:function(e){n=e}}),n},e.masksSort=function(t,n,i,a){return t.sort((function(t,o){for(var s=0,r=0;s<t[a].length&&r<o[a].length;){var l=t[a].charAt(s),c=o[a].charAt(r);if(i.test(l))if(i.test(c)){if(-1!=e.inArray(l,n)&&-1==e.inArray(c,n))return 1;if(-1==e.inArray(l,n)&&-1!=e.inArray(c,n))return-1;if(-1==e.inArray(l,n)&&-1==e.inArray(c,n)&&l!=c)return l<c?-1:1;s++,r++}else r++;else s++}for(;s<t[a].length||r<o[a].length;)if(s<t[a].length&&!i.test(t[a].charAt(s)))s++;else if(r<o[a].length&&!i.test(o[a].charAt(r)))r++;else{if(s<t[a].length)return 1;if(r<o[a].length)return-1}return 0})),t},e.fn.inputmasks=function(t,n){var i=function(e,t){if("number"!=typeof e){if(this.setSelectionRange)e=this.selectionStart,t=this.selectionEnd;else if(document.selection&&document.selection.createRange){t=(e=0-(n=document.selection.createRange()).duplicate().moveStart("character",-1e5))+n.text.length}return{begin:e,end:t}}if(t="number"==typeof t?t:e,this.setSelectionRange)this.setSelectionRange(e,t);else if(this.createTextRange){var n;(n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}},a=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)t[t.length]=n;return t};t=e.extend(!0,{onMaskChange:e.noop},t);var o={};for(var s in t.inputmask.definitions){var r=t.inputmask.definitions[s].validator;switch(typeof r){case"string":o[s]=new RegExp(r);break;case"object":"test"in t.definitions[s].validator&&(o[s]=r);break;case"function":o[s]={test:r}}}t.inputmask.definitions[t.replace]={validator:t.match.source,cardinality:1};var l=null!=navigator.userAgent.match(/iphone/i),c=!1,d=e.extend(!0,{},e.inputmask.defaults,t.inputmask).placeholder,u=e.extend(!0,{},e.inputmask.defaults,t.inputmask).insertMode,h=function(e){for(var n="",i=0;i<e.length;i++){var s=e.charAt(i);if(s==d)break;t.match.test(s)&&(n+=s)}for(var r in t.list){for(var l=t.list[r][t.listKey],c=!0,u=0,h=0;u<n.length&&h<l.length;){var p=l.charAt(h),m=n.charAt(u);if(t.match.test(p)||p in o){if(!(p in o&&o[p].test(m)||m==p)){c=!1;break}u++,h++}else h++}if(c&&u==n.length){var f=-1==l.substr(h).search(t.match),_=-1==(l=l.replace(new RegExp([t.match.source].concat(a(o)).join("|"),"g"),t.replace)).substr(h).search(t.replace);return{mask:l,obj:t.list[r],determined:f,completed:_}}}return!1},p=function(){e(this).unbind("keypress.inputmask",v).unbind("input.inputmask",b).unbind("paste.inputmask",b).unbind("dragdrop.inputmask",b).unbind("drop.inputmask",b).unbind("keydown.inputmask",g).unbind("setvalue.inputmask",w).unbind("blur.inputmask",y)},m=function(){p.call(this),e(this).bindFirst("keypress.inputmask",v).bindFirst("input.inputmask",b).bindFirst("paste.inputmask",b).bindFirst("dragdrop.inputmask",b).bindFirst("drop.inputmask",b).bindFirst("keydown.inputmask",g).bindFirst("setvalue.inputmask",w).bind("blur.inputmask",y)},f=function(n,a){var o;n&&(a||n.mask!=c.mask)&&(a||(o=function(e,n,i){if(!e)return 0;for(var a=0,o=0;a<i.begin;a++)e.charAt(a)==t.replace&&o++;for(var s=0;a<i.end;a++)e.charAt(a)==t.replace&&s++;for(a=0;a<n.length&&(o>0||n.charAt(a)!=t.replace);a++)n.charAt(a)==t.replace&&o--;for(o=a;a<n.length&&s>0;a++)n.charAt(a)==t.replace&&s--;return{begin:o,end:s=a}}(c.mask,n.mask,i.call(this))),a&&(this._valueSet?this._valueSet(a):this.value=a),e(this).inputmask(n.mask,e.extend(!0,t.inputmask,{insertMode:u})),a||i.call(this,o.begin,o.end));return c=n,t.onMaskChange.call(this,n.obj,n.determined),!0},_=function(t,n,i){var a=h(n);return!(!a||a.obj!=c.obj||a.determined!=c.determined)||(a&&(p.call(this),i?(f.call(this,a),e(this).trigger(t)):(e(this).trigger(t),f.call(this,a)),m.call(this)),t.stopImmediatePropagation(),!1)},g=function(e){var n=(e=e||window.event).which||e.charCode||e.keyCode;if(8==n||46==n||l&&127==n){var a=this._valueGet(),o=i.call(this);if(o.begin==o.end||!u&&o.begin==o.end-1){var s=o.begin;do{46!=n&&s--;var r=a.charAt(s);a=a.substring(0,s)+a.substring(s+1)}while(s>0&&s<a.length&&r!=d&&!t.match.test(r))}else{var c=a.substring(0,o.begin)+a.substring(o.end);-1==c.search(t.match)&&(a=c)}return _.call(this,e,a,!1)}return 45==n&&(u=!u),!0},v=function(e){var t=this._valueGet(),n=(e=e||window.event).which||e.charCode||e.keyCode,a=String.fromCharCode(n);return caretPos=i.call(this),t=t.substring(0,caretPos.begin)+a+t.substring(caretPos.end),_.call(this,e,t,!0)},y=function(e){var t=h(this._valueGet());return f.call(this,t),m.call(this),!0},w=function(e){return k.call(this),e.stopImmediatePropagation(),!0},k=function(){var e;e=this._valueGet?this._valueGet():this.value;for(var t=h(e);!t&&e.length>0;)e=e.substr(0,e.length-1),t=h(e);f.call(this,t,e),m.call(this)};var b=function(t){t.preventDefault();var n,i=this,a=(n=t).originalEvent&&n.originalEvent.clipboardData?n.originalEvent.clipboardData.getData("text"):n.clipboardData?n.clipboardData.getData("text/plain"):window.clipboardData?window.clipboardData.getData("Text"):"",o=void 0!==a?a.match(/[0-9]/g):null;return o&&0!==o.length&&e(i).val(o.join("")),setTimeout((function(){k.call(i)}),0),t.stopImmediatePropagation(),!0};if("isCompleted"===n){var $=h(this[0]._valueGet&&this[0]._valueGet()||this[0].value);return $&&$.completed}return this.each((function(){k.call(this)})),this}}(jQuery),function(e){var t=0,n={},i=0,a={init:function(t){return this.each((function(){(n=jQuery.extend({achieveTime:60,loop:0,eventList:"touchmove blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error",testPeriod:10,useMultiMode:1,callBack:function(e){console.log("Achieved!")},watchEvery:1,counter:{test:0,achiev:0}},t)).watchEvery*=1e3,n.useMultiMode&&a.loadMultiData(),-1!=n.counter.achiev&&(e(this).bind(n.eventList,a.eventTrigger),a.process())}))},process:function(){n.counter.test+=1,n.counter.test==n.testPeriod&&(i&&(i=0,n.counter.achiev+=n.testPeriod),n.counter.test=0),t=setTimeout(a.process,n.watchEvery),n.counter.achiev>=n.achieveTime&&(n.loop||clearTimeout(t),n.counter.achiev=n.loop?0:-1,n.callBack.call(this,n)),n.useMultiMode&&(document.cookie="activity="+n.counter.test+"|"+n.counter.achiev+"; path=/;")},eventTrigger:function(){i=1},loadMultiData:function(){var e=" activity=",t=" "+document.cookie;if(t.length>0&&-1!=t.indexOf(e)){offset=t.indexOf(e)+10;var i=unescape(t.substring(offset,-1==t.indexOf(";",offset)?t.length:t.indexOf(";",offset))).split("|");return n.counter.test=parseInt(i[0]),void(n.counter.achiev=parseInt(i[1]))}n.counter.test=n.counter.achiev=0}};e.fn.activity=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.activity"):a.init.apply(this,arguments)}}(jQuery),"undefined"!=typeof ymaps){function initMaps(){var e=$(window).width()>767?40:20,t="<div class='location-map__zoom location-map__zoom_minus'><div/>",n="<div class='location-map__zoom location-map__zoom_plus'><div/>";infrastructureMarkers={};var i=function(i){var a=parseFloat(i.data("lat")),o=parseFloat(i.data("lng")),s=i.data("marker"),r=i.closest(".map__root").find('input[name="infrastructure-group-item-checkbox"]'),l={},c=i.closest(".location__map").find("[data-infastracture-markers-enabled]").attr("data-infastracture-markers-enabled");if(void 0!==ymaps.templateLayoutFactory){var d=ymaps.templateLayoutFactory.createClass(`\n            <div class="placemark-layout__container">\n                <div class="placemark-layout__image fast_background fb_ignore_io" data-url="${s}"></div>\n            </div>\n        `);r.each((function(e,t){l[$(t).val()]=$(t).data("item-icon")})),i.addClass("initialized");var u=new ymaps.Map(i[0],{center:[a,o],zoom:14,controls:[]},{searchControlProvider:"yandex#search",suppressMapOpenBlock:!0}),h=new ymaps.control.Button({options:{layout:ymaps.templateLayoutFactory.createClass(t)}}),p=new ymaps.control.Button({options:{layout:ymaps.templateLayoutFactory.createClass(n)}});if(p.events.add("click",(function(e){u.setZoom(u.getZoom()+1,{duration:300})})),h.events.add("click",(function(e){u.setZoom(u.getZoom()-1,{duration:300})})),u.controls.add(h,{float:"none",position:{bottom:`${e}px`,right:`${e}px`}}),u.controls.add(p,{float:"none",position:{bottom:`${e+40+5}px`,right:`${e}px`}}),placeMapPlacemark=new ymaps.Placemark(u.getCenter(),{hintContent:"",balloonContent:""},{iconLayout:"markLayout",iconLayout:d,iconShape:{type:"Rectangle",coordinates:[[-32,-83],[32,0]]}}),u.geoObjects.add(placeMapPlacemark),"undefined"!=typeof g_infrastructure)for(var m in g_infrastructure)for(var f=0;f<g_infrastructure[m].length;f++){var _=g_infrastructure[m][f],g=new ymaps.Placemark(_.coords,{hintContent:"",balloonContent:""},{iconLayout:"default#image",iconImageHref:l[m],iconImageSize:[20,20],visible:!!c});u.geoObjects.add(g),void 0===infrastructureMarkers[m]&&(infrastructureMarkers[m]=[]),infrastructureMarkers[m].push(g)}}};if(0!==$("[location-map]:not(.initialized)").length&&$("[location-map]:not(.initialized, .popup-map__inner)").each((function(){i($(this))})),$(document).on("initialize-location-map",(function(e,t){i(t.el)})),0!==$("#excursion-map:not(.initialized)").length){$("#excursion-map").addClass("initialized");var a=parseFloat($("#excursion-map").data("lat")),o=parseFloat($("#excursion-map").data("lng")),s=$("#excursion-map").data("marker");if(void 0===ymaps.templateLayoutFactory)return;var r=ymaps.templateLayoutFactory.createClass(`\n            <div class="placemark-layout__container">\n                <div class="placemark-layout__image fast_background fb_ignore_io" data-url="${s}"></div>\n            </div>\n        `),l=new ymaps.Map("excursion-map",{center:[a,o],zoom:14,controls:[]},{searchControlProvider:"yandex#search",suppressMapOpenBlock:!0}),c=new ymaps.control.Button({options:{layout:ymaps.templateLayoutFactory.createClass(t)}}),d=new ymaps.control.Button({options:{layout:ymaps.templateLayoutFactory.createClass(n)}});d.events.add("click",(function(e){l.setZoom(l.getZoom()+1,{duration:300})})),c.events.add("click",(function(e){l.setZoom(l.getZoom()-1,{duration:300})})),l.controls.add(c,{float:"none",position:{bottom:"40px",right:"40px"}}),l.controls.add(d,{float:"none",position:{bottom:"85px",right:"40px"}}),excursionMapPlacemark=new ymaps.Placemark(l.getCenter(),{hintContent:"",balloonContent:""},{iconLayout:"markLayout",iconLayout:r,iconShape:{type:"Rectangle",coordinates:[[-32,-83],[32,0]]}}),l.geoObjects.add(excursionMapPlacemark)}$(".location__legend-control .toggle").click((function(){var e=$(this),t=e.closest(".location__legend").find('input[name="infrastructure-group-item-checkbox"]');(t=e.find(".toggle__switch").hasClass("animate-left")?t.filter(":checked"):t.not(":checked")).prop("checked",!t.prop("checked")).change()})),$('input[name="infrastructure-group-item-checkbox"]').change((function(){for(var e=$(this).prop("checked"),t=0;t<infrastructureMarkers[$(this).val()].length;t++)infrastructureMarkers[$(this).val()][t].options.set("visible",e)}))}ymaps.ready((function(){initMaps()})),$(document).on("ww.blocks_constructor.block-selected",initMaps)}!function(e,t){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,(function(e,t){"use strict";var n=Array.prototype.slice,i=e.console,a=void 0===i?function(){}:function(e){i.error(e)};function o(i,o,r){(r=r||t||e.jQuery)&&(o.prototype.option||(o.prototype.option=function(e){r.isPlainObject(e)&&(this.options=r.extend(!0,this.options,e))}),r.fn[i]=function(e){return"string"==typeof e?function(e,t,n){var o,s="$()."+i+'("'+t+'")';return e.each((function(e,l){var c=r.data(l,i);if(c){var d=c[t];if(d&&"_"!=t.charAt(0)){var u=d.apply(c,n);o=void 0===o?u:o}else a(s+" is not a valid method")}else a(i+" not initialized. Cannot call methods, i.e. "+s)})),void 0!==o?o:e}(this,e,n.call(arguments,1)):(function(e,t){e.each((function(e,n){var a=r.data(n,i);a?(a.option(t),a._init()):(a=new o(n,t),r.data(n,i,a))}))}(this,e),this)},s(r))}function s(e){!e||e&&e.bridget||(e.bridget=o)}return s(t||e.jQuery),o})),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,(function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],a=0;a<n.length;a++){var o=n[a];i&&i[o]&&(this.off(e,o),delete i[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,(function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function a(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var o,s=!1;return function t(r){if(function(){if(!s){s=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(n);var r=a(n);o=200==Math.round(e(r.width)),t.isBoxSizeOuter=o,i.removeChild(n)}}(),"string"==typeof r&&(r=document.querySelector(r)),r&&"object"==typeof r&&r.nodeType){var l=a(r);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<i;t++)e[n[t]]=0;return e}();var c={};c.width=r.offsetWidth,c.height=r.offsetHeight;for(var d=c.isBorderBox="border-box"==l.boxSizing,u=0;u<i;u++){var h=n[u],p=l[h],m=parseFloat(p);c[h]=isNaN(m)?0:m}var f=c.paddingLeft+c.paddingRight,_=c.paddingTop+c.paddingBottom,g=c.marginLeft+c.marginRight,v=c.marginTop+c.marginBottom,y=c.borderLeftWidth+c.borderRightWidth,w=c.borderTopWidth+c.borderBottomWidth,k=d&&o,b=e(l.width);!1!==b&&(c.width=b+(k?0:f+y));var $=e(l.height);return!1!==$&&(c.height=$+(k?0:_+w)),c.innerWidth=c.width-(f+y),c.innerHeight=c.height-(_+w),c.outerWidth=c.width+g,c.outerHeight=c.height+v,c}}})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}})),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.matchesSelector)}(window,(function(e,t){var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},i=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?i.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var a=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(i){t(e,i)&&a.push(e);for(var n=e.querySelectorAll(i),o=0;o<n.length;o++)a.push(n[o])}else a.push(e)})),a},n.debounceMethod=function(e,t,n){n=n||100;var i=e.prototype[t],a=t+"Timeout";e.prototype[t]=function(){var e=this[a];clearTimeout(e);var t=arguments,o=this;this[a]=setTimeout((function(){i.apply(o,t),delete o[a]}),n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var a=e.console;return n.htmlInit=function(t,i){n.docReady((function(){var o=n.toDashed(i),s="data-"+o,r=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+o),c=n.makeArray(r).concat(n.makeArray(l)),d=s+"-options",u=e.jQuery;c.forEach((function(e){var n,o=e.getAttribute(s)||e.getAttribute(d);try{n=o&&JSON.parse(o)}catch(n){return void(a&&a.error("Error parsing "+s+" on "+e.className+": "+n))}var r=new t(e,n);u&&u.data(e,i,r)}))}))},n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=t(e,e.getSize))}(window,(function(e,t){function n(e,t){this.element=e,this.parent=t,this.create()}var i=n.prototype;return i.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},i.destroy=function(){this.unselect(),this.element.style.position="";var e=this.parent.originSide;this.element.style[e]=""},i.getSize=function(){this.size=t(this.element)},i.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},i.updateTarget=i.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},i.renderPosition=function(e){var t=this.parent.originSide;this.element.style[t]=this.parent.getPositionValue(e)},i.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},i.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},i.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},i.remove=function(){this.element.parentNode.removeChild(this.element)},n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/slide",t):"object"==typeof module&&module.exports?module.exports=t():(e.Flickity=e.Flickity||{},e.Flickity.Slide=t())}(window,(function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){if(this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length){this.x=e.x;var t=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=e.size[t]}},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),n=t?t.size[e]:0,i=this.outerWidth-(this.firstMargin+n);this.target=this.x+this.firstMargin+i*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.cells.forEach((function(e){e.select()}))},t.unselect=function(){this.cells.forEach((function(e){e.unselect()}))},t.getCellElements=function(){return this.cells.map((function(e){return e.element}))},e})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=t(e,e.fizzyUIUtils))}(window,(function(e,t){var n={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating){var t=this;requestAnimationFrame((function(){t.animate()}))}},positionSlider:function(){var e=this.x;this.options.wrapAround&&1<this.cells.length&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),this.setTranslateX(e,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(e,t){e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;var n=this.getPositionValue(e);this.slider.style.transform=t?"translate3d("+n+",0,0)":"translateX("+n+")"},dispatchScrollEvent:function(){var e=this.slides[0];if(e){var t=-this.x-e.target,n=t/this.slidesWidth;this.dispatchEvent("scroll",null,[n,t])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*e)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);var n=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,n,1)},_shiftCells:function(e,t,n){for(var i=0;i<e.length;i++){var a=e[i],o=0<t?n:0;a.wrapShift(o),t-=a.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var e=this.dragX-this.x-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(e)}}};return n})),function(e,t){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],(function(n,i,a,o,s,r){return t(e,n,i,a,o,s,r)}));else if("object"==typeof module&&module.exports)module.exports=t(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var n=e.Flickity;e.Flickity=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,n.Cell,n.Slide,n.animatePrototype)}}(window,(function(e,t,n,i,a,o,s){var r=e.jQuery,l=e.getComputedStyle,c=e.console;function d(e,t){for(e=i.makeArray(e);e.length;)t.appendChild(e.shift())}var u=0,h={};function p(e,t){var n=i.getQueryElement(e);if(n){if(this.element=n,this.element.flickityGUID){var a=h[this.element.flickityGUID];return a.option(t),a}r&&(this.$element=r(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t),this._create()}else c&&c.error("Bad element for Flickity: "+(n||e))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var m=p.prototype;i.extend(m,t.prototype),m._create=function(){var t=this.guid=++u;for(var n in this.element.flickityGUID=t,(h[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&e.addEventListener("resize",this),this.options.on){var i=this.options.on[n];this.on(n,i)}p.createMethods.forEach((function(e){this[e]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},m.option=function(e){i.extend(this.options,e)},m.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),d(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},m._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},m._filterFindCellElements=function(e){return i.filterFindElements(e,this.options.cellSelector)},m.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},m._makeCells=function(e){return this._filterFindCellElements(e).map((function(e){return new a(e,this)}),this)},m.getLastCell=function(){return this.cells[this.cells.length-1]},m.getLastSlide=function(){return this.slides[this.slides.length-1]},m.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},m._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;var t=0;if(0<e){var n=this.cells[e-1];t=n.x+n.size.outerWidth}for(var i=this.cells.length,a=e;a<i;a++){var o=this.cells[a];o.setPosition(t),t+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=t,this.updateSlides(),this._containSlides(),this.slidesWidth=i?this.getLastSlide().target-this.slides[0].target:0},m._sizeCells=function(e){e.forEach((function(e){e.getSize()}))},m.updateSlides=function(){if(this.slides=[],this.cells.length){var e=new o(this);this.slides.push(e);var t="left"==this.originSide?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(i,a){if(e.cells.length){var s=e.outerWidth-e.firstMargin+(i.size.outerWidth-i.size[t]);n.call(this,a,s)||(e.updateTarget(),e=new o(this),this.slides.push(e)),e.addCell(i)}else e.addCell(i)}),this),e.updateTarget(),this.updateSelectedSlide()}},m._getCanCellFit=function(){var e=this.options.groupCells;if(!e)return function(){return!1};if("number"==typeof e){var t=parseInt(e,10);return function(e){return e%t!=0}}var n="string"==typeof e&&e.match(/^(\d+)%$/),i=n?parseInt(n[1],10)/100:1;return function(e,t){return t<=(this.size.innerWidth+1)*i}},m._init=m.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},m.getSize=function(){this.size=n(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var f={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return m.setCellAlign=function(){var e=f[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},m.setGallerySize=function(){if(this.options.setGallerySize){var e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=e+"px"}},m._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var e=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1)}},m._getGapCells=function(e,t,n){for(var i=[];0<e;){var a=this.cells[t];if(!a)break;i.push(a),t+=n,e-=a.size.outerWidth}return i},m._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var e=this.options.rightToLeft,t=e?"marginRight":"marginLeft",n=e?"marginLeft":"marginRight",i=this.slideableWidth-this.getLastCell().size[n],a=i<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[t],s=i-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(e){a?e.target=i*this.cellAlign:(e.target=Math.max(e.target,o),e.target=Math.min(e.target,s))}),this)}},m.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),r&&this.$element){var a=e+=this.options.namespaceJQueryEvents?".flickity":"";if(t){var o=r.Event(t);o.type=e,a=o}this.$element.trigger(a,n)}},m.select=function(e,t,n){if(this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=i.modulo(e,this.slides.length)),this.slides[e])){var a=this.selectedIndex;this.selectedIndex=e,this.updateSelectedSlide(),n?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=a&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect")}},m._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&1<t))return e;var n=i.modulo(e,t),a=Math.abs(n-this.selectedIndex),o=Math.abs(n+t-this.selectedIndex),s=Math.abs(n-t-this.selectedIndex);!this.isDragSelect&&o<a?e+=t:!this.isDragSelect&&s<a&&(e-=t),e<0?this.x-=this.slideableWidth:t<=e&&(this.x+=this.slideableWidth)},m.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},m.next=function(e,t){this.select(this.selectedIndex+1,e,t)},m.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),(this.selectedSlide=e).select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},m.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},m.selectInitialIndex=function(){var e=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(e&&"string"==typeof e&&this.queryCell(e))return void this.selectCell(e,!1,!0);var t=0;e&&this.slides[e]&&(t=e),this.select(t,!1,!0)}},m.selectCell=function(e,t,n){var i=this.queryCell(e);if(i){var a=this.getCellSlideIndex(i);this.select(a,t,n)}},m.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++)if(-1!=this.slides[t].cells.indexOf(e))return t},m.getCell=function(e){for(var t=0;t<this.cells.length;t++){var n=this.cells[t];if(n.element==e)return n}},m.getCells=function(e){e=i.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getCell(e);n&&t.push(n)}),this),t},m.getCellElements=function(){return this.cells.map((function(e){return e.element}))},m.getParentCell=function(e){return this.getCell(e)||(e=i.getParent(e,".flickity-slider > *"),this.getCell(e))},m.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var n=this.slides.length;if(n<=1+2*e)return this.getCellElements();for(var a=[],o=t-e;o<=t+e;o++){var s=this.options.wrapAround?i.modulo(o,n):o,r=this.slides[s];r&&(a=a.concat(r.getCellElements()))}return a},m.queryCell=function(e){if("number"==typeof e)return this.cells[e];if("string"==typeof e){if(e.match(/^[#\.]?[\d\/]/))return;e=this.element.querySelector(e)}return this.getCell(e)},m.uiChange=function(){this.emitEvent("uiChange")},m.childUIPointerDown=function(e){"touchstart"!=e.type&&e.preventDefault(),this.focus()},m.onresize=function(){this.watchCSS(),this.resize()},i.debounceMethod(p,"onresize",150),m.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=i.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var e=this.selectedElements&&this.selectedElements[0];this.selectCell(e,!1,!0)}},m.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},m.onkeydown=function(e){var t=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!t){var n=p.keyboardHandlers[e.keyCode];n&&n.call(this)}},p.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},m.focus=function(){var t=e.pageYOffset;this.element.focus({preventScroll:!0}),e.pageYOffset!=t&&e.scrollTo(e.pageXOffset,t)},m.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(e){e.destroy()})),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},m.destroy=function(){this.deactivate(),e.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},i.extend(m,s),p.data=function(e){var t=(e=i.getQueryElement(e))&&e.flickityGUID;return t&&h[t]},i.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(e){r=e},p.Cell=a,p.Slide=o,p})),function(e,t){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.Unipointer=t(e,e.EvEmitter)}(window,(function(e,t){function n(){}var i=n.prototype=Object.create(t.prototype);i.bindStartEvent=function(e){this._bindStartEvent(e,!0)},i.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},i._bindStartEvent=function(t,n){var i=(n=void 0===n||n)?"addEventListener":"removeEventListener",a="mousedown";e.PointerEvent?a="pointerdown":"ontouchstart"in e&&(a="touchstart"),t[i](a,this)},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},i.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},i.onpointerdown=function(e){this._pointerDown(e,e)},i._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},i.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var a={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){if(t){var n=a[t.type];n.forEach((function(t){e.addEventListener(t,this)}),this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(t){e.removeEventListener(t,this)}),this),delete this._boundPointerEvents)},i.onmousemove=function(e){this._pointerMove(e,e)},i.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},i.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},i._pointerMove=function(e,t){this.pointerMove(e,t)},i.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},i.onmouseup=function(e){this._pointerUp(e,e)},i.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},i.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},i._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},i.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},i._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},i.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},n.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},n})),function(e,t){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("unipointer")):e.Unidragger=t(e,e.Unipointer)}(window,(function(e,t){function n(){}var i=n.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var n=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",a=0;a<this.handles.length;a++){var o=this.handles[a];this._bindStartEvent(o,t),o[n]("click",this),e.PointerEvent&&(o.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var a={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(e){var t=a[e.target.nodeName],n=o[e.target.type],i=!t||n;return i||this._pointerReset(),i},i.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},i.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},i._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},i.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},i._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},i._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},i.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},i._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},i.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},i._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},i.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},i.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},i._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},n.getPointerPoint=t.getPointerPoint,n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],(function(n,i,a){return t(e,n,i,a)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):e.Flickity=t(e,e.Flickity,e.Unidragger,e.fizzyUIUtils)}(window,(function(e,t,n,i){i.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var a=t.prototype;i.extend(a,n.prototype),a._touchActionValue="pan-y";var o="createTouch"in document,s=!1;a._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),o&&!s&&(e.addEventListener("touchmove",(function(){})),s=!0)},a.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},a.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},a.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},a.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},a.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},a._uiChangeDrag=function(){delete this.isFreeScrolling},a.pointerDown=function(t,n){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),e.addEventListener("scroll",this),this._pointerDownDefault(t,n)):this._pointerDownDefault(t,n)},a._pointerDownDefault=function(e,t){this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])};var r={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:e.pageXOffset,y:e.pageYOffset}}return a.pointerDownFocus=function(e){r[e.target.nodeName]||this.focus()},a._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,n="touch"==e.pointerType,i=r[e.target.nodeName];t||n||i||e.preventDefault()},a.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},a.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},a.pointerDone=function(){e.removeEventListener("scroll",this),delete this.pointerDownScroll},a.dragStart=function(t,n){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),e.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[n]))},a.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},a.dragMove=function(e,t,n){if(this.isDraggable){e.preventDefault(),this.previousDragX=this.dragX;var i=this.options.rightToLeft?-1:1;this.options.wrapAround&&(n.x=n.x%this.slideableWidth);var a=this.dragStartPosition+n.x*i;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);a=o<a?.5*(a+o):a;var s=Math.min(-this.getLastSlide().target,this.dragStartPosition);a=a<s?.5*(a+s):a}this.dragX=a,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,n])}},a.dragEnd=function(e,t){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var n=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var i=this.getRestingPosition();this.isFreeScrolling=-i>this.slides[0].target&&-i<this.getLastSlide().target}else this.options.freeScroll||n!=this.selectedIndex||(n+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(n),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t])}},a.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),n=this._getClosestResting(e,t,1),i=this._getClosestResting(e,t,-1);return n.distance<i.distance?n.index:i.index},a._getClosestResting=function(e,t,n){for(var i=this.selectedIndex,a=1/0,o=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};o(t,a)&&(i+=n,a=t,null!==(t=this.getSlideDistance(-e,i)));)t=Math.abs(t);return{distance:a,index:i-n}},a.getSlideDistance=function(e,t){var n=this.slides.length,a=this.options.wrapAround&&1<n,o=a?i.modulo(t,n):t,s=this.slides[o];if(!s)return null;var r=a?this.slideableWidth*Math.floor(t/n):0;return e-(s.target+r)},a.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return 0<e&&0<t?1:e<0&&t<0?-1:0},a.staticClick=function(e,t){var n=this.getParentCell(e.target),i=n&&n.element,a=n&&this.cells.indexOf(n);this.dispatchEvent("staticClick",e,[t,i,a])},a.onscroll=function(){var e=l(),t=this.pointerDownScroll.x-e.x,n=this.pointerDownScroll.y-e.y;(3<Math.abs(t)||3<Math.abs(n))&&this._pointerDone()},t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],(function(n,i,a){return t(e,n,i,a)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):t(e,e.Flickity,e.Unipointer,e.fizzyUIUtils)}(window,(function(e,t,n,i){"use strict";var a="http://www.w3.org/2000/svg";function o(e,t){this.direction=e,this.parent=t,this._create()}(o.prototype=Object.create(n.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==e;var t=this.element=document.createElement("button");t.className="flickity-button flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var n=this.createSVG();t.appendChild(n),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var e=document.createElementNS(a,"svg");e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100");var t=document.createElementNS(a,"path"),n=function(e){return"string"!=typeof e?"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z":e}(this.parent.options.arrowShape);return t.setAttribute("d",n),t.setAttribute("class","arrow"),this.isLeft||t.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(t),e},o.prototype.handleEvent=i.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var e=this.isPrevious?"previous":"next";this.parent[e]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var e=this.parent.slides;if(this.parent.options.wrapAround&&1<e.length)this.enable();else{var t=e.length?e.length-1:0,n=this.isPrevious?0:t;this[this.parent.selectedIndex==n?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},i.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");var s=t.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=o,t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],(function(n,i,a){return t(e,n,i,a)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):t(e,e.Flickity,e.Unipointer,e.fizzyUIUtils)}(window,(function(e,t,n,i){function a(e){this.parent=e,this._create()}(a.prototype=Object.create(n.prototype))._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},a.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},a.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},a.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;0<e?this.addDots(e):e<0&&this.removeDots(-e)},a.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),n=[],i=this.dots.length,a=i+e,o=i;o<a;o++){var s=document.createElement("li");s.className="dot",s.setAttribute("aria-label","Page dot "+(o+1)),t.appendChild(s),n.push(s)}this.holder.appendChild(t),this.dots=this.dots.concat(n)},a.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach((function(e){this.holder.removeChild(e)}),this)},a.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},a.prototype.onTap=a.prototype.onClick=function(e){var t=e.target;if("LI"==t.nodeName){this.parent.uiChange();var n=this.dots.indexOf(t);this.parent.select(n)}},a.prototype.destroy=function(){this.deactivate(),this.allOff()},t.PageDots=a,i.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");var o=t.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new a(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=a,t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],(function(e,n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):t(e.EvEmitter,e.fizzyUIUtils,e.Flickity)}(window,(function(e,t,n){function i(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(i.prototype=Object.create(e.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},i.prototype.tick=function(){if("playing"==this.state){var e=this.parent.options.autoPlay;e="number"==typeof e?e:3e3;var t=this;this.clear(),this.timeout=setTimeout((function(){t.parent.next(!0),t.tick()}),e)}},i.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},i.prototype.clear=function(){clearTimeout(this.timeout)},i.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},i.prototype.unpause=function(){"paused"==this.state&&this.play()},i.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},i.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer");var a=n.prototype;return a._createPlayer=function(){this.player=new i(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},a.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},a.playPlayer=function(){this.player.play()},a.stopPlayer=function(){this.player.stop()},a.pausePlayer=function(){this.player.pause()},a.unpausePlayer=function(){this.player.unpause()},a.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},a.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},a.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},n.Player=i,n})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("fizzy-ui-utils")):t(e,e.Flickity,e.fizzyUIUtils)}(window,(function(e,t,n){var i=t.prototype;return i.insert=function(e,t){var n=this._makeCells(e);if(n&&n.length){var i=this.cells.length;t=void 0===t?i:t;var a=function(e){var t=document.createDocumentFragment();return e.forEach((function(e){t.appendChild(e.element)})),t}(n),o=t==i;if(o)this.slider.appendChild(a);else{var s=this.cells[t].element;this.slider.insertBefore(a,s)}if(0===t)this.cells=n.concat(this.cells);else if(o)this.cells=this.cells.concat(n);else{var r=this.cells.splice(t,i-t);this.cells=this.cells.concat(n).concat(r)}this._sizeCells(n),this.cellChange(t,!0)}},i.append=function(e){this.insert(e,this.cells.length)},i.prepend=function(e){this.insert(e,0)},i.remove=function(e){var t=this.getCells(e);if(t&&t.length){var i=this.cells.length-1;t.forEach((function(e){e.remove();var t=this.cells.indexOf(e);i=Math.min(t,i),n.removeFrom(this.cells,e)}),this),this.cellChange(i,!0)}},i.cellSizeChange=function(e){var t=this.getCell(e);if(t){t.getSize();var n=this.cells.indexOf(t);this.cellChange(n)}},i.cellChange=function(e,t){var n=this.selectedElement;this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize();var i=this.getCell(n);i&&(this.selectedIndex=this.getCellSlideIndex(i)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("./flickity"),require("fizzy-ui-utils")):t(e,e.Flickity,e.fizzyUIUtils)}(window,(function(e,t,n){"use strict";t.createMethods.push("_createLazyload");var i=t.prototype;function a(e,t){this.img=e,this.flickity=t,this.load()}return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var e=this.options.lazyLoad;if(e){var t="number"==typeof e?e:0,i=this.getAdjacentCellElements(t),o=[];i.forEach((function(e){var t=function(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),i=e.getAttribute("data-flickity-lazyload-src"),a=e.getAttribute("data-flickity-lazyload-srcset");if(t||i||a)return[e]}var o=e.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return n.makeArray(o)}(e);o=o.concat(t)})),o.forEach((function(e){new a(e,this)}),this)}},a.prototype.handleEvent=n.handleEvent,a.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},a.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},a.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},a.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var n=this.flickity.getParentCell(this.img),i=n&&n.element;this.flickity.cellSizeChange(i),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,i)},t.LazyLoader=a,t})),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,(function(e){return e})),function(e,t){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):e.Flickity=t(e.Flickity,e.fizzyUIUtils)}(window,(function(e,t){e.createMethods.push("_createAsNavFor");var n=e.prototype;return n._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var e=this.options.asNavFor;if(e){var t=this;setTimeout((function(){t.setNavCompanion(e)}))}},n.setNavCompanion=function(n){n=t.getQueryElement(n);var i=e.data(n);if(i&&i!=this){this.navCompanion=i;var a=this;this.onNavCompanionSelect=function(){a.navCompanionSelect()},i.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},n.navCompanionSelect=function(e){var t=this.navCompanion&&this.navCompanion.selectedCells;if(t){var n=t[0],i=this.navCompanion.cells.indexOf(n),a=i+t.length-1,o=Math.floor(function(e,t,n){return(t-e)*n+e}(i,a,this.navCompanion.cellAlign));if(this.selectCell(o,!1,e),this.removeNavSelectedElements(),!(o>=this.cells.length)){var s=this.cells.slice(i,1+a);this.navSelectedElements=s.map((function(e){return e.element})),this.changeNavSelectedClass("add")}}},n.changeNavSelectedClass=function(e){this.navSelectedElements.forEach((function(t){t.classList[e]("is-nav-selected")}))},n.activateAsNavFor=function(){this.navCompanionSelect(!0)},n.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},n.onNavStaticClick=function(e,t,n,i){"number"==typeof i&&this.navCompanion.selectCell(i)},n.deactivateAsNavFor=function(){this.removeNavSelectedElements()},n.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},e})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){var n=e.jQuery,i=e.console;function a(e,t){for(var n in t)e[n]=t[n];return e}var o=Array.prototype.slice;function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);var l=e;"string"==typeof e&&(l=document.querySelectorAll(e)),l?(this.elements=function(e){return Array.isArray(e)?e:"object"==typeof e&&"number"==typeof e.length?o.call(e):[e]}(l),this.options=a({},this.options),"function"==typeof t?r=t:a(this.options,t),r&&this.on("always",r),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):i.error("Bad element for imagesLoaded "+(l||e))}(s.prototype=Object.create(t.prototype)).options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&r[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var a=n[i];this.addImage(a)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var s=o[i];this.addElementBackgroundImages(s)}}}};var r={1:!0,9:!0,11:!0};function l(e){this.img=e}function c(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var a=i&&i[2];a&&this.addBackground(a,e),i=n.exec(t.backgroundImage)}},s.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},s.prototype.addBackground=function(e,t){var n=new c(e,t);this.images.push(n)},s.prototype.check=function(){var e=this;function t(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(l.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(c.prototype=Object.create(l.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s})),function(e,t){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("flickity"),require("imagesloaded")):e.Flickity=t(e,e.Flickity,e.imagesLoaded)}(window,(function(e,t,n){"use strict";t.createMethods.push("_createImagesLoaded");var i=t.prototype;return i._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},i.imagesLoaded=function(){if(this.options.imagesLoaded){var e=this;n(this.slider).on("progress",(function(t,n){var i=e.getParentCell(n.img);e.cellSizeChange(i&&i.element),e.options.freeScroll||e.positionSliderAtSelected()}))}},t})),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}((function(){"use strict";var e="14.6.2";function t(e){e.parentElement.removeChild(e)}function n(e){return null!=e}function i(e){e.preventDefault()}function a(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function o(e,t,n){0<n&&(c(e,t),setTimeout((function(){d(e,t)}),n))}function s(e){return Math.max(Math.min(e,100),0)}function r(e){return Array.isArray(e)?e:[e]}function l(e){var t=(e=String(e)).split(".");return 1<t.length?t[1].length:0}function c(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function d(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function u(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function h(e,t){return 100/(t-e)}function p(e,t,n){return 100*t/(e[n+1]-e[n])}function m(e,t){for(var n=1;e>=t[n];)n+=1;return n}function f(t,n,i){var o;if("number"==typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' contains invalid value.");if(!a(o="min"===t?0:"max"===t?100:parseFloat(t))||!a(n[0]))throw new Error("noUiSlider ("+e+"): 'range' value isn't numeric.");i.xPct.push(o),i.xVal.push(n[0]),o?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function _(e,t,n){if(t)if(n.xVal[e]!==n.xVal[e+1]){n.xSteps[e]=p([n.xVal[e],n.xVal[e+1]],t,0)/h(n.xPct[e],n.xPct[e+1]);var i=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],a=Math.ceil(Number(i.toFixed(3))-1),o=n.xVal[e]+n.xNumSteps[e]*a;n.xHighestCompleteStep[e]=o}else n.xSteps[e]=n.xHighestCompleteStep[e]=n.xVal[e]}function g(e,t,n){var i;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var a=[];for(i in e)e.hasOwnProperty(i)&&a.push([e[i],i]);for(a.length&&"object"==typeof a[0][0]?a.sort((function(e,t){return e[0][0]-t[0][0]})):a.sort((function(e,t){return e[0]-t[0]})),i=0;i<a.length;i++)f(a[i][1],a[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)_(i,this.xNumSteps[i],this)}g.prototype.getDistance=function(t){var n,i=[];for(n=0;n<this.xNumSteps.length-1;n++){var a=this.xNumSteps[n];if(a&&t/a%1!=0)throw new Error("noUiSlider ("+e+"): 'limit', 'margin' and 'padding' of "+this.xPct[n]+"% range must be divisible by step.");i[n]=p(this.xVal,t,n)}return i},g.prototype.getAbsoluteDistance=function(e,t,n){var i,a=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[a+1];)a++;else e===this.xPct[this.xPct.length-1]&&(a=this.xPct.length-2);n||e!==this.xPct[a+1]||a++;var o=1,s=t[a],r=0,l=0,c=0,d=0;for(i=n?(e-this.xPct[a])/(this.xPct[a+1]-this.xPct[a]):(this.xPct[a+1]-e)/(this.xPct[a+1]-this.xPct[a]);0<s;)r=this.xPct[a+1+d]-this.xPct[a+d],100<t[a+d]*o+100-100*i?(l=r*i,o=(s-100*i)/t[a+d],i=1):(l=t[a+d]*r/100*o,o=0),n?(c-=l,1<=this.xPct.length+d&&d--):(c+=l,1<=this.xPct.length-d&&d++),s=t[a+d]*o;return e+c},g.prototype.toStepping=function(e){return function(e,t,n){if(n>=e.slice(-1)[0])return 100;var i,a,o=m(n,e),s=e[o-1],r=e[o],l=t[o-1],c=t[o];return l+(a=n,p(i=[s,r],i[0]<0?a+Math.abs(i[0]):a-i[0],0)/h(l,c))}(this.xVal,this.xPct,e)},g.prototype.fromStepping=function(e){return function(e,t,n){if(100<=n)return e.slice(-1)[0];var i,a=m(n,t),o=e[a-1],s=e[a],r=t[a-1];return i=[o,s],(n-r)*h(r,t[a])*(i[1]-i[0])/100+i[0]}(this.xVal,this.xPct,e)},g.prototype.getStep=function(e){return function(e,t,n,i){if(100===i)return i;var a,o,s=m(i,e),r=e[s-1],l=e[s];return n?(l-r)/2<i-r?l:r:t[s-1]?e[s-1]+(a=i-e[s-1],o=t[s-1],Math.round(a/o)*o):i}(this.xPct,this.xSteps,this.snap,e)},g.prototype.getDefaultStep=function(e,t,n){var i=m(e,this.xPct);return(100===e||t&&e===this.xPct[i-1])&&(i=Math.max(i-1,1)),(this.xVal[i]-this.xVal[i-1])/n},g.prototype.getNearbySteps=function(e){var t=m(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},g.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(l);return Math.max.apply(null,e)},g.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var v={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number},y={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function w(t){if("object"==typeof(n=t)&&"function"==typeof n.to&&"function"==typeof n.from)return!0;var n;throw new Error("noUiSlider ("+e+"): 'format' requires 'to' and 'from' methods.")}function k(t,n){if(!a(n))throw new Error("noUiSlider ("+e+"): 'step' is not numeric.");t.singleStep=n}function b(t,n){if(!a(n))throw new Error("noUiSlider ("+e+"): 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=n}function $(t,n){if(!a(n))throw new Error("noUiSlider ("+e+"): 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=n}function C(t,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+e+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+e+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new g(n,t.snap,t.singleStep)}function S(t,n){if(n=r(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+e+"): 'start' option is incorrect.");t.handles=n.length,t.start=n}function x(t,n){if("boolean"!=typeof(t.snap=n))throw new Error("noUiSlider ("+e+"): 'snap' option must be a boolean.")}function E(t,n){if("boolean"!=typeof(t.animate=n))throw new Error("noUiSlider ("+e+"): 'animate' option must be a boolean.")}function P(t,n){if("number"!=typeof(t.animationDuration=n))throw new Error("noUiSlider ("+e+"): 'animationDuration' option must be a number.")}function A(t,n){var i,a=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(i=1;i<t.handles;i++)a.push(n);a.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==t.handles+1)throw new Error("noUiSlider ("+e+"): 'connect' option doesn't match handle count.");a=n}t.connect=a}function D(t,n){switch(n){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+e+"): 'orientation' option is invalid.")}}function L(t,n){if(!a(n))throw new Error("noUiSlider ("+e+"): 'margin' option must be numeric.");0!==n&&(t.margin=t.spectrum.getDistance(n))}function T(t,n){if(!a(n))throw new Error("noUiSlider ("+e+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(n),!t.limit||t.handles<2)throw new Error("noUiSlider ("+e+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function M(t,n){var i;if(!a(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!a(n[0])&&!a(n[1]))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){for(Array.isArray(n)||(n=[n,n]),t.padding=[t.spectrum.getDistance(n[0]),t.spectrum.getDistance(n[1])],i=0;i<t.spectrum.xNumSteps.length-1;i++)if(t.padding[0][i]<0||t.padding[1][i]<0)throw new Error("noUiSlider ("+e+"): 'padding' option must be a positive number(s).");var o=n[0]+n[1],s=t.spectrum.xVal[0];if(1<o/(t.spectrum.xVal[t.spectrum.xVal.length-1]-s))throw new Error("noUiSlider ("+e+"): 'padding' option must not exceed 100% of the range.")}}function N(t,n){switch(n){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+e+"): 'direction' option was not recognized.")}}function I(t,n){if("string"!=typeof n)throw new Error("noUiSlider ("+e+"): 'behaviour' must be a string containing options.");var i=0<=n.indexOf("tap"),a=0<=n.indexOf("drag"),o=0<=n.indexOf("fixed"),s=0<=n.indexOf("snap"),r=0<=n.indexOf("hover"),l=0<=n.indexOf("unconstrained");if(o){if(2!==t.handles)throw new Error("noUiSlider ("+e+"): 'fixed' behaviour must be used with 2 handles");L(t,t.start[1]-t.start[0])}if(l&&(t.margin||t.limit))throw new Error("noUiSlider ("+e+"): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||s,drag:a,fixed:o,snap:s,hover:r,unconstrained:l}}function R(t,n){if(!1!==n)if(!0===n){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=r(n),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+e+"): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+e+"): 'tooltips' must be passed a formatter or 'false'.")}))}}function z(e,t){w(e.ariaFormat=t)}function F(e,t){w(e.format=t)}function O(t,n){if("boolean"!=typeof(t.keyboardSupport=n))throw new Error("noUiSlider ("+e+"): 'keyboardSupport' option must be a boolean.")}function j(e,t){e.documentElement=t}function U(t,n){if("string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+e+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=n}function W(t,n){if("object"!=typeof n)throw new Error("noUiSlider ("+e+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},n)n.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+n[i]);else t.cssClasses=n}function B(t){var i={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:v,format:v},a={step:{r:!1,t:k},keyboardPageMultiplier:{r:!1,t:b},keyboardDefaultStep:{r:!1,t:$},start:{r:!0,t:S},connect:{r:!0,t:A},direction:{r:!0,t:N},snap:{r:!1,t:x},animate:{r:!1,t:E},animationDuration:{r:!1,t:P},range:{r:!0,t:C},orientation:{r:!1,t:D},margin:{r:!1,t:L},limit:{r:!1,t:T},padding:{r:!1,t:M},behaviour:{r:!0,t:I},ariaFormat:{r:!1,t:z},format:{r:!1,t:F},tooltips:{r:!1,t:R},keyboardSupport:{r:!0,t:O},documentElement:{r:!1,t:j},cssPrefix:{r:!0,t:U},cssClasses:{r:!0,t:W}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:y,keyboardPageMultiplier:5,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(a).forEach((function(s){if(!n(t[s])&&void 0===o[s]){if(a[s].r)throw new Error("noUiSlider ("+e+"): '"+s+"' is required.");return!0}a[s].t(i,n(t[s])?t[s]:o[s])})),i.pips=t.pips;var s=document.createElement("div"),r=void 0!==s.style.msTransform,l=void 0!==s.style.transform;return i.transformRule=l?"transform":r?"msTransform":"webkitTransform",i.style=[["left","top"],["right","bottom"]][i.dir][i.ort],i}return{__spectrum:g,version:e,cssClasses:y,create:function(n,a){if(!n||!n.nodeName)throw new Error("noUiSlider ("+e+"): create requires a single element, got: "+n);if(n.noUiSlider)throw new Error("noUiSlider ("+e+"): Slider was already initialized.");var l=function(n,a,l){var h,p,m,f,_,g,v,y,w=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},k=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),b=n,$=a.spectrum,C=[],S=[],x=[],E=0,P={},A=n.ownerDocument,D=a.documentElement||A.documentElement,L=A.body,T=-1,M=0,N=1,I=2,R="rtl"===A.dir||1===a.ort?0:100;function z(e,t){var n=A.createElement("div");return t&&c(n,t),e.appendChild(n),n}function F(e,t){var n=z(e,a.cssClasses.origin),i=z(n,a.cssClasses.handle);return z(i,a.cssClasses.touchArea),i.setAttribute("data-handle",t),a.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(e){return function(e,t){if(U()||W(t))return!1;var n=["Left","Right"],i=["Down","Up"],o=["PageDown","PageUp"],s=["Home","End"];a.dir&&!a.ort?n.reverse():a.ort&&!a.dir&&(i.reverse(),o.reverse());var r,l=e.key.replace("Arrow",""),c=l===o[0],d=l===o[1],u=l===i[0]||l===n[0]||c,h=l===i[1]||l===n[1]||d,p=l===s[1];if(!(u||h||l===s[0]||p))return!0;if(e.preventDefault(),h||u){var m=a.keyboardPageMultiplier,f=u?0:1,_=fe(t)[f];if(null===_)return!1;!1===_&&(_=$.getDefaultStep(S[t],u,a.keyboardDefaultStep)),(d||c)&&(_*=m),_=Math.max(_,1e-7),_*=u?-1:1,r=C[t]+_}else r=p?a.spectrum.xVal[a.spectrum.xVal.length-1]:a.spectrum.xVal[0];return de(t,$.toStepping(r),!0,!0),ae("slide",t),ae("update",t),ae("change",t),ae("set",t),!1}(e,t)}))),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",a.ort?"vertical":"horizontal"),0===t?c(i,a.cssClasses.handleLower):t===a.handles-1&&c(i,a.cssClasses.handleUpper),n}function O(e,t){return!!t&&z(e,a.cssClasses.connect)}function j(e,t){return!!a.tooltips[t]&&z(e.firstChild,a.cssClasses.tooltip)}function U(){return b.hasAttribute("disabled")}function W(e){return p[e].hasAttribute("disabled")}function H(){_&&(ie("update.tooltips"),_.forEach((function(e){e&&t(e)})),_=null)}function Y(){H(),_=p.map(j),ne("update.tooltips",(function(e,t,n){if(_[t]){var i=e[t];!0!==a.tooltips[t]&&(i=a.tooltips[t].to(n[t])),_[t].innerHTML=i}}))}function G(e,t,n){var i=A.createElement("div"),o=[];o[M]=a.cssClasses.valueNormal,o[N]=a.cssClasses.valueLarge,o[I]=a.cssClasses.valueSub;var s=[];s[M]=a.cssClasses.markerNormal,s[N]=a.cssClasses.markerLarge,s[I]=a.cssClasses.markerSub;var r=[a.cssClasses.valueHorizontal,a.cssClasses.valueVertical],l=[a.cssClasses.markerHorizontal,a.cssClasses.markerVertical];function d(e,t){var n=t===a.cssClasses.value,i=n?o:s;return t+" "+(n?r:l)[a.ort]+" "+i[e]}return c(i,a.cssClasses.pips),c(i,0===a.ort?a.cssClasses.pipsHorizontal:a.cssClasses.pipsVertical),Object.keys(e).forEach((function(o){!function(e,o,s){if((s=t?t(o,s):s)!==T){var r=z(i,!1);r.className=d(s,a.cssClasses.marker),r.style[a.style]=e+"%",M<s&&((r=z(i,!1)).className=d(s,a.cssClasses.value),r.setAttribute("data-value",o),r.style[a.style]=e+"%",r.innerHTML=n.to(o))}}(o,e[o][0],e[o][1])})),i}function X(){f&&(t(f),f=null)}function q(t){X();var n,i,a,o,s,r,l,c,d,u=t.mode,h=t.density||1,p=t.filter||!1,m=function(t,n,i){if("range"===t||"steps"===t)return $.xVal;if("count"===t){if(n<2)throw new Error("noUiSlider ("+e+"): 'values' (>= 2) required for mode 'count'.");var a=n-1,o=100/a;for(n=[];a--;)n[a]=a*o;n.push(100),t="positions"}return"positions"===t?n.map((function(e){return $.fromStepping(i?$.getStep(e):e)})):"values"===t?i?n.map((function(e){return $.fromStepping($.getStep($.toStepping(e)))})):n:void 0}(u,t.values||!1,t.stepped||!1),_=(n=h,i=u,a=m,o={},s=$.xVal[0],r=$.xVal[$.xVal.length-1],c=l=!1,d=0,(a=a.slice().sort((function(e,t){return e-t})).filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==s&&(a.unshift(s),l=!0),a[a.length-1]!==r&&(a.push(r),c=!0),a.forEach((function(e,t){var s,r,u,h,p,m,f,_,g,v,y=e,w=a[t+1],k="steps"===i;if(k&&(s=$.xNumSteps[t]),s||(s=w-y),!1!==y)for(void 0===w&&(w=y),s=Math.max(s,1e-7),r=y;r<=w;r=(r+s).toFixed(7)/1){for(_=(p=(h=$.toStepping(r))-d)/n,v=p/(g=Math.round(_)),u=1;u<=g;u+=1)o[(m=d+u*v).toFixed(5)]=[$.fromStepping(m),0];f=-1<a.indexOf(r)?N:k?I:M,!t&&l&&r!==w&&(f=0),r===w&&c||(o[h.toFixed(5)]=[r,f]),d=h}})),o),g=t.format||{to:Math.round};return f=b.appendChild(G(_,p,g))}function V(){var e=h.getBoundingClientRect(),t="offset"+["Width","Height"][a.ort];return 0===a.ort?e.width||h[t]:e.height||h[t]}function K(e,t,n,i){var o=function(o){return!!(o=function(e,t,n){var i,a,o=0===e.type.indexOf("touch"),s=0===e.type.indexOf("mouse"),r=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(r=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(o){var l=function(e){return e.target===n||n.contains(e.target)||e.target.shadowRoot&&e.target.shadowRoot.contains(n)};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(1<c.length)return!1;i=c[0].pageX,a=c[0].pageY}else{var d=Array.prototype.find.call(e.changedTouches,l);if(!d)return!1;i=d.pageX,a=d.pageY}}return t=t||u(A),(s||r)&&(i=e.clientX+t.x,a=e.clientY+t.y),e.pageOffset=t,e.points=[i,a],e.cursor=s||r,e}(o,i.pageOffset,i.target||t))&&!(U()&&!i.doNotReject)&&(s=b,r=a.cssClasses.tap,!((s.classList?s.classList.contains(r):new RegExp("\\b"+r+"\\b").test(s.className))&&!i.doNotReject)&&!(e===w.start&&void 0!==o.buttons&&1<o.buttons)&&(!i.hover||!o.buttons)&&(k||o.preventDefault(),o.calcPoint=o.points[a.ort],void n(o,i)));var s,r},s=[];return e.split(" ").forEach((function(e){t.addEventListener(e,o,!!k&&{passive:!0}),s.push([e,o])})),s}function J(e){var t,n,i,o,r,l,c=100*(e-(t=h,n=a.ort,i=t.getBoundingClientRect(),r=(o=t.ownerDocument).documentElement,l=u(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),n?i.top+l.y-r.clientTop:i.left+l.x-r.clientLeft))/V();return c=s(c),a.dir?100-c:c}function Q(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ee(e,t)}function Z(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return ee(e,t);var n=(a.dir?-1:1)*(e.calcPoint-t.startCalcPoint);re(0<n,100*n/t.baseSize,t.locations,t.handleNumbers)}function ee(e,t){t.handle&&(d(t.handle,a.cssClasses.active),E-=1),t.listeners.forEach((function(e){D.removeEventListener(e[0],e[1])})),0===E&&(d(b,a.cssClasses.drag),ce(),e.cursor&&(L.style.cursor="",L.removeEventListener("selectstart",i))),t.handleNumbers.forEach((function(e){ae("change",e),ae("set",e),ae("end",e)}))}function te(e,t){if(t.handleNumbers.some(W))return!1;var n;1===t.handleNumbers.length&&(n=p[t.handleNumbers[0]].children[0],E+=1,c(n,a.cssClasses.active)),e.stopPropagation();var o=[],s=K(w.move,D,Z,{target:e.target,handle:n,listeners:o,startCalcPoint:e.calcPoint,baseSize:V(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:S.slice()}),r=K(w.end,D,ee,{target:e.target,handle:n,listeners:o,doNotReject:!0,handleNumbers:t.handleNumbers}),l=K("mouseout",D,Q,{target:e.target,handle:n,listeners:o,doNotReject:!0,handleNumbers:t.handleNumbers});o.push.apply(o,s.concat(r,l)),e.cursor&&(L.style.cursor=getComputedStyle(e.target).cursor,1<p.length&&c(b,a.cssClasses.drag),L.addEventListener("selectstart",i,!1)),t.handleNumbers.forEach((function(e){ae("start",e)}))}function ne(e,t){P[e]=P[e]||[],P[e].push(t),"update"===e.split(".")[0]&&p.forEach((function(e,t){ae("update",t)}))}function ie(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(P).forEach((function(e){var i=e.split(".")[0],a=e.substring(i.length);t&&t!==i||n&&n!==a||delete P[e]}))}function ae(e,t,n){Object.keys(P).forEach((function(i){var o=i.split(".")[0];e===o&&P[i].forEach((function(e){e.call(g,C.map(a.format.to),t,C.slice(),n||!1,S.slice(),g)}))}))}function oe(e,t,n,i,o,r){var l;return 1<p.length&&!a.events.unconstrained&&(i&&0<t&&(l=$.getAbsoluteDistance(e[t-1],a.margin,0),n=Math.max(n,l)),o&&t<p.length-1&&(l=$.getAbsoluteDistance(e[t+1],a.margin,1),n=Math.min(n,l))),1<p.length&&a.limit&&(i&&0<t&&(l=$.getAbsoluteDistance(e[t-1],a.limit,0),n=Math.min(n,l)),o&&t<p.length-1&&(l=$.getAbsoluteDistance(e[t+1],a.limit,1),n=Math.max(n,l))),a.padding&&(0===t&&(l=$.getAbsoluteDistance(0,a.padding[0],0),n=Math.max(n,l)),t===p.length-1&&(l=$.getAbsoluteDistance(100,a.padding[1],1),n=Math.min(n,l))),!((n=s(n=$.getStep(n)))===e[t]&&!r)&&n}function se(e,t){var n=a.ort;return(n?t:e)+", "+(n?e:t)}function re(e,t,n,i){var a=n.slice(),o=[!e,e],s=[e,!e];i=i.slice(),e&&i.reverse(),1<i.length?i.forEach((function(e,n){var i=oe(a,e,a[e]+t,o[n],s[n],!1);!1===i?t=0:(t=i-a[e],a[e]=i)})):o=s=[!0];var r=!1;i.forEach((function(e,i){r=de(e,n[e]+t,o[i],s[i])||r})),r&&i.forEach((function(e){ae("update",e),ae("slide",e)}))}function le(e,t){return a.dir?100-e-t:e}function ce(){x.forEach((function(e){var t=50<S[e]?-1:1,n=3+(p.length+t*e);p[e].style.zIndex=n}))}function de(e,t,n,i,o){return o||(t=oe(S,e,t,n,i,!1)),!1!==t&&(function(e,t){S[e]=t,C[e]=$.fromStepping(t);var n="translate("+se(10*(le(t,0)-R)+"%","0")+")";p[e].style[a.transformRule]=n,ue(e),ue(e+1)}(e,t),!0)}function ue(e){if(m[e]){var t=0,n=100;0!==e&&(t=S[e-1]),e!==m.length-1&&(n=S[e]);var i=n-t,o="translate("+se(le(t,i)+"%","0")+")",s="scale("+se(i/100,"1")+")";m[e].style[a.transformRule]=o+" "+s}}function he(e,t){return null===e||!1===e||void 0===e?S[t]:("number"==typeof e&&(e=String(e)),e=a.format.from(e),!1===(e=$.toStepping(e))||isNaN(e)?S[t]:e)}function pe(e,t,n){var i=r(e),s=void 0===S[0];t=void 0===t||!!t,a.animate&&!s&&o(b,a.cssClasses.tap,a.animationDuration),x.forEach((function(e){de(e,he(i[e],e),!0,!1,n)}));for(var l=1===x.length?0:1;l<x.length;++l)x.forEach((function(e){de(e,S[e],!0,!0,n)}));ce(),x.forEach((function(e){ae("update",e),null!==i[e]&&t&&ae("set",e)}))}function me(){var e=C.map(a.format.to);return 1===e.length?e[0]:e}function fe(e){var t=S[e],n=$.getNearbySteps(t),i=C[e],o=n.thisStep.step,s=null;if(a.snap)return[i-n.stepBefore.startValue||null,n.stepAfter.startValue-i||null];!1!==o&&i+o>n.stepAfter.startValue&&(o=n.stepAfter.startValue-i),s=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===t?o=null:0===t&&(s=null);var r=$.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(r))),null!==s&&!1!==s&&(s=Number(s.toFixed(r))),[s,o]}return c(v=b,a.cssClasses.target),0===a.dir?c(v,a.cssClasses.ltr):c(v,a.cssClasses.rtl),0===a.ort?c(v,a.cssClasses.horizontal):c(v,a.cssClasses.vertical),c(v,"rtl"===getComputedStyle(v).direction?a.cssClasses.textDirectionRtl:a.cssClasses.textDirectionLtr),h=z(v,a.cssClasses.base),function(e,t){var n=z(t,a.cssClasses.connects);p=[],(m=[]).push(O(n,e[0]));for(var i=0;i<a.handles;i++)p.push(F(t,i)),x[i]=i,m.push(O(n,e[i+1]))}(a.connect,h),(y=a.events).fixed||p.forEach((function(e,t){K(w.start,e.children[0],te,{handleNumbers:[t]})})),y.tap&&K(w.start,h,(function(e){e.stopPropagation();var t,n,i,s=J(e.calcPoint),r=(t=s,i=!(n=100),p.forEach((function(e,a){if(!W(a)){var o=S[a],s=Math.abs(o-t);(s<n||s<=n&&o<t||100===s&&100===n)&&(i=a,n=s)}})),i);if(!1===r)return!1;a.events.snap||o(b,a.cssClasses.tap,a.animationDuration),de(r,s,!0,!0),ce(),ae("slide",r,!0),ae("update",r,!0),ae("change",r,!0),ae("set",r,!0),a.events.snap&&te(e,{handleNumbers:[r]})}),{}),y.hover&&K(w.move,h,(function(e){var t=J(e.calcPoint),n=$.getStep(t),i=$.fromStepping(n);Object.keys(P).forEach((function(e){"hover"===e.split(".")[0]&&P[e].forEach((function(e){e.call(g,i)}))}))}),{hover:!0}),y.drag&&m.forEach((function(e,t){if(!1!==e&&0!==t&&t!==m.length-1){var n=p[t-1],i=p[t],o=[e];c(e,a.cssClasses.draggable),y.fixed&&(o.push(n.children[0]),o.push(i.children[0])),o.forEach((function(e){K(w.start,e,te,{handles:[n,i],handleNumbers:[t-1,t]})}))}})),pe(a.start),a.pips&&q(a.pips),a.tooltips&&Y(),ne("update",(function(e,t,n,i,o){x.forEach((function(e){var t=p[e],i=oe(S,e,0,!0,!0,!0),s=oe(S,e,100,!0,!0,!0),r=o[e],l=a.ariaFormat.to(n[e]);i=$.fromStepping(i).toFixed(1),s=$.fromStepping(s).toFixed(1),r=$.fromStepping(r).toFixed(1),t.children[0].setAttribute("aria-valuemin",i),t.children[0].setAttribute("aria-valuemax",s),t.children[0].setAttribute("aria-valuenow",r),t.children[0].setAttribute("aria-valuetext",l)}))})),g={destroy:function(){for(var e in a.cssClasses)a.cssClasses.hasOwnProperty(e)&&d(b,a.cssClasses[e]);for(;b.firstChild;)b.removeChild(b.firstChild);delete b.noUiSlider},steps:function(){return x.map(fe)},on:ne,off:ie,get:me,set:pe,setHandle:function(t,n,i,a){if(!(0<=(t=Number(t))&&t<x.length))throw new Error("noUiSlider ("+e+"): invalid handle number, got: "+t);de(t,he(n,t),!0,!0,a),ae("update",t),i&&ae("set",t)},reset:function(e){pe(a.start,e)},__moveHandles:function(e,t,n){re(e,t,S,n)},options:l,updateOptions:function(e,t){var n=me(),i=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];i.forEach((function(t){void 0!==e[t]&&(l[t]=e[t])}));var o=B(l);i.forEach((function(t){void 0!==e[t]&&(a[t]=o[t])})),$=o.spectrum,a.margin=o.margin,a.limit=o.limit,a.padding=o.padding,a.pips?q(a.pips):X(),a.tooltips?Y():H(),S=[],pe(e.start||n,t)},target:b,removePips:X,removeTooltips:H,getTooltips:function(){return _},getOrigins:function(){return p},pips:q}}(n,B(a),a);return n.noUiSlider=l}}})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){var t=/\+/g;function n(e){return o.raw?e:encodeURIComponent(e)}function i(e){return n(o.json?JSON.stringify(e):String(e))}function a(n,i){var a=o.raw?n:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),o.json?JSON.parse(e):e}catch(e){}}(n);return e.isFunction(i)?i(a):a}var o=e.cookie=function(t,s,r){if(arguments.length>1&&!e.isFunction(s)){if("number"==typeof(r=e.extend({},o.defaults,r)).expires){var l=r.expires,c=r.expires=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*l)}return document.cookie=[n(t),"=",i(s),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var d,u=t?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,m=h.length;p<m;p++){var f=h[p].split("="),_=(d=f.shift(),o.raw?d:decodeURIComponent(d)),g=f.join("=");if(t===_){u=a(g,s);break}t||void 0===(g=a(g))||(u[_]=g)}return u};o.defaults={},e.removeCookie=function(t,n){return e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t)}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).PerfectScrollbar=t()}(this,(function(){"use strict";var e=Math.abs,t=Math.floor;function n(e){return getComputedStyle(e)}function i(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i+="px"),e.style[n]=i}return e}function a(e){var t=document.createElement("div");return t.className=e,t}function o(e,t){if(!y)throw new Error("No element matching method supported");return y.call(e,t)}function s(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function r(e,t){return Array.prototype.filter.call(e.children,(function(e){return o(e,t)}))}function l(e,t){var n=e.element.classList,i=w.state.scrolling(t);n.contains(i)?clearTimeout(k[t]):n.add(i)}function c(e,t){k[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(w.state.scrolling(t))}),e.settings.scrollingThreshold)}function d(e,t){l(e,t),c(e,t)}function u(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function h(e,t,n,i,a){var o;if(void 0===i&&(i=!0),void 0===a&&(a=!1),"top"===t)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,i,a){var o=n[0],s=n[1],r=n[2],l=n[3],c=n[4],h=n[5];void 0===i&&(i=!0),void 0===a&&(a=!1);var p=e.element;e.reach[l]=null,1>p[r]&&(e.reach[l]="start"),p[r]>e[o]-e[s]-1&&(e.reach[l]="end"),t&&(p.dispatchEvent(u("ps-scroll-"+l)),0>t?p.dispatchEvent(u("ps-scroll-"+c)):0<t&&p.dispatchEvent(u("ps-scroll-"+h)),i&&d(e,l)),e.reach[l]&&(t||a)&&p.dispatchEvent(u("ps-"+l+"-reach-"+e.reach[l]))}(e,n,o,i,a)}function p(e){return parseInt(e,10)||0}function m(e){return o(e,"input,[contenteditable]")||o(e,"select,[contenteditable]")||o(e,"textarea,[contenteditable]")||o(e,"button,[contenteditable]")}function f(e){var n=Math.ceil,i=e.element,a=t(i.scrollTop),o=i.getBoundingClientRect();e.containerWidth=n(o.width),e.containerHeight=n(o.height),e.contentWidth=i.scrollWidth,e.contentHeight=i.scrollHeight,i.contains(e.scrollbarXRail)||(r(i,w.element.rail("x")).forEach((function(e){return s(e)})),i.appendChild(e.scrollbarXRail)),i.contains(e.scrollbarYRail)||(r(i,w.element.rail("y")).forEach((function(e){return s(e)})),i.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=_(e,p(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=p((e.negativeScrollAdjustment+i.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=_(e,p(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=p(a*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),g(i,e),e.scrollbarXActive?i.classList.add(w.state.active("x")):(i.classList.remove(w.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,i.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?i.classList.add(w.state.active("y")):(i.classList.remove(w.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,i.scrollTop=0)}function _(e,t){var n=Math.min,i=Math.max;return e.settings.minScrollbarLength&&(t=i(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=n(t,e.settings.maxScrollbarLength)),t}function g(e,n){var a={width:n.railXWidth},o=t(e.scrollTop);a.left=n.isRtl?n.negativeScrollAdjustment+e.scrollLeft+n.containerWidth-n.contentWidth:e.scrollLeft,n.isScrollbarXUsingBottom?a.bottom=n.scrollbarXBottom-o:a.top=n.scrollbarXTop+o,i(n.scrollbarXRail,a);var s={top:o,height:n.railYHeight};n.isScrollbarYUsingRight?n.isRtl?s.right=n.contentWidth-(n.negativeScrollAdjustment+e.scrollLeft)-n.scrollbarYRight-n.scrollbarYOuterWidth-9:s.right=n.scrollbarYRight-e.scrollLeft:n.isRtl?s.left=n.negativeScrollAdjustment+e.scrollLeft+2*n.containerWidth-n.contentWidth-n.scrollbarYLeft-n.scrollbarYOuterWidth:s.left=n.scrollbarYLeft+e.scrollLeft,i(n.scrollbarYRail,s),i(n.scrollbarX,{left:n.scrollbarXLeft,width:n.scrollbarXWidth-n.railBorderXWidth}),i(n.scrollbarY,{top:n.scrollbarYTop,height:n.scrollbarYHeight-n.railBorderYWidth})}function v(e,t){function n(t){t.touches&&t.touches[0]&&(t[r]=t.touches[0].pageY),g[p]=v+k*(t[r]-y),l(e,m),f(e),t.stopPropagation(),t.preventDefault()}function i(){c(e,m),e[_].classList.remove(w.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",n)}function a(t,a){v=g[p],a&&t.touches&&(t[r]=t.touches[0].pageY),y=t[r],k=(e[s]-e[o])/(e[d]-e[h]),a?e.event.bind(e.ownerDocument,"touchmove",n):(e.event.bind(e.ownerDocument,"mousemove",n),e.event.once(e.ownerDocument,"mouseup",i),t.preventDefault()),e[_].classList.add(w.state.clicking),t.stopPropagation()}var o=t[0],s=t[1],r=t[2],d=t[3],u=t[4],h=t[5],p=t[6],m=t[7],_=t[8],g=e.element,v=null,y=null,k=null;e.event.bind(e[u],"mousedown",(function(e){a(e)})),e.event.bind(e[u],"touchstart",(function(e){a(e,!0)}))}var y="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),w={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},k={x:null,y:null},b=function(e){this.element=e,this.handlers={}},$={isEmpty:{configurable:!0}};b.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},b.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(i){return!(!t||i===t)||(n.element.removeEventListener(e,i,!1),!1)}))},b.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},$.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(b.prototype,$);var C=function(){this.eventElements=[]};C.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new b(e),this.eventElements.push(t)),t},C.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},C.prototype.unbind=function(e,t,n){var i=this.eventElement(e);i.unbind(t,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},C.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},C.prototype.once=function(e,t,n){var i=this.eventElement(e),a=function(e){i.unbind(t,a),n(e)};i.bind(t,a)};var S={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&0<window.navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},x={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,f(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,f(e),t.stopPropagation()}))},"drag-thumb":function(e){v(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),v(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var n=e.element,i=function(){return o(n,":hover")},a=function(){return o(e.scrollbarX,":focus")||o(e.scrollbarY,":focus")};e.event.bind(e.ownerDocument,"keydown",(function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)&&(i()||a())){var s=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(s){if("IFRAME"===s.tagName)s=s.contentDocument.activeElement;else for(;s.shadowRoot;)s=s.shadowRoot.activeElement;if(m(s))return}var r=0,l=0;switch(o.which){case 37:r=o.metaKey?-e.contentWidth:o.altKey?-e.containerWidth:-30;break;case 38:l=o.metaKey?e.contentHeight:o.altKey?e.containerHeight:30;break;case 39:r=o.metaKey?e.contentWidth:o.altKey?e.containerWidth:30;break;case 40:l=o.metaKey?-e.contentHeight:o.altKey?-e.containerHeight:-30;break;case 32:l=o.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:l=e.containerHeight;break;case 34:l=-e.containerHeight;break;case 36:l=e.contentHeight;break;case 35:l=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==r||e.settings.suppressScrollY&&0!==l||(n.scrollTop-=l,n.scrollLeft+=r,f(e),function(i,a){var o=t(n.scrollTop);if(0===i){if(!e.scrollbarYActive)return!1;if(0===o&&0<a||o>=e.contentHeight-e.containerHeight&&0>a)return!e.settings.wheelPropagation}var s=n.scrollLeft;if(0===a){if(!e.scrollbarXActive)return!1;if(0===s&&0>i||s>=e.contentWidth-e.containerWidth&&0<i)return!e.settings.wheelPropagation}return!0}(r,l)&&o.preventDefault())}}))},wheel:function(i){function a(e,t,i){if(!S.isWebKit&&s.querySelector("select:focus"))return!0;if(!s.contains(e))return!1;for(var a=e;a&&a!==s;){if(a.classList.contains(w.element.consuming))return!0;var o=n(a);if(i&&o.overflowY.match(/(scroll|auto)/)){var r=a.scrollHeight-a.clientHeight;if(0<r&&(0<a.scrollTop&&0>i||a.scrollTop<r&&0<i))return!0}if(t&&o.overflowX.match(/(scroll|auto)/)){var l=a.scrollWidth-a.clientWidth;if(0<l&&(0<a.scrollLeft&&0>t||a.scrollLeft<l&&0<t))return!0}a=a.parentNode}return!1}function o(n){var o=function(e){var t=e.deltaX,n=-1*e.deltaY;return(void 0===t||void 0===n)&&(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),r=o[0],l=o[1];if(!a(n.target,r,l)){var c=!1;i.settings.useBothWheelAxes?i.scrollbarYActive&&!i.scrollbarXActive?(l?s.scrollTop-=l*i.settings.wheelSpeed:s.scrollTop+=r*i.settings.wheelSpeed,c=!0):i.scrollbarXActive&&!i.scrollbarYActive&&(r?s.scrollLeft+=r*i.settings.wheelSpeed:s.scrollLeft-=l*i.settings.wheelSpeed,c=!0):(s.scrollTop-=l*i.settings.wheelSpeed,s.scrollLeft+=r*i.settings.wheelSpeed),f(i),c=c||function(n,a){var o=t(s.scrollTop),r=0===s.scrollTop,l=o+s.offsetHeight===s.scrollHeight,c=0===s.scrollLeft,d=s.scrollLeft+s.offsetWidth===s.scrollWidth;return!(e(a)>e(n)?r||l:c||d)||!i.settings.wheelPropagation}(r,l),c&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}var s=i.element;void 0===window.onwheel?void 0!==window.onmousewheel&&i.event.bind(s,"mousewheel",o):i.event.bind(s,"wheel",o)},touch:function(i){function a(n,a){var o=t(h.scrollTop),s=h.scrollLeft,r=e(n),l=e(a);if(l>r){if(0>a&&o===i.contentHeight-i.containerHeight||0<a&&0===o)return 0===window.scrollY&&0<a&&S.isChrome}else if(r>l&&(0>n&&s===i.contentWidth-i.containerWidth||0<n&&0===s))return!0;return!0}function o(e,t){h.scrollTop-=t,h.scrollLeft-=e,f(i)}function s(e){return e.targetTouches?e.targetTouches[0]:e}function r(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function l(e){if(r(e)){var t=s(e);p.pageX=t.pageX,p.pageY=t.pageY,m=(new Date).getTime(),null!==g&&clearInterval(g)}}function c(e,t,i){if(!h.contains(e))return!1;for(var a=e;a&&a!==h;){if(a.classList.contains(w.element.consuming))return!0;var o=n(a);if(i&&o.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(0<s&&(0<a.scrollTop&&0>i||a.scrollTop<s&&0<i))return!0}if(t&&o.overflowX.match(/(scroll|auto)/)){var r=a.scrollWidth-a.clientWidth;if(0<r&&(0<a.scrollLeft&&0>t||a.scrollLeft<r&&0<t))return!0}a=a.parentNode}return!1}function d(e){if(r(e)){var t=s(e),n={pageX:t.pageX,pageY:t.pageY},i=n.pageX-p.pageX,l=n.pageY-p.pageY;if(c(e.target,i,l))return;o(i,l),p=n;var d=(new Date).getTime(),u=d-m;0<u&&(_.x=i/u,_.y=l/u,m=d),a(i,l)&&e.preventDefault()}}function u(){i.settings.swipeEasing&&(clearInterval(g),g=setInterval((function(){return i.isInitialized?void clearInterval(g):_.x||_.y?.01>e(_.x)&&.01>e(_.y)?void clearInterval(g):(o(30*_.x,30*_.y),_.x*=.8,void(_.y*=.8)):void clearInterval(g)}),10))}if(S.supportsTouch||S.supportsIePointer){var h=i.element,p={},m=0,_={},g=null;S.supportsTouch?(i.event.bind(h,"touchstart",l),i.event.bind(h,"touchmove",d),i.event.bind(h,"touchend",u)):S.supportsIePointer&&(window.PointerEvent?(i.event.bind(h,"pointerdown",l),i.event.bind(h,"pointermove",d),i.event.bind(h,"pointerup",u)):window.MSPointerEvent&&(i.event.bind(h,"MSPointerDown",l),i.event.bind(h,"MSPointerMove",d),i.event.bind(h,"MSPointerUp",u)))}}},E=function(e,o){var s=this;if(void 0===o&&(o={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=e,e.classList.add(w.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},o)this.settings[r]=o[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var l=function(){return e.classList.add(w.state.focus)},c=function(){return e.classList.remove(w.state.focus)};this.isRtl="rtl"===n(e).direction,!0===this.isRtl&&e.classList.add(w.rtl),this.isNegativeScroll=function(){var t,n=e.scrollLeft;return e.scrollLeft=-1,t=0>e.scrollLeft,e.scrollLeft=n,t}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new C,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=a(w.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=a(w.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",l),this.event.bind(this.scrollbarX,"blur",c),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var d=n(this.scrollbarXRail);this.scrollbarXBottom=parseInt(d.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=p(d.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=p(d.borderLeftWidth)+p(d.borderRightWidth),i(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=p(d.marginLeft)+p(d.marginRight),i(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=a(w.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=a(w.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",l),this.event.bind(this.scrollbarY,"blur",c),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u=n(this.scrollbarYRail);this.scrollbarYRight=parseInt(u.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=p(u.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=n(e);return p(t.width)+p(t.paddingLeft)+p(t.paddingRight)+p(t.borderLeftWidth)+p(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=p(u.borderTopWidth)+p(u.borderBottomWidth),i(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=p(u.marginTop)+p(u.marginBottom),i(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:0>=e.scrollLeft?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:0>=e.scrollTop?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return x[e](s)})),this.lastScrollTop=t(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return s.onScroll(e)})),f(this)};return E.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,i(this.scrollbarXRail,{display:"block"}),i(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=p(n(this.scrollbarXRail).marginLeft)+p(n(this.scrollbarXRail).marginRight),this.railYMarginHeight=p(n(this.scrollbarYRail).marginTop)+p(n(this.scrollbarYRail).marginBottom),i(this.scrollbarXRail,{display:"none"}),i(this.scrollbarYRail,{display:"none"}),f(this),h(this,"top",0,!1,!0),h(this,"left",0,!1,!0),i(this.scrollbarXRail,{display:""}),i(this.scrollbarYRail,{display:""}))},E.prototype.onScroll=function(){this.isAlive&&(f(this),h(this,"top",this.element.scrollTop-this.lastScrollTop),h(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=t(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},E.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),s(this.scrollbarX),s(this.scrollbarY),s(this.scrollbarXRail),s(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},E.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")},E})),window.gFormatPrice=function(e){return(e=(e+="").replace(/\s/g,"")).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1 ")},window.gCalcMortgage=function(e,t,n,i,a){var o=12*n,s=Math.min(t,e),r=a/1200,l=e-Math.max(e*i,s);if(l<=0)return"0";var c=r*Math.pow(1+r,o)/(Math.pow(1+r,o)-1),d=Math.round(c*l);return d=void 0===d.toLocaleString?gFormatPrice(d):d.toLocaleString()},window.gDigitPhoneNumber=function(e){return e.replace(/[()\- ]+/g,"")},window.gIsRussianPhoneNumber=function(e){return/^(\+7|8)\d{10}$/.test(gDigitPhoneNumber(e))},window.addEventListener("load",(function(){"undefined"!=typeof YaCounter&&[{selector:'a.ring[href^="https://t.me/whitewill"]',goal:"tg-channel"},{selector:'a.ring[href^="https://t.me/Torbosov"]',goal:"tg_chanel_owner"},{selector:'a.ring[href^="https://whitewill"]',goal:"main-url"},{selector:'a.ring[href^="https://wisewill"]',goal:"main-url"},{selector:'a.ring[href^="https://www.youtube"]',goal:"youtube"},{selector:'a.ring[href^="https://www.facebook"]',goal:"facebook"},{selector:'a.ring[href^="https://www.instagram"]',goal:"instagram"},{selector:"a.popup-thanks__social-item.is_telegram",goal:"tg-channel"},{selector:'a.popup-thanks__social-item[href^="https://t.me/Torbosov"]',goal:"tg_chanel_owner"},{selector:'a.popup-thanks__social-item[href^="https://www.youtube"]',goal:"youtube"},{selector:'a.popup-thanks__social-item[href^="https://whitewill"]',goal:"main_url"},{selector:'a.popup-thanks__social-item[href^="https://wisewill"]',goal:"main_url"}].map((e=>{$(e.selector).attr("onclick",`ym(${YaCounter}, 'reachGoal', '${e.goal}'); return true;`)}))})),window.gSendGoal=function(e,t,n){var i=0,a=null;if("undefined"!=typeof Ya&&void 0===o)try{var o=Ya.Metrika2.counters()[0].id}catch(e){try{o=Ya.Metrika.counters()[0].id}catch(e){}}function s(e){n&&((i>=1||e)&&(clearTimeout(a),n(),n=null),i++)}try{a=setTimeout(s.bind(this,!0),5e3),void 0!==o&&ym(o,"reachGoal",e,null,(function(){console.log("ym ok "+e),s()})),"undefined"!=typeof YaCounterGeneral&&ym(YaCounterGeneral,"reachGoal",e,null,(function(){console.log("ym general ok "+e),s()})),"undefined"!=typeof gtag?gtag("event",e,{event_category:t,event_callback:function(){console.log("gtag ok "+e),s()}}):"undefined"!=typeof ga&&(ga("send","event",t,e),console.log("ga ok "+e))}catch(e){s(!0),console.error(e.message)}},window.gTwitterSendGoal=function(e){var t=$('meta[name="twitter_pixel"]').attr("content");"function"==typeof twq&&t?(twq("event",t,e),console.log("twitter_send_goal",{code:t,data:e})):console.log("twitter_send_goal has not been sent",{twq:typeof twq,code:t})},window.gAddDownloadKey=function(e,t){let n="";n=e.match(/\?/g)?e+"&download-key="+t:e+"?download-key="+t;let i=$('input[name="original-host"]').val();return void 0!==i&&(n+="&original-host="+i),n},window.gCollectUrlParams=function(e){return e=gAddRoistatParams(e),e=gAddYmParams(e),e=gAddGaParams(e)},window.gAddUtmParams=function(e,t="utm"){return $.cookie(t)&&(e+=`&${$.cookie(t)}`),e},window.gAddRoistatParams=function(e){return $.cookie("roistat_visit")&&(e+=`&lidroistat_visit=${$.cookie("roistat_visit")}`),e},window.gAddYmParams=function(e){if($.cookie("_ym_uid")&&(e+=`&_ym_uid=${$.cookie("_ym_uid")}`),void 0===t&&"undefined"!=typeof Ya)var t=Ya?.Metrika2?.counters()[0]?.id??null;return void 0!==t&&(e+=`&yandex_metrika_id=${t}`),"undefined"!=typeof YaCounterGeneral&&(e+=`&yandex_metrika_general_id=${YaCounterGeneral}`),e},window.gAddGaParams=function(e){$.cookie("_ga")&&(e+=`&_ga_uid=${$.cookie("_ga")}`),"undefined"!=typeof Ga&&(e+=`&ga_id=${Ga}`),"undefined"!=typeof GaGeneral&&(e+=`&ga_general_id=${GaGeneral}`);let t=new URLSearchParams(window.location.search).get("gclid");return t&&(e+=`&gclid=${t}`),e},window.gMakeTime=function(e,t=!0,n={hours:!1,minutes:!0},i={hours:!0,minutes:!0,seconds:!0}){let a=Math.floor(e/3600),o=Math.floor(e%3600/60);if(e%=60,t){let t="";return(a||n.hours)&&(i.hours&&(a=a.toString().padStart(2,"0")),t+=`${a}:`),(o||n.minutes||a&&!o)&&((a||i.minutes)&&(o=o.toString().padStart(2,"0")),t+=`${o}:`),(e||o&&!e)&&((o||i.seconds)&&(e=e.toString().padStart(2,"0")),t+=`${e}`),t}return{hours:a,minutes:o,seconds:e}},$((function(){function e(e,t=null){t&&(e+="&errorMessage="+encodeURIComponent(t)),window.formErrorApi(e),alert("Кажется, что-то пошло не так. Повторите попытку позднее, спасибо.")}async function t(t,i,a){var o=t,s=o.closest(".form, form"),r=s.find("input, textarea, select"),l=r.serialize(),c=s.find('input[name="lidtype"]'),d=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),u=!1,h=s.find('[name="phone"]'),p=s.find('[name="phone"]').val(),m=s.find('[name="verifyUserPhone"]')?.val()??!1,f="has-error";if(s.find("input").removeClass(f),p&&-1!==p.indexOf("_"))return h.addClass(f),void s.find('input:not([name="phone"])').each((function(e,t){$(t).val()?$(t).removeClass(f):($(t).addClass(f))}));c&&(u="presentation"===c.val()),l=gCollectUrlParams(l),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var _=s.attr("action")||s.data("action");if(_){var g,v=new URL(window.location.toString());if(_=new URL(_),v.searchParams.forEach((function(e,t){_.searchParams.append(t,e)})),d&&u){var y=ww_tools.forms.f.checkInputs(r,["phone","name"]);if(Object.keys(y).length>0)return void ww_tools.forms.f.showErrors(s,l);g=window.open(window.location.href,"_blank")}$.ajax({url:_.toString(),method:"post",dataType:"json",data:l,async:!1,xhrFields:{withCredentials:!0},complete:function(t){if(u?ww_tools.cge.f.sendEvent("download"):ww_tools.cge.f.sendEvent("callback"),422===t.status){var r=t.responseJSON.errors;for(var c in console.log(r),r)if(r.hasOwnProperty(c)){var h=s.find('[name="'+c+'"]');if(!h.length||"hidden"===h.attr("type")){e(l);break}h.addClass(f),h.siblings(".error").html(r[c][0])}}else if(429===t.status){let e=t.responseJSON.error??"";if(console.log("Recaptcha error",e),["recaptcha_v3_error","recaptcha_v2_error","recaptcha_you_are_bot"].includes(e)){$(".for-recaptcha2").html(""),s.find(".for-recaptcha2").html('<div id="recaptcha2"></div>');grecaptcha.render("recaptcha2",{sitekey:$('meta[name="recaptcha-site-key-v2"]').attr("content"),callback:e=>{$(".token_recaptcha_v2").val(e)},"error-callback":()=>{let e,t=document.querySelector("#recaptcha2 iframe");e=t?t.getAttribute("src"):"Не удалось зафиксировать src, так как iframe капчи не найден!",window.formErrorApi({error:"Recaptcha v2. Чтобы увидеть ошибку перейдите по ссылке iframe_src.",iframe_src:e},"front_base.js",0)}})}}else if(424===t.status&&m)ww_tools.forms.tools.verificationPhone.f.setState(s,"modal_open");else if(403===t.status)alert("Кажется, что-то пошло не так. Повторите попытку позднее, спасибо.");else{if(!t.responseJSON||"form_sent_ok"!==t.responseJSON.status)return e(l),!1;n(o.attr("data-goal"),o.attr("data-goal-category")),function(e){var t=$('meta[name="twitter_pixel"]').attr("content");"function"==typeof twq&&t?(twq("event",t,e),console.log("twitter_send_goal",{code:t,data:e})):console.log("twitter_send_goal has not been sent",{twq:typeof twq,code:t})}({phone_number:p.replace(/[^\d+]/g,"")});var _=!1;void 0!==t.responseJSON.redirect&&(t.responseJSON.redirect=gAddDownloadKey(t.responseJSON.redirect,t.responseJSON["download-key"]),void 0===a||d?d?null==g?window.location=t.responseJSON.redirect:g.location=t.responseJSON.redirect:null==(g=window.open(t.responseJSON.redirect,"_blank"))?window.location=t.responseJSON.redirect:_=!0:a(t)),o.parents(".modal").length>0&&$(document).trigger("closeModal",{modal:o.parents(".modal")}),void 0!==i&&i(t,{windowIsOpened:_})}}})}}function n(e,t,n){var i=0,a=null;if("undefined"!=typeof Ya&&void 0===o)try{var o=Ya.Metrika2.counters()[0].id}catch(e){try{o=Ya.Metrika.counters()[0].id}catch(e){}}function s(e){n&&((i>=1||e)&&(clearTimeout(a),n(),n=null),i++)}try{a=setTimeout(s.bind(this,!0),5e3),void 0!==o&&ym(o,"reachGoal",e,null,(function(){console.log("ym ok "+e),s()})),"undefined"!=typeof YaCounterGeneral&&ym(YaCounterGeneral,"reachGoal",e,null,(function(){console.log("ym general ok "+e),s()})),"undefined"!=typeof gtag?gtag("event",e,{event_category:t,event_callback:function(){console.log("gtag ok "+e),s()}}):"undefined"!=typeof ga&&(ga("send","event",t,e),console.log("ga ok "+e))}catch(e){s(!0),console.error(e.message)}}$(document).on("send-form",(function(e,n){var i=$('meta[name="recaptcha-site-key"]').attr("content");i?ww_tools.forms.f.sendFormWithRecaptchaReset(i,n):t(n.el,n.success,n.thanksPage)})),$(document).on("send-form-delayed",(function(e,n){t(n.el,n.success,n.thanksPage)})),window.g_send_goal=n}));var main={language:null,locale:null,init:function(){$(document).ready((function(){main.initAll(),main.formActions()})),$(document).on("ww.blocks_constructor.block-selected",(function(){main.initAll()})),$(document).on("filtered",(function(){main.layoutsControll()}))},initAll:function(){main.initLocale(),main.toggleSwitch(),main.stickyHeader(),main.animateControll(),main.menu(),main.expertSlider(),main.layoutsControll(),main.toggleGallery(),main.presentationShadow(),main.mobileBtnSlider(),main.youtubeVideo(),main.placesSlider(),main.articleControll(),main.developerControll(),main.fixSwipeIosSlider(),main.buildingStages(),main.rangeControll(),main.phoneMask(),main.popupActions(),main.dropDown(),main.generalPlan(),main.othersProject(),main.startSales(),main.articleSlider(),main.navHidden(),main.cookiePopup(),main.localeSwitcher(),"undefined"==typeof g_is_admin_panel&&main.paymentPlanScrollAnimate(),main.initFinishingPopup(),main.hrefInit(),main.scrollToId(),main.awardsHelperInit(),main.imagePopupInit(),main.flatPopupSlider(),$(document).on("initArticleSlider",(function(){main.articleSlider()})),main.formToggle(),main.metrosInit(),main.paymentPlanRows(),main.paymentPlanTable(),main.unitLayoutsFilter(),main.changeLayoutsFilter(),main.closePopupBtnsInit(),main.retailSliderInit(),main.perfectScrollbarsInit(),main.faq(),main.switchDealType(),main.promotionsSwitcher(),main.arrowUpinit(),main.tooltipPolicy(),main.tabs(),main.infrastructureSliderPopup()},perfectScrollbars:[],arrowUpinit:function(){$(window).scroll((function(){var e=$(".arrow-up_wrapper");$(this).scrollTop()>200?e.each((function(){var e=$(this);e.hasClass("show")||(e.fadeIn(),e.css("display","flex"),e.addClass("show"))})):e.each((function(){var e=$(this);e.hasClass("show")&&(e.fadeOut("show"),e.css("display","none"),e.removeClass("show"))}))}))},switchDealType:function(){$("[data-switch-deal-type]").click((function(){var e=$(this),t=$("[data-switch-deal-type]"),n=e.attr("data-switch-deal-type"),i=$(`[data-switch-deal-type="${n}"]`);t.removeClass("active"),i.addClass("active");var a=$("[data-deal-type]"),o=$(`[data-deal-type="${n}"]`);a.addClass("disabled"),a.each((function(){var e=$(this);e.addClass("disabled"),e.find("[data-area-switcher]").removeClass("active"),e.find("[data-currency]").removeClass("active"),e.find("[input-range]").removeClass("active")})),o.each((function(){var e=$(this);e.removeClass("disabled"),e.find("[data-area-switcher]").first().click(),e.find("[data-currency]").first().click()}))})),$(document).ready((function(){"rent"===new URLSearchParams(window.location.search).get("deal_type")&&$('[data-switch-deal-type="rent"]').last().click()}))},perfectScrollbarsRefresh:function(){for(var e=0;main.perfectScrollbars.length>e;e++)main.perfectScrollbars[e].update()},perfectScrollbarsInit:function(){$('[data-ps="layouts"]').each((function(){main.perfectScrollbars.push(new PerfectScrollbar(this,{wheelPropagation:!1,swipeEasing:!0,minScrollbarLength:20}))}))},closePopupBtnsInit:function(){$("[data-modal-close]").each((function(){$(this).click((function(){var e=$("#"+$(this).attr("data-modal-close"));setTimeout((function(){main.closePopup(e)}),200)}))}))},metrosInit:function(){function e(e,t,n){var i=["name","for","id","data-index"];n=n||"example";for(var a=0;i.length>a;a++)e.find(`[${i[a]}]`).each((function(){$(this).attr(i[a],$(this).attr(i[a]).replace(n,t))})),void 0!==e.attr(i[a])&&e.attr(i[a],e.attr(i[a]).replace(n,t));var o=e.attr("class");return o=prepareClasses(o),e.attr("class",o),e}$(document).on("click",".remove-metro-station",(function(){var e=$(this).parents(".metro-station").find("input[type=hidden]").val();$(this).parents(".metro-list").siblings(".form-group").find(`option[value="${e}"]`).prop("disabled",!1),$(this).parents(".metro-station").remove()}));var t=$(".metro-station").length,n=$(".purpose-item").length,i=$(".type-item").length,a=$(".tower-item").length,o={metroSelect:function(n){var i,a=n.find("option:selected"),o=a.html(),s=n.val();s.length&&((i=$(".metro-station.example").clone()).removeClass("d-none example"),(i=e(i,t)).find(".time").html("мин. до "+o),i.find(".input-metro-id").val(s),i.find(".input-metro-title").val(o),$(".metro-list").append(i),n.val(null).trigger("change"),a.prop("disabled",!0),t++)},purposeSelect:function(e){s(e,"purpose",n,!0)},lotTypeSelect:function(e){s(e,"type",i)},towerSelect:function(e){s(e,"tower",a)}};function s(t,n,i,a=!1){var o,s=t.find("option:selected"),r=s.html(),l=t.val();l.length&&((o=$("."+n+"-item.example").clone()).removeClass("d-none example"),(o=e(o,i)).find(".input-"+n).val(l),a&&o.find(".input-"+n).attr("name",n+"s["+l+"]"),o.find("."+n+"-name").html(r),$("."+n+"-list").append(o),t.val(null).trigger("change"),s.prop("disabled",!0),i++)}$(".multi-select-search").each((function(){$(this).select2({}),void 0!==$(this).data("change")&&$(this).change((function(){var e=$(this).data("change");void 0!==e&&(console.log("callback",e),o[e]($(this)))}))}))},awardsHelperInit:function(){$(".awards__line-item").mouseover((function(e){var t=$(this).first().offset(),n=$(this).data("helper");$("body").append('<p class="awards__line-item-helper">'+n+"</p>"),$(".awards__line-item-helper").css({left:t.left,top:t.top})})).mouseout((function(){$(".awards__line-item-helper").remove()}))},imagePopupInit:function(){$("[image-modal]").click((function(e){e.preventDefault();var t=$("#image-modal"),n=$(this).attr("href");t.find(".popup__image-block").html(`<img alt="img" src="${n}" class="popup__image">`),main.showPopup(t)}))},numberValidate:function(e){var t=e||window.event,n=t.keyCode||t.which;n=String.fromCharCode(n);/[0-9]/.test(n)||(t.returnValue=!1,t.preventDefault&&t.preventDefault())},isIOS:function(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)},checkMobileDevice:function(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return main.isIOS()},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};return e.any()},numberFormat:function(e,t){return void 0===t&&(t=0),new Intl.NumberFormat(this.locale,{style:"decimal",maximumFractionDigits:t}).format(e)},priceFormat:function(e,t,n){return void 0===n&&(n=0),new Intl.NumberFormat(this.locale,{style:"currency",currency:t,maximumFractionDigits:n}).format(e)},trimSpace:function(e,t){return e.replace(/\s/g,"").trim(),t&&(e*=1),e},phoneMask:function(){$(".phone-mask").each((function(){main.maskTel($(this))}))},maskTel:function(e){if(window.maskTel_k||(window.maskTel_k=10),window.maskTel_k--,!(window.maskTel_k<=0))if(void 0===$.masksLoad)setTimeout((function(){maskTel(e)}),200);else{window.maskTel_k=10;var t={inputmask:{definitions:{"#":{validator:"[0-9]",cardinality:1}},clearIncomplete:!1,showMaskOnHover:!1,autoUnmask:!1,onincomplete:function(){$(this).parents(".form, form")?.find('button[type="submit"]')?.prop("disabled",!0)},oncomplete:function(){$(this).parents(".form, form")?.find('input[name="name"]')?.focus(),$(this).parents(".form, form")?.find('button[type="submit"]')?.prop("disabled",!1)}},match:/[0-9]/,replace:"#",list:$.masksSort(phoneCode,["#"],/[0-9]|#/,"mask"),listKey:"mask"};$(e).inputmasks(t)}},topPoup:0,heightPopup:0,showPopup:function(e,t,n=!1,i=!1,a="buttons"){if(i)var o=i.attr("data-modal-goal"),s=i.attr("data-modal-goal-category"),r=i.attr("data-modal-lead-type"),l=i.attr("data-modal-lead-name"),c=i.attr("data-modal-lead-department"),d=i.attr("data-modal-title"),u=i.attr("data-modal-subtitle"),h=i.attr("data-modal-mockup"),p=i.attr("data-presentation-route-social");function m(){e.addClass("show"),setTimeout((function(){$("body").addClass("hidden layout")}),300),0==$(e).find(".popup__container").length||n||setTimeout((function(){main.topPoup=$(e).find(".popup__container").position().top,main.heightPopup=$(e).find(".popup__container").innerHeight()}),300),(t||0===t)&&setTimeout((function(){var n=$(e).find(`[data-item-index=${t}]`);$(e).animate({scrollTop:n.position().top},300)}),600),setTimeout((function(){"buttons"===a&&(e.find(".popup__form").addClass("hidden"),e.find(".popup__buttons").removeClass("hidden")),"form"===a&&(e.find(".popup__form").removeClass("hidden"),e.find(".popup__buttons").addClass("hidden"))}),100);var i=e.find('input[name="lidtype"]'),m=e.find('input[name="lidname"]'),f=e.find('input[name="department"]'),_=i.attr("data-lead-type-default"),g=e.find(".popup__title"),v=e.find(".popup__subtitle"),y=e.find(".popup__buttons > *"),w=e.find(".popup__expert-img");if(h&&(w.attr("data-url",h),w.removeClass("fb_loaded"),w.addClass("rotate"),fast_background.update()),y.length>0&&p&&y.each(((e,t)=>{var n=$(t).attr("href");$(t).attr("data-href-default",n),n=(n=n.split("&")).map((e=>e.includes("pdf_url")?"pdf_url="+p:e)),$(t).attr("href",n.join("&"))})),_&&i.val(_),r&&i.val(r),d&&g.html(d),u&&v.html(u),l)if(m.length>0)m.val(l);else{var k=$("<input>",{type:"hidden",name:"lidname",value:l});e.find("form").append(k)}else m.length>0&&m.remove();c&&f?.val(c),o&&(e.find("[data-goal]").attr("data-goal",o),e.find("[data-modal-goal]").attr("data-modal-goal",o)),s&&(e.find("[data-goal-category]").attr("data-goal-category",s),e.find("[data-modal-goal-category]").attr("data-modal-goal-category",s)),e.find("[location-map]").length&&$(document).trigger("initialize-location-map",{el:e.find("[location-map]")}),e.hasClass("flickity-inner")&&e.find(".flickity-enabled").flickity("resize")}0!==$(".popup.show").length?$(".popup.show").each((function(){void 0!==$(this).attr("not-closing")&&$(window).width()<=767?m():(main.closePopup($(this)),setTimeout((function(){m()}),301))})):m()},closePopup:function(e){var t=$(window).width()<768;(e=e||$(".popup.show")).addClass("hidden"),setTimeout((function(){$(e).removeClass("show"),$(e).removeClass("hidden"),t&&$(e).find(".popup__container").css("top",0),main.stopPopupVideos(e)}),300),$("body").addClass("layout_hidden"),setTimeout((function(){$("body").removeClass("hidden layout layout_hidden")}),300),"popup-flat"===e.attr("id")&&$(document).trigger("popup-flat-close");var n=e.find(".popup__title"),i=n.attr("data-modal-title"),a=e.find(".popup__subtitle"),o=a.attr("data-modal-subtitle"),s=e.find(".popup__buttons > *"),r=e.find(".popup__expert-img"),l=e.find(".popup__form"),c=r.attr("data-default-url");r.length&&c&&(r.attr("data-url",c),r.removeClass("rotate"),r.removeClass("fb_loaded"),fast_background.update()),l.length&&l.attr("action",l.attr("data-form-route")),n.length&&i&&n.html(i),a.length&&o&&a.html(o),s.length>0&&s.each(((e,t)=>{var n=$(t).attr("data-href-default");n.length>0&&n.match(/^http/)&&$(t).attr("href",n)}))},stopPopupVideos:function(e){var t=e.find("[video_youtube]");t.length>0&&t.remove()},popupActions:function(){var e=0,t=0;$(document).on("click","[data-popup]",(function(e){$(this).data("presentation-route")&&$(`#${$(this).data("popup")}`).find(".popup__form").attr("action",$(this).data("presentation-route")),e.preventDefault(),main.showPopup($(`#${$(this).data("popup")}`),!1,!1,$(this),$(this).data("popup-state"))})),$(".popup").on("click",(function(e){(!e.target.closest(".popup__container")&&!e.target.closest(".popup__gallery-item")||e.target.closest(".popup__close"))&&main.closePopup($(this))})),$(".popup__filter-bottom a").click((function(e){e.preventDefault(),main.closePopup($(this).parents(".popup"))})),$(".popup").on("touchstart",(function(e){e.target.closest(".popup__head-line")&&(t=e.touches[0].clientY-main.topPoup)})),$(".popup").on("touchmove",(function(n){n.target.closest(".popup__head-line")&&(e=n.touches[0].clientY-main.topPoup-t)>=0&&$(this).find(".popup__container").animate({top:e},0)})),$(".popup__head-line").on("touchend",(function(t){e>main.heightPopup/4||0==e&&!t.target.closest(".popup_filter")||t.target.closest(".popup__head-line-cross")?main.closePopup($(this).closest(".popup")):$(this).closest(".popup").find(".popup__container").animate({top:0},300),e=0}));var n=300,i=$("#popup-expert"),a=i.find(".popup-expert__broker"),o=i.find(".popup-expert__body"),s=i.find(".popup-expert__close"),r=$(".first-screen").outerHeight(),l=$(window).width()<768,c=l?100:400,d=0,u=0,h=!1;function p(e){switch(e){case"show":$(o).hasClass("show")||(a.show(n),a.addClass("show"));break;case"hide":a.hide(n),a.removeClass("show");break;default:return!1}}function m(e){switch(e){case"show":$(a).hasClass("show")||(o.show(n),o.addClass("show"));break;case"hide":o.hide(n),o.removeClass("show");break;default:return!1}}function f(e){$(e).closest("[popup-form-wrapp]").find("[popup-form-row]").toggleClass("hidden")}if($(window).scroll((function(){if(d=$(window).scrollTop(),u=d+$(window).height(),!(d>r))switch(!0){case r+c<u&&!h:l?$(".popup-expert__mobile").show(n):(p("show"),setTimeout((function(){h&&($(".popup-expert__body").hasClass("show")||(p("hide"),setTimeout((function(){m("show")}),n)))}),7e3)),h=!0;break;case r+c>u&&h:l?$(".popup-expert__mobile").hide(n):(o.hide(n),o.removeClass("show"),a.hide(n),a.removeClass("show")),h=!1}})),$(s).on("click",(function(e){m("hide"),setTimeout((function(){p("show")}),n)})),$(a).on("click",(function(e){p("hide"),setTimeout((function(){m("show")}),n)})),$("[show-popup-form]").on("click",(function(e){e.preventDefault(),f($(this)),$(this).closest("[popup-form-wrapp]").find(".popup__btn-return").addClass("show")})),$(".popup__btn-return").on("click",(function(e){f($(this)),$(this).removeClass("show")})),0!==$(".popup_map").length&&$(window).width()<768){var _=$(".popup_map").find(".location__legend-list"),g=_.find(".location__checkbox"),v=0;$(document).on("updateLegendHeight",(function(){0==v&&(v=$(_).height(),g.each((function(e,t){e>3&&$(t).addClass("hidden animate")})),_.append('<a href="#" class="show-more__legend"><span>Ещё...</span></a>'),$(".location__checkbox.hidden").each((function(e,t){$(t).css("animation-delay",e/10+"s")})))}))}$(".show-more__legend").on("click",(function(e){e.preventDefault();var t=$(this).closest(".location__legend-list");_.animate({height:v},100),t.find(".location__checkbox.hidden").removeClass("hidden"),setTimeout((function(){t.find(".location__checkbox.animate").removeClass("animate")}),2e3),$(this).hide()}))},infrastructureSliderPopup:function(){const e=$("[data-infrastructure-popup]").data("infrastructure-popup"),t=$("#infrastructure-photos");if(!e||!t)return;const n=[...new Set(e.map((e=>e.name)))],i=t.find(".popup-infrastructure__tags"),a=t.find(".popup-infrastructure__slider"),o=t.find(".popup-infrastructure__slider-dots");n.forEach((e=>{const t=$(`<div class="popup-infrastructure__tag" data-infrastructure-tag-name="${e}"></div>`);t.text(e),i.append(t)})),e.forEach((e=>{const t=$(`<div data-infrastructure-name="${e.name}" data-infrastructure-description="${e.description}" class="popup-infrastructure__slider-item"></div>`),n=$(`<img data-url="${e.image}" class="fast_background">`),i=$('<div class="popup-infrastructure__slider-dot dot"></div>');t.append(n),a.append(t),o.append(i)}));let s=$(".popup-infrastructure__slider"),r=$(".popup-infrastructure__slider-dots");function l(){const e=s.find(".flickity-slider > .is-selected"),n=e.index(),i=e.data("infrastructure-name"),a=e.data("infrastructure-description");r.flickity("select",n),t.find(".popup-infrastructure__title").text(i),t.find(".popup-infrastructure__text").text(a),t.find(".popup-infrastructure__tag").removeClass("active"),t.find(`.popup-infrastructure__tag[data-infrastructure-tag-name="${i}"]`).addClass("active")}function c(e,n){e.preventDefault(),main.showPopup(t);const i=n.closest("[data-popup-infrastructure-index]").data("popup-infrastructure-index");s.hasClass("flickity-initialized")||(s.flickity({prevNextButtons:!1,pageDots:!1,wrapAround:!0,on:{ready:function(){main.fixSwipeIosSlider(s),l()},change:function(){l()}}}),r.flickity({prevNextButtons:!1,wrapAround:!0,pageDots:!1})),s.flickity("select",i)}$(document).on("click","[data-infrastructure-tag-name]",(function(){const e=s.find(`[data-infrastructure-name="${$(this).data("infrastructure-tag-name")}"]`).index();s.flickity("select",e)})),$("[data-popup-infrastructure-open]").on("click",(function(e){c(e,$(this))})),$("[data-popup-infrastructure-mobile-open]").on("click",(function(e){main.checkMobileDevice()&&c(e,$(this))}))},flatPopupSlider:function(){var e=$(".popup__flat-slider"),t=!0;e.flickity({pageDots:!1,adaptiveHeight:!0,prevNextButtons:!1,on:{ready:function(){main.fixSwipeIosSlider(e)},pointerMove:function(){t&&(t=!1)},pointerUp:function(){t||(t=!0)},staticClick:function(){$(window).width()>1300&&$(event.target).closest(".popup__flat-item")&&(e.addClass("zoom"),e.flickity("resize"),e.closest(".popup__container").find(".popup__flat-switch").addClass("show"))}}}),e.on("click",(function(){t&&$(window).width()<1301&&main.showPopup($("#popup-flat_gallery"))})),$(".popup__flat-switch").click((function(e){$(this).closest(".popup__container").find(".popup__flat-slider").removeClass("zoom"),$(this).closest(".popup__container").find(".popup__flat-slider").flickity("resize"),$(this).removeClass("show")})),$(".popup__flat-btn_next").click((function(){e.flickity("next")})),$(".popup__flat-btn_prev").click((function(){e.flickity("previous")})),i();var n=0;function i(){var e=$(".popup__flat-item.is-selected").index();$(`.popup__flat-dots__item:eq(${e})`).addClass("selected")}e.on("change.flickity",(function(){var t,a=$(".popup__flat-item.is-selected").index(),o=$(`.popup__flat-dot:eq(${a})`);$(".popup__flat-dots__item").removeClass("selected"),o.addClass("selected");var s=o.position().left;t=n>a?s+$(".popup__flat-dots").scrollLeft()-(main.checkMobileDevice()?32:64):s+$(".popup__flat-dots").scrollLeft()-(main.checkMobileDevice()?74:100),$(e).closest(".popup__container").find(".popup__flat-btn").addClass("visible"),0==a?$(e).closest(".popup__container").find(".popup__flat-btn_prev").removeClass("visible"):a==$(e).closest(".popup__container").find(".popup__flat-item").length-1&&$(e).closest(".popup__container").find(".popup__flat-btn_next").removeClass("visible"),$(".popup__flat-dots").stop(!0).animate({scrollLeft:t},400),n=a,i()}));var a=$(".popup__flat-gallery");function o(){var e=a.data("flickity");$(".popup__flat-gallery__counter").text(e.selectedIndex+1+" из "+e.slides.length)}a.flickity({pageDots:!1,adaptiveHeight:!0,prevNextButtons:!1,on:{ready:function(){main.fixSwipeIosSlider(a),setTimeout((function(){o()}))},change:function(){o()}}}),$(document).on("popup-flat-show",(function(){a.flickity("resize")}))},fillPopupGallery:function(e){var t=$(`#${$(e).attr("popup-photos-container")}`),n=$(t).find(".popup__gallery-container"),i=$("#form-stage-gallery"),a=$(e).find("[popup-photos-item]"),o=a.length>3?4:2;$(n).html("");var s=$(e).attr("popup-photos-container");$(a).each((function(e,t){if(void 0!==$(t).find("img").data("url")){var a=$(t).find("img").data("url"),r=$(t).data("text")?$(t).data("text"):"",l=r?`<div class="popup__gallery-item-desc">${r}</div>`:"";if($(n).append(`<div class="popup__gallery-item" data-item-index="${e}"><div alt="" class="popup__gallery-photo fast_background_animate fb_ev_img_load fast_background" data-url="${a}">${l}</div></div`),(e+1)%o==0&&i.length){var c=i.find(".popup__gallery-item").clone(!0),d="notes-"+(new Date).getTime();"infrastructure-gallery-photos"===s?(c.find("[data-goal]").attr("data-goal","present-infrast"),c.find("[data-goal-category]").attr("data-goal-category","download")):"stage-photos"===s&&(c.find("[data-goal]").attr("data-goal","presentation-build"),c.find("[data-goal-category]").attr("data-goal-category","download")),c.find('input[name="notes"]').attr("id",d),c.find("[data-input-selector]").attr("data-input-selector","#"+d),c.appendTo(n)}}})),$(n).find(".form-stage-gallery").each((function(e,t){$(t).attr("data-url",stageImagesForm[e])})),$(n).find(".stage_fb").addClass("fast_background"),$(t).find("[popup-btn-slider]").each((function(e,t){setTimeout((function(){new Flickity(t,{pageDots:!1,adaptiveHeight:!0,prevNextButtons:!1,on:{ready:function(){$(t).addClass("show"),main.fixSwipeIosSlider(n)}}}).select(1)}),1e3)})),main.formActions(),fast_background.update()},menu:function(){$('[name="menu-btn"]').click((function(){$(window).width()>767?($(".site-menu__body").removeClass("site-menu__body_show"),$(this).closest(".nav").find(".site-menu__body").addClass("site-menu__body_show")):($(".mobile-menu").addClass("show"),$("body").addClass("hidden"))})),$(".mobile-menu__close, .mobile-menu__list-item").on("click",(function(e){$(this).closest(".mobile-menu").removeClass("show"),$("body").removeClass("hidden")})),$('[name="menu-btn-ww"]').click((function(){$(".menu-ww").addClass("show"),$("body").addClass("hidden")})),$(".menu-ww__close").on("click",(function(e){$(this).closest(".menu-ww").removeClass("show"),$("body").removeClass("hidden")})),$(document).click((function(e){e.target.closest(".site-menu__body")||e.target.closest('[name="menu-btn"]')||$(".site-menu__body").removeClass("site-menu__body_show")})),$(".menu-ww").click((function(e){e.target.closest(".menu-ww__body")||($(this).removeClass("show"),$("body").removeClass("hidden"))}))},toggleSwitch:function(){var e,t;function n(e,n,i){var a="left"===i?"right":"left";e.data("position",a),n.removeClass(`animate-${i}`),n.addClass(`animate-${a}`),setTimeout((function(){0!==t.find(".toggle__text").length&&(t.find(".toggle__text").removeClass("active"),t.find(`[data-side="${a}"]`).addClass("active"))}),400)}$(".toggle").on("click",(function(i){!function(i){e=$(i).find(".toggle__switch"),""===(t=$(i)).data("position")&&t.data("position","left");switch(t.data("position")){case"left":case"right":n(t,e,t.data("position"));break;default:;}}($(this))}))},localeSwitcher:function(){$("[data-lang-switch-url]").click((function(){var e=$(this);setTimeout((function(){var t=new URL(e.data("lang-switch-url")),n=e.find("[data-locale].active").data("locale");t.searchParams.set("locale",n),window.location.href=t.toString()}),450)}))},promotionsSwitcher:function(){$("[data-promotion-switch]").click((function(){var e=$(this);if("open"===e.attr("data-promotion-switch")){var t=0;e.animate({opacity:0},500),setTimeout((function(){e.css("display","none")}),500,e),$(".promotions-item").each((function(){var e=$(this);e.hasClass("promotions-item_hidden")&&(setTimeout((function(){e.css("display","block"),e.animate({opacity:1},500),ww_tools.dm.init.spoilers("promotions-item-text-hidden","promotions")}),t,e),t+=500)}))}})),"dm"in ww_tools&&ww_tools.dm.init.spoilers("promotions-item-text-hidden","promotions")},toggleGallery:function(){$(".gallery").each((function(e,t){$(t).find("[data-show]").first().addClass("active"),main.handleToggleGallery(t,$(t).find("[data-show]").first().data("show"))})),$("[data-show]").on("click touchend",(function(e){if(e.preventDefault(),!e.target.closest(".flickity-slider")){var t=$(this).parent(),n=e.target.closest("[data-show]"),i=e.target.closest(".gallery");main.handleMenuItem(n,i);var a=t.parent(),o=a.outerWidth(),s=t.outerWidth(),r=t.offset().left,l=a.scrollLeft()+r-(o/2-s/2);a.animate({scrollLeft:l},400)}})),$(".project-gallery__img, .project-gallery__btn-show").on("click",(function(e){e.preventDefault();var t=$(this).parents(".project-gallery__grid-item").first();main.fillPopupGallery($(this).closest("[popup-photos-container]")),main.showPopup($("#gallery-photos"),t.attr("data-index"))})),$(".infrastructure__grid-img").on("click",(function(e){e.preventDefault();var t=$(this).closest(".infrastructure__grid").index(),n=0;if(t>1)for(var i=0;i<t-1;i++)n=n+$($(".infrastructure__grid")[i]).find(".infrastructure__grid-item").length-1;main.fillPopupGallery($(this).closest("[popup-photos-container]")),main.showPopup($("#infrastructure-gallery-photos"),!(!n||0===n)&&n)}))},handleToggleGallery:function(e,t,n){$(e).find("[data-category]").addClass("animate-hidden"),setTimeout((function(){$(e).find("[data-category]").removeClass("animate-hidden"),$(e).find("[data-category]").addClass("hidden"),$(e).find(`[data-category="${t}"]`).removeClass("hidden")}),n)},handleMenuItem:function(e,t){e&&""!=$(e).data("show")&&!$(e).hasClass("active")&&($(t).find("[data-show]").removeClass("active"),$(e).addClass("active"),main.handleToggleGallery(t,$(e).data("show"),500),fast_background.update())},stickyHeader:function(){var e,t,n,i=$(".header").height(),a=0,o=null;function s(a){for(key in a+$(window).height(),a>i?($(".header_sticky").addClass("header_sticky-show"),$(".site-menu__body").removeClass("site-menu__body_show")):($(".header_sticky").removeClass("header_sticky-show"),$(".site-menu__body").removeClass("site-menu__body_show")),e){if(a+5>e[key].top&&a+5<e[key].bottom)return $(".header_sticky").addClass("header_sticky-dark"),void window.requestAnimationFrame((function(){n&&s(t)}));$(".header_sticky").removeClass("header_sticky-dark")}window.requestAnimationFrame((function(){n&&s(t)}))}function r(e){var t={};return $("[color-scheme]").each((function(n,i){$(i).attr("color-scheme")==e&&(t[n]={top:Math.floor($(i).offset().top),bottom:Math.floor($(i).offset().top+$(i).innerHeight())})})),t}$(window).scroll((function(){t=$(window).scrollTop(),n=!0,0==a&&(window.requestAnimationFrame((function(){s(t)})),a++),clearTimeout(o),o=setTimeout((function(){n=!1,a=0}),1e3)})),window.onload=function(){e=r("dark")},$(window).resize((function(){e=r("dark")}))},animateControll:function(){$(".order-animate").each((function(e,t){$(t).children().each((function(e,t){$(t).css("animation-delay",e/10+"s")}))}))},expertSlider:function(){if(0!=$(".expert-slider__wrapp").length){var e=new Flickity(".expert-slider__wrapp",{pageDots:!0,adaptiveHeight:!0,prevNextButtons:!1,draggable:"undefined"==typeof g_is_admin_panel});$(document).on("reloadSliders",(function(){e.reloadCells(),e.resize()})),$(document).on("resizeSliders",(function(){e.resize()}))}},firstScreenSlider:function(){if(0!=$(".first-screen__slider").length){var e=new Flickity(".first-screen__slider",{pageDots:!1,autoPlay:3e3,wrapAround:!0,fade:!0,selectedAttraction:.01,friction:.15,prevNextButtons:!1});$(document).on("reloadSliders",(function(){e.reloadCells(),e.resize()})),$(document).on("resizeSliders",(function(){e.resize()}))}},layoutsControll:function(){var e=$("[data-carousel]"),t={"lots-list-item":{cellAlign:"left",contain:!0,freeScroll:!1,wrapAround:!0,pageDots:!1},"popup-lot-info":{cellAlign:"left",contain:!0,freeScroll:!1,wrapAround:!0,pageDots:!0},default:{cellAlign:"left",contain:!0,freeScroll:!0,wrapAround:!0,pageDots:!1}};e.each((function(){var e=$(this),n=e.attr("data-carousel"),i=t[n]?t[n]:t.default;e.click((function(e){e.stopPropagation()})),"popup-lot-info"!==n&&e.flickity(i)})),$(document).on("popup-lot-info-open",(function(){$('[data-carousel="popup-lot-info"]')})),$(".layouts__filter:not(.initialized)").each((function(){$(this).find(".layouts__filter-item").find(".layouts__filter-item-text").animate({width:"hide"},0),$(this).find(".layouts__filter-item.active").find(".layouts__filter-item-text").animate({width:"show"},0),$(this).addClass("initialized"),$(this).animate({opacity:1},300)})),$(".layouts__filter-item").off("click"),$(".layouts__filter-item").click((function(e){var t=$(this).find("[data-filter-name]");t.addClass("active"),$(`[data-filter-name="${t.data("filter-name")}"][data-filter-value="${t.data("filter-value")}"]`).closest(".layouts__filter-item").each((function(){var e;(e=$(this)).hasClass("active")?(e.removeClass("active"),e.find(".layouts__filter-item-text").removeClass("active"),e.find(".layouts__filter-item-text").animate({width:"hide"},300)):(e.addClass("active"),e.find(".layouts__filter-item-text").addClass("active"),e.find(".layouts__filter-item-text").animate({width:"show"},300))})),main.changeLayoutsFilter(),setTimeout((function(){$(document).trigger("sendFilter")}),300)}));var n=$(".layouts__item"),i=$(".layouts__item-img img"),a=$(".layouts__item-price-currency"),o=$(".layouts__item-price-space"),s=$(".layouts__item-space"),r=$(".layouts__item-desc"),l=$(".layouts__item-btn"),c=$(".layouts__item-bottom").find(".btn");$(".layouts__more-plan-item_toggle").off("click"),$(".layouts__more-plan-item_toggle").click((function(e){var t=$(this).data("price"),d=$(this).data("sprice"),u=$(this).data("presentation-route"),h=$(this).data("id"),p=$(this).data("space"),m=$(this).data("desc"),f=$(this).data("img");$(this).data("catalog");$(n).addClass("layouts__item_animate-hidden"),setTimeout((function(){$(n).removeClass("layouts__item_animate-hidden"),$(n).addClass("layouts__item_hidden"),$(n).removeClass("layouts__item_hidden"),$(a).html(`от ${main.priceFormat(t,"rub")}`),$(o).html(`от ${main.priceFormat(d,"rub")} за м<sup>2</sup>`),$(s).html(`от ${p} м<sup>2</sup>`),$(r).html(m),$(i).attr("src",f),$(l).attr("data-id",h),$(l).attr("data-presentation-route",u),$(c).attr("href",c)}),500)}));var d=$("[data-schema-view-id]"),u=$("[data-schema-toggle-id]"),h=$("[data-schemas-group-selector]"),p=$(".schema__selector-wrapper"),m=$("[data-schemas-group]");u.off("click"),u.click((function(e){var t=$(this),n=t.attr("data-schema-toggle-id"),i=$(".activeGroup[data-schema-view-id="+n+"]");d.removeClass("active"),u.removeClass("active"),i.addClass("active"),t.addClass("active")}));var f=!1;p.hasClass("activated")||(h.each((function(){var e=$(this),t=e.attr("data-schemas-group-selector"),n=$('[data-schemas-group="'+t+'"]');n.length>0&&!f&&($("[data-schema-view-group]").removeClass("activeGroup"),$(`[data-schema-view-group="${t}"]`).addClass("activeGroup"),e.addClass("active"),e.find(".schema__selector-item-text").animate({width:"show"},300),n.addClass("active"),f=!0);0===n.length&&e.addClass("no-schemas")})),p.addClass("activated")),h.off("click"),h.click((function(){var e=$(this);if(!e.hasClass("no-schemas")){var t=e.attr("data-schemas-group-selector");$("[data-schema-view-group]").removeClass("activeGroup"),$(`[data-schema-view-group="${t}"]`).addClass("activeGroup");var n=$(`[data-schemas-group="${t}"]`);$(".active[data-schemas-group-selector]").find(".schema__selector-item-text").animate({width:"hide"},300),h.removeClass("active"),d.removeClass("active"),u.removeClass("active"),m.removeClass("active"),e.addClass("active"),e.find(".schema__selector-item-text").animate({width:"show"},300),n.addClass("active"),n.find("[data-schema-toggle-id]").first().addClass("active"),$(`.activeGroup[data-schema-view-id=${n.find("[data-schema-toggle-id]").attr("data-schema-toggle-id")}]`).addClass("active"),main.perfectScrollbarsRefresh()}})),$("[data-filter-switch]").click((function(e){e.preventDefault();var t=$(this).attr("data-filter-switch");main.switchFilterBlock(t)})),$(".lots-list__item").off("click"),$(".lots-list__item").on("click",(function(e){var t=$("#popup-lot-info");t.find(".popup__lot-info_images").flickity({cellAlign:"left",contain:!0,freeScroll:!1,wrapAround:!1,pageDots:!0});var n=$(this),i=n.find(".lots-list__item-img"),a={};if(i.length>0){n.attr("data-price-on-request");var o=n.attr("data-lot-type"),s=t.find(".popup__lot-info_images"),r=i.clone();n.find("[data-lot-item-info]").each((function(){var e=$(this),n=e.attr("data-lot-item-info"),i=e.html().trim();a[n]=i,t.find('[data-lot-info-inject="'+n+'"]').html(i)})),r.each((function(){var e=$(this);e.removeClass("lots-list__item-img"),e.removeClass("is-selected"),e.addClass("popup__lot-info_image");let t=e.find("img"),n=1300;t.on("error",(function(){n-=100,t.attr("src",t.attr("src")?.replace(new RegExp(`_${n+100}`),`_${n}`))})),t.attr("src",t.attr("src")?.replace(/_[3-9]00/,`_${n}`)),"primary"===o?t.css("object-fit","contain"):t.css("object-fit","cover")})),s.find(".flickity-slider").html(r),fast_background.update(),main.showPopup(t)}else main.showPopup($("#popup-tour"),null,!1,n);t.find(".popup__lot-info_images").flickity("destroy"),t.find(".popup__lot-info_images").flickity({cellAlign:"left",contain:!0,freeScroll:!1,wrapAround:!1,pageDots:!0}),$(document).trigger("popup-lot-info-open")}))},switchFilterBlock:function(e){var t=$("[data-filter-switch]"),n=$("[data-filter-block]"),i=$("[data-filter-switch="+e+"]");t.removeClass("active"),n.removeClass("active"),i.addClass("active"),$('[data-filter-block="'+e+'"]').addClass("active"),$.cookie("selected_filter_block",e),"lots"===e&&$('[data-filter-block="'+e+'"]').find(".flickity-enabled").flickity("resize")},unitLayoutsFilter:function(){void 0!==$.cookie("selected_filter_block")&&main.switchFilterBlock($.cookie("selected_filter_block"))},changeLayoutsFilter:function(){$(".layouts__filter").each((function(){var e=$(this),t=e.find(".layouts__filter-pretext"),n=e.find(".layouts__filter-item"),i=[],a=[],o=[],s=[];e.find(".layouts__filter-sep_comma").length>0&&e.find(".layouts__filter-sep_comma").animate({width:"hide"},300),e.find(".layouts__filter-sep_and").length>0&&e.find(".layouts__filter-sep_and").animate({width:"hide"},300),n.each((function(){var e=$(this);e.hasClass("active")?(e.animate({width:"hide"},300),i.push(e)):(a.push(e),e.animate({width:"hide"},300))})),i.sort((function(e,t){return e.attr("data-sort")>t.attr("data-sort")?1:e.attr("data-sort")<t.attr("data-sort")?-1:void 0})),a.sort((function(e,t){return e.attr("data-sort")>t.attr("data-sort")?1:e.attr("data-sort")<t.attr("data-sort")?-1:void 0})),setTimeout((function(){e.empty(),e.append(t);var n=0;for(let t=0;t<i.length;t++){var r=i[t].find(".layouts__filter-item-text").attr("data-count");if(n+=parseInt(r),i[t].removeClass("not-last"),i[t].removeClass("last"),i[t].removeClass("first"),0===t)e.append(i[t]),1!==i.length&&(i[t].addClass("not-last"),i[t].addClass("first"));else if(t>0&&t!==i.length-1){var l=$(".layouts__filter-seps .layouts__filter-sep_comma").last().clone();o.push(l),l.css("display","none"),e.append(l),e.append(i[t]),i[t].addClass("not-last")}else{var c=$(".layouts__filter-seps .layouts__filter-sep_and").last().clone();s.push(c),c.css("display","none"),e.append(c),e.append(i[t]),i[t].find(".layouts__filter-item-text").attr("data-count-all",n),i[t].addClass("last")}i[t].animate({width:"show"},300)}for(let t=0;t<a.length;t++)e.append(a[t]),a[t].animate({width:"show"},300),a[t].removeClass("not-last"),a[t].removeClass("last");setTimeout((function(){for(let e=0;e<o.length;e++)o[e].animate({width:"show"},300);for(let e=0;e<s.length;e++)s[e].animate({width:"show"},300)}),150),main.layoutsControll()}),350)}))},presentationShadow:function(){if(!($(window).width()<767||0==$(".presentation").length)){var e,t,n=$(".presentation__shadow"),i=$(window).width(),a=0,o=null;if($(window).scroll((function(){e=$(window).scrollTop(),t=!0,0==a&&(window.requestAnimationFrame((function(){r(e)})),a++),clearTimeout(o),o=setTimeout((function(){t=!1,a=0}),1e3)})),$(window).resize((function(){i=$(this).width()})),0!=$(".project-gallery__img").length){var s=$(".project-gallery__img img").data("url");$(".presentation__video-wrapper").css("background-image",`url(${s})`)}}function r(a){var o,s=$(".presentation").offset().top,l=$(".presentation").innerHeight(),c=a+$(window).height();if(c>=s&&c<=s+l){if(a>=s-80&&!$(n).hasClass("hidden"))return $(n).addClass("hidden"),void window.requestAnimationFrame((function(){t&&r(e)}));if(a<s-80&&$(n).hasClass("hidden")&&$(n).removeClass("hidden"),(o=(c-s)/l*100*2)<=130&&o>=0)switch(!0){case i>1700:$(n).css("background",`radial-gradient(73.34% 73.34% at 84.24% 24.08%, rgba(15, 16, 17, 0) 0.0%, #0F1011 ${o}%)`);break;case i<=1700&&i>1300:$(n).css("background",`radial-gradient(66.34% 60% at 90% 21%, rgba(15, 16, 17, 0) 0%, #0F1011 ${2*o}%)`);break;case i<=1300&&i>767:$(n).css("background",`radial-gradient(73.34% 60% at 84.24% 30%, rgba(15, 16, 17, 0) 0%, #0F1011 ${2*o}%)`);break;default:return!1}}window.requestAnimationFrame((function(){t&&r(e)}))}},mobileBtnSlider:function(){0!=$("[data-mobile-btn-slider]").length&&$("[data-mobile-btn-slider]").each((function(e,t){new Flickity(t,{pageDots:!1,adaptiveHeight:!0,prevNextButtons:!1}).select(1)}))},youtubeVideo:function(){$(".video__prev").on("click",(function(e){if(e.target.closest(".video__play")){var t=$(this).closest(".js_youtube").data("id"),n=$("<iframe/>",{frameborder:"0",src:"https://www.youtube.com/embed/"+t+"?autoplay=1&autohide=1"});n.attr("video_youtube",!0),$(this).append(n)}}))},placesSlider:function(){var e=$(".places__slider");if(e.hasClass("edit_mode"))e.addClass("show");else{var t=($(window).width()-$(".container_middle").width())/2,n=$(".places__slider-wrapper");if($(window).width()<1300&&(n.css("padding-left",t),$(".places__slider-item").last().css("padding-right",t)),!(0==e.length||$(window).width()<1300)){n.css("padding-left",t),$(".places__slider-item").last().css("padding-right",t),e.addClass("show");var i,a,o,s=$(".places__slider-scrollbar-drag"),r=$(".places__slider-prev"),l=$(".places__slider-next"),c=$(".places__slider-item").width(),d=$(".places__slider-wrapper"),u=2*t,h=!1,p=0,m=0,f=0,_=0,g=0,v=0,y=0,w=n.outerWidth(),k=$(".places__slider-scrollbar").width();if($(".places__slider-item").each((function(e,t){$(t).attr("data-index",e),u=u+$(t).width()+parseInt($(t).css("margin-left"))})),$('.places__slider-item[data-index="0"]').addClass("active"),x(y),u<=n.width())n.addClass("no-draggable");else{$(".places__slider-scrollbar").addClass("show"),i=Math.round(100*w/u),s.css("width",i+"%"),o=k-s.width(),n.on("scroll",(function(e){a=d[0].scrollWidth-d[0].clientWidth,g=100*n.scrollLeft()/a,f=k/100*g-s.width()/100*g,h||(s.css("transform",`translateX(${f}px)`),_=C(s)),y!==S()&&(y=S(),$(".places__slider-item").removeClass("active"),$(`.places__slider-item[data-index="${y}"]`).addClass("active"),x(y))})),s.on("mousedown touchstart",(function(e){h=!0,p=e.touches?e.touches[0].clientX:e.clientX})),$(document).on("mouseup touchend",(function(e){h&&(_=C(s),h=!1)})),$(document).on("mousemove touchmove",(function(e){if(h){var t=e.touches?e.touches[0].clientX:e.clientX,i=100*(_+m)/o;switch(v=_+(m=t-p),!0){case v<0:v=0;break;case v>o:v=o}s.css("transform",`translateX(${v}px)`),n.scrollLeft((u-w)/100*Math.round(i))}}));y=$(".places__slider-item.active").data("index");r.click((function(){y<=0||(y--,b())})),l.click((function(){$(".places__slider-item").length-1<=y||(y++,b())}))}}}function b(){var e=$(`.places__slider-item[data-index="${y}"]`);if(0!=e.length){var i=parseInt(e.css("margin-left"));n.animate({scrollLeft:e.position().left-t+n.scrollLeft()+i},300)}}function C(e){return parseInt(e.css("transform").split(",")[4])}function S(){return Math.floor(n.scrollLeft()/c)}function x(e){var t=d[0].scrollWidth-d[0].clientWidth,i=n.scrollLeft()>t-c;switch(!0){case e>0:r.addClass("show");break;case 0==e:r.removeClass("show")}switch(i){case!1:l.addClass("show");break;case!0:l.removeClass("show")}}},articleControll:function(){if(0!=$(".article-block").length){var e=$(".article-block__column-btn .btn").text(),t=$(".article-block__column-btn .btn").data("hide");$(".article-block__column-btn").on("click",(function(){$("#article").toggleClass("open"),$(this).toggleClass("article-block__column-btn_fixed"),$("#article").hasClass("open")?$(".article-block__column-btn .btn").text(t):($("body, html").animate({scrollTop:$("#article").offset().top-290},300),$(".article-block__column-btn .btn").text(e)),$(document).trigger("reloadSliders")})),$(window).scroll((function(){if($("#article").length&&$("#article").hasClass("open")&&$("#article .ww-child-blocks").length){var e=$("#article .ww-child-blocks").offset().top,t=$("#article .ww-child-blocks").height(),n=$(window).scrollTop(),i=$(window).height();n>e+t-i||n<e-i?$(".article-block__column-btn").removeClass("article-block__column-btn_fixed"):$(".article-block__column-btn").addClass("article-block__column-btn_fixed")}else $(".article-block__column-btn").removeClass("article-block__column-btn_fixed")}))}},developerControll:function(){if(0!=$(".developer-block__grid-item").length){var e,t,n=$(".developer-block__grid-wrapp").height(),i=$(".developer-block__grid-item").length;switch(!0){case $(window).width()>1200:e=3;break;case $(window).width()>767:e=2;break;case $(window).width()<350:t=20;break;case $(window).width()<768:t=50}if($(window).width()>767&&$(".developer-block__grid-item").each((function(t,a){!$(a).hasClass("developer-block__grid-item_btn")&&t>e&&e+3!==i&&$(a).addClass("hidden"),e+3==i?$(".developer-block__grid-item_btn").addClass("hidden"):$(".developer-block__grid-item_btn").on("click",(function(e){$(this).addClass("animate-hidden"),setTimeout((function(){$(".developer-block__grid-wrapp").animate({height:n},200)}),500),setTimeout((function(){$(".developer-block__grid-item_dev.hidden").removeClass("hidden"),$(this).removeClass("animate-hidden"),$(this).addClass("hidden")}),700)}))})),$(window).width()<768)new Flickity(".developer-block__grid",{pageDots:!1,prevNextButtons:!1,cellAlign:"left",on:{ready:function(){$(".developer-block__grid-item").addClass("visible"),setTimeout((function(){$(".developer-block__grid").find(".flickity-slider").css("left",t+"px")}),200)}}})}},fixSwipeIosSlider:function(e){if(e)var t=e[0].querySelectorAll(".flickity-viewport");else t=document.querySelectorAll(".flickity-viewport");var n;for(var i of(n=0,t))i.ontouchstart=function(e){n=e.touches[0].clientX},i.ontouchmove=function(e){Math.abs(e.touches[0].clientX-n)>5&&e.cancelable&&e.preventDefault()}},buildingStages:function(){if(0!=$("#stage-block").length){var e,t,n,i,a=window.dashkypitedom.translates.month,o=$("#stage-modal-gallery"),s=[];if($(".object-slider-item").each((function(e,t){s.push($(t).find("[data-url]").data("url"))})),document.getElementById("stage-block")){var r=jQuery.makeArray($(".stage-block-data >"));if(0!=r.length){r.sort((function(e,t){return(e=$(e).data("year"))<(t=$(t).data("year"))?-1:e>t?1:0}));var l=r.map((function(e,t){return $(e).data("year")}));l=new Set(l),(l=Array.from(l)).forEach((function(e){$("#stage-year").append('<div class="stage-block__date-item">\n                   <input id="date-'+e+'" type="radio" data-change="year" name="stage-year" value="'+e+'">\n                   <label for="date-'+e+'">'+e+"</label>\n               </div>")}));var c={};r.forEach((function(e,t){var n=$(e).data("year"),i=$(e).data("month");"object"!=typeof c[n]&&(c[n]={}),c[n][i],c[n][i]=[]})),r.forEach((function(e,t){c[$(e).data("year")][$(e).data("month")].push(e)}));var d=Math.max(...Object.keys(c)),u=Math.max(...Object.keys(c[d])),h=Object.keys(c[d]);y(c[d][u]);var p={pageDots:!0,cellAlign:"left",on:{staticClick:function(e){e.target.closest(".stage-block__slider-item")&&(main.isIOS()?main.showPopup($("#stage-photos"),$(e.target.closest(".stage-block__slider-item")).index()):setTimeout((function(){main.showPopup($("#stage-photos"),$(e.target.closest(".stage-block__slider-item")).index())}),100))},ready:function(){window.marginLeft=($(window).width()-$(".container_middle").width())/2,$(".stage-block").find(".flickity-slider").css("left",window.marginLeft+"px"),$(".stage-block").find(".stage-block__slider-item").each((function(e,t){$(t).css("animation-delay",e/10+"s")})),$(".stage-block").find(".stage-block__slider-item").addClass("animation-init"),$(".stage-block__slider").find(".flickity-page-dots").wrap('<div class="stage-block__dots-wrapp"></div>'),$(".stage-block__dots-wrapp").append('\n                        <div class="stage-block__dots-btn stage-block__dots-btn_prev"></div>\n                        <div class="stage-block__dots-btn stage-block__dots-btn_next"></div>\n                        ')}}},m=new Flickity(".stage-block__slider",p),f=Flickity.data(".stage-block__slider"),_=$(".stage-block__counter"),g=jQuery.makeArray($('[data-change="month"]'));$(document).on("click",".stage-block__dots-btn_next",(function(e){new Flickity(".stage-block__slider").next()})),$(document).on("click",".stage-block__dots-btn_prev",(function(e){new Flickity(".stage-block__slider").previous()})),o.on("click",(function(e){e.target.closest(".gallery__item")||stageGalleryClose()})),v(d,u,h),$('.stage-block__date_month [name="stage-month"]:checked').length>0&&$(".stage-block__date_month").animate({scrollLeft:$('.stage-block__date_month [name="stage-month"]:checked').parent().position().left-18},500),$(".stage-block__bottom").on("click",(function(a){a.target.closest(".stage-block__prev")?(y(c[t][i],m),v(t,i,Object.keys(c[t]))):a.target.closest(".stage-block__next")&&(y(c[e][n],m),v(e,n,Object.keys(c[e])))})),f.on("change",v),$(".stage-block__date-item input").on("change",(function(e){var t,n=$('[name="stage-year"]:checked').val(),i=Object.keys(c[n]);t="year"===$(this).data("change")?Math.max(...Object.keys(c[n])):$('[name="stage-month"]:checked').val(),y(c[n][t],m),v(!1,t,i),fast_background.update()})),$(".documents-grid__item_btn").on("click",(function(e){e.preventDefault(),$(".documents-grid__item-hidden").removeClass("documents-grid__item-hidden"),$(this).remove()}))}}}function v(o,s,r){var l=f.selectedIndex+1;if(_.text(l+" из "+f.cells.length),$('input[name="stage-month"][value="'+$(f.selectedCell.element).data("month")+'"]').prop("checked",!0),$('input[name="stage-year"][value="'+$(f.selectedCell.element).data("year")+'"]').prop("checked",!0),o&&$("#date-"+o).prop("checked",!0),s&&r){g.forEach((function(e){$(e).prop("disabled",!0),$(u).prop("checked",!1)}));var d=g.filter((function(e){return r.indexOf($(e).val())>-1}));$(d).each((function(e,t){t.disabled=!1}));var u=g.filter((function(e){return e.value==s}));$(u).prop("checked",!0)}var p,m,v,y=Number($("[name=stage-year]:checked").val()),w=Number($("[name=stage-month]:checked").val()),k=y,b=y-1,C=w-1,S=a[C];e=y,t=y,n=w+1,i=C,w>=(m=void 0!==r?r:h)[m.length-1]?(y!=Object.keys(c)[Object.keys(c).length-1]?(p=Object.keys(c[y+1])[0],v=`${a[p]}, ${y+1}`,e=k+1):(k=Object.keys(c)[0],p=Object.keys(c[k])[0],v=`${a[p]}, ${k}`,e=k),n=p):v=a[p=w+1],w==m[0]&&(y==Object.keys(c)[0]?(b=Object.keys(c)[Object.keys(c).length-1],S=`${a[Object.keys(c[b]).length]}, ${b}`,t=b,i=Object.keys(c[b]).length):(i=Object.keys(c[b]).length,t=b,S=`${a[i]}, ${b}`)),$(".stage-block__next").text(v),$(".stage-block__prev").text(S);var x=$(".stage-block .dot").width()+parseInt($(".stage-block .dot").css("margin-right")),E=$(".stage-block__dots-wrapp .dot").length;$(".stage-block__dots-wrapp").css("width",x*E-parseInt($(".stage-block .dot").css("margin-right"))+"px"),$(".stage-block .flickity-page-dots").length>0&&$(".stage-block .flickity-page-dots").stop(!0).animate({scrollLeft:$(".stage-block .dot.is-selected").position().left-2*x+$(".stage-block .flickity-page-dots").scrollLeft()},400)}function y(e,t){t&&($(".stage-block").find(".flickity-page-dots").unwrap(),t.destroy()),$(".stage-block__slider").html(""),$(".gallery__content").html(""),e.forEach((function(e,t){$(".stage-block__slider").append('\n                     <div class="stage-block__slider-item" popup-photos-item data-text="'+$(e).data("text")+'">\n                        <img class="fast_background" data-url="'+$(e).data("image")+'" src="" alt="">\n                     </div>\n                     ')})),t&&(t=new Flickity(".stage-block__slider",p),(f=Flickity.data(".stage-block__slider")).on("change",v)),main.fillPopupGallery($(".stage-block__slider"))}},rangeControll:function(){if(0!=$("[data-slider]").length){$("[data-slider]");$("[data-slider]:not(.initialized)").each((function(e,t){!function(e){var t=$(e).data("slider"),n=function(){var e=parseInt($("input.mortgage-cost-input").val().replace(/\s+/g,"")),t=parseInt($("input.mortgage-initial-input").val().replace(/\s+/g,"")),n=parseInt($("input.mortgage-years-input").val().replace(/\s+/g,"")),i=parseFloat($(".mortgage-percent-from").text().replace(",",".")),a=gCalcMortgage(e,t,n,0,i);$(".mortgage-min-cost").html(a)},i=function(){$(document).trigger("sendFilter")},a={start:[0,128928382],connect:!0,range:{min:0,max:128928382},format:{to:function(e){return parseInt(e)},from:function(e){return parseInt(e)}}},o={start:[0,999],connect:!0,range:{min:0,max:999},format:{to:function(e){return parseInt(e)},from:function(e){return parseInt(e)}}};let s={"mortgage-price":{start:[128e6],connect:"lower",range:{min:1e5,max:3e8},step:1e5,format:{to:function(e){return parseInt(e)},from:function(e){return parseInt(e)}}},"mortgage-payment":{start:[28e6],connect:"lower",step:1e5,range:{min:1e5,max:1e8},format:{to:function(e){return parseInt(e)},from:function(e){return parseInt(e)}}},"mortgage-term":{start:[20],connect:"lower",range:{min:1,max:30},format:{to:function(e){return parseInt(e)},from:function(e){return parseInt(e)}}}};switch(t){case"mortgage-price":case"mortgage-payment":noUiSlider.create(e,s[t]).on("update",n),n(),e.noUiSlider.on("update",(function(t){$(e).closest("[range-wrapp]").find("input").each((function(e,n){$(n).val(t[e]).siblings("span").text(main.priceFormat(t[e],"rub"))}))}));break;case"mortgage-term":noUiSlider.create(e,s[t]).on("update",n),n();break;case"filter-price":if(a.range.min=$(e).data("min"),a.range.max=$(e).data("max"),a.range.min===a.range.max)return;a.start=[$(e).data("current-min"),$(e).data("current-max")],noUiSlider.create(e,a).on("set",i),e.noUiSlider.on("update",(function(t){$(e).closest("[range-wrapp]").find("input").each((function(e,n){$(n).val(main.priceFormat(t[e],$(n).data("currency")))}))}));break;case"filter-area":if(o.range.min=$(e).data("min"),o.range.max=$(e).data("max"),o.range.min===o.range.max)return;o.start=[$(e).data("current-min"),$(e).data("current-max")],noUiSlider.create(e,o).on("set",i),e.noUiSlider.on("update",(function(t){$(e).closest("[range-wrapp]").find("input").each((function(e,n){$(n).val(main.numberFormat(t[e]))}))}));break;default:;}}(t),$(t).addClass("initialized")})),$("[range-wrapp]").find('input, span[contenteditable="true"]').on("change focusout",(function(e){var t=e.target.closest("[range-wrapp]").querySelector("[data-slider]");switch(!0){case $(this).is("input"):var n=$(this).val().replace(/[^0-9]+/g,"");break;case $(this).is("span"):n=$(this).text().replace(/[^0-9]+/g,"");$(this).siblings("input").val(main.trimSpace(n,!0));break;default:return!1}if(n=main.trimSpace(n,!0),""!=$(this).attr("input-range")&&null!=$(this).attr("input-range"))switch($(this).attr("input-range")){case"min":t.noUiSlider.set([n,null]);break;case"max":t.noUiSlider.set([null,n]);break;default:return!1}else t.noUiSlider.set(n)})),"undefined"==typeof g_is_admin_panel&&$("[range-wrapp] input,span").on("keypress",(function(e){13==e.keyCode&&$(this).blur(),main.numberValidate(e)}))}},formToggle:function(){$("[form-wrapp-item]").children().each((function(e,t){$(t).css("animation-delay",e+"s")})),$("[form-wrapp]").off("click"),$("[form-wrapp]").on("click",(function(e){if(e.target.closest("[button-toggle]")){e.preventDefault();var t=e.target.closest("[button-toggle]");$(window).width()<=767&&""!=$(t).attr("button-toggle")?main.showPopup($(`#${$(t).attr("button-toggle")}`),!1,!1,$(t)):function(e,t){e.find("[form-wrapp-item]").toggleClass("hidden");var n=t.data("modalGoal"),i=t.data("modalGoalCategory");n&&e.find("[data-goal]").attr("data-goal",n);i&&e.find("[data-goal-category]").attr("data-goal-category",i)}($(this),$(t))}})),$("[form-wrapp-trigger]").on("click",(function(e){var t=$(this).parents("[form-wrapp]");t.find(".popup__buttons").removeClass("hidden"),t.find(".popup__form").addClass("hidden")})),$("[form-wrapp-trigger-firstScreen]").on("click",(function(e){var t=$(this).parents("[form-wrapp]");$(".first-screen__form-btn").removeClass("hidden"),t.find(".popup__form").addClass("hidden")}))},formActions:function(){$(".send-form").off("click"),$(".send-form").click((function(e){e.preventDefault();var t={el:$(this)},n=$(this).parents("form, .form").find('[name="lidtype"]'),i=n&&"presentation"===n.val();t.success=function(){main.closePopup(),main.showPopup(i?$("#popup-thanks"):$("#popup-thanks-common"),!1)},$(document).trigger("send-form",t)})),$("[type=submit]:not(.initialized)").each((function(){$(this).on("click",(function(e){!function(e,t){e.preventDefault(),$(document).trigger("send-form",{el:t,success:function(){main.closePopup(),main.showPopup(t.hasClass("send-presentation")?$("#popup-thanks"):$("#popup-thanks-common"),!1,!0)}})}(e,$(this))})),$(this).addClass("initialized")})),$("form input:not(.initialized)").each((function(){$(this).on("keypress",(function(e){$(this).hasClass("has-error")&&$(this).removeClass("has-error")})),$(this).addClass("initialized")})),$("[data-notes]:not(.initialized)").each((function(){$(this).click((function(e){e.preventDefault(),$($(this).attr("data-input-selector")).val($(this).data("notes"))})),$(this).addClass("initialized")}))},dropDown:function(){var e,t,n;function i(i){let o=i.data("change-dropdown"),s=i.parents(".filter__item").find("[data-default]");i.is(":checked")?(o.length?s.text(o):s.text(s.data("default")),a(e,t,n)):void 0===e||t.find('input[type="checkbox"]:checked').length||s.text(s.data("default"))}function a(e,t,i){void 0!==e&&(n&&e.slideUp(300),e.removeClass("drop-show")),void 0!==t&&t.removeClass("active")}0!=$(".drop-btn").length&&($($(".drop-btn").get().reverse()).each((function(e,t){$(t).parent().css("z-index",e+1)})),$(".drop-btn").on("click",(function(i){n=!!$(this).hasClass("drop-btn_slide"),t=$(this),e=$(this).siblings(".drop-body"),a($(".drop-body.drop-show").not(e),$(".drop-btn.active").not(t),n),function(e,t,i){void 0!==e&&(n&&e.slideToggle(300),e.toggleClass("drop-show"));void 0!==t&&t.toggleClass("active")}(e,t)})),$(document).on("click",(function(i){i.target.closest(".drop-btn")||void 0===e||!i.target.closest(".drop-body")&&e.hasClass("drop-show")&&a(e,t,n)})),$("[data-change-dropdown]").change((function(){i($(this))})).filter(":checked").each((function(){i($(this))})))},generalPlan:function(){0!=$(".general-plan").length&&($(".general-plan__dot").each((function(){var e=$(this);e.hasClass("dot-click-active")||(e.addClass("dot-click-active"),e.off("click"),e.on("click",(function(){if("undefined"==typeof g_is_admin_panel){console.log("click");var e,t="render-card-"+$(this).data("dot-id");if($(".general-plan__card").removeClass("show").css("opacity",0),$(".general-plan__dot").removeClass("active"),$("#"+t).length)e=$("#"+t);else{(e=$("#plan-render-card").clone()).attr("id",t),e.find(".general-plan__card-img img").attr("src",$(this).data("image")),e.find(".general-plan__card-desc").html($(this).data("desc")),$(this).after(e),e.addClass("show");var n=parseFloat($(this).css("left"))-10,i=parseFloat($(this).css("top"))-10;e.css({left:n,top:i}),e.offset().left+e.width()>$(window).width()&&(n-=75,e.css({left:n}))}e.addClass("show"),e.animate({opacity:1}),$(this).addClass("active"),$(this).mouseleave((function(){$(document).click((function(t){t.target.closest(".general-plan__card")||t.target.closest(".general-plan__dot")||e.remove()}))}))}})))})),$(document).on("click",(function(e){e.target.closest(".general-plan__dot")||e.target.closest(".general-plan__card")||$(".general-plan__dot").removeClass("active")})),$(window).width()<768&&$(window).scroll((function(){!$(".general-plan__wrapp").hasClass("scroll")&&$(window).scrollTop()+$(window).height()>$(".general-plan__wrapp").offset().top+$(".general-plan__wrapp").height()&&$(window).scrollTop()+$(window).height()<$(".general-plan__wrapp").offset().top+$(".general-plan__wrapp").height()+100&&($(".general-plan__wrapp").addClass("scroll"),$(".general-plan__wrapp").animate({scrollLeft:50},600,"swing",(function(){$(".general-plan__wrapp").animate({scrollLeft:0},200,"linear")})))})))},othersProject:function(){var e=$(".others-project__grid-item_slider").find(".others-project__wrapp");0!=e.length&&e.each((function(e,t){new Flickity(this,{pageDots:!0,prevNextButtons:!1,wrapAround:!0,on:{ready:function(){main.fixSwipeIosSlider($(t))}}})}))},startSales:function(){var e=$(".start-sales__grid-gallery"),t=[];0!=e.length&&e.each((function(e,n){if($(this).find("div").length>1){var i=new Flickity(this,{pageDots:!0,prevNextButtons:!1,wrapAround:!0});t.push(i)}})),$(document).on("reloadSliders",(function(){for(var e=0;e<t.length;e++)t[e].reloadCells(),t[e].resize()}))},articleSlider:function(){var e=$(".article-child__slider-items"),t=[];0!==e.length&&e.each((function(e,n){if($(this).find("div").length>1){var i=new Flickity(this,{pageDots:!0,prevNextButtons:!1,wrapAround:!0,adaptiveHeight:!0,draggable:"undefined"==typeof g_is_admin_panel});t.push(i);var a=$(n).parents(".article-child__slider-block");a.find(".article-child__slider-tags-item").on("click",(function(){$(this).addClass("article-child__slider-tags-item--active").siblings().removeClass("article-child__slider-tags-item--active");var e=+a.find('.article-child__slider-item[data-tag="'+$(this).data("tag-value")+'"]').index();i.select(e)}))}})),$(document).on("reloadSliders",(function(){for(var e=0;e<t.length;e++)t[e].reloadCells(),t[e].resize();fast_background.update()}))},navHidden:function(){0!=$(".nav__menu-list").length&&($(".nav").each((function(){var e=$(this).find(".nav__menu").find(".nav__menu-list"),t=e.innerWidth(),n=$(this).find(".nav__hidden"),i=35;if($(this).is(".nav_footer")&&window.innerWidth<=767&&(i=150),e.clone().appendTo(n),t>0){var a=$(this).find(".site-menu__btn"),o=$(this).find(".site-menu__body");a.removeClass("hidden"),$(e.children("li").get().reverse()).each((function(t,n){if(!(e.height()>i))return!1;$(n).find("a").removeClass().addClass("site-menu__link"),$(n).removeClass().addClass("site-menu__item").prependTo(o)}))}$(this).removeClass("transparent"),n.remove()})),$(".nav").each((function(){0==$(this).find("ul.site-menu__body .site-menu__item").length&&$(this).find(".site-menu__btn").addClass("nav__menu-list-desktop_hidden")})))},cookiePopup:function(){var e=$("#cookie-popup"),t=$("[data-js-header]"),n=$("[data-js-header-sticky]");void 0===$.cookie("agree_cookie")&&setTimeout((function(){!0,e.addClass("show")}),5e3),$(window).on("resize",(function(){if($(window).width()>=768)return t.css("marginTop",0),void n.css("top",5)})),$("[name=cookie-agree]").on("click",(function(){event.preventDefault(),$.cookie("agree_cookie","show"),!1,e.addClass("hidden"),t.css("marginTop",0),n.css("top",5),setTimeout((function(){e.removeClass("hidden show")}),300)}))},paymentPlanScrollAnimate:function(){if(0!=$(".payment-plan").length){var e,t,n,i,a,o,s,r,l=$(".payment-plan__wrapp"),c=!1,d=0,u=null;setTimeout((function(){var i,a;l.length>0&&(e=l.offset().top,t=l.innerHeight(),n=e+t),o||(i={},a=$(".payment-plan__scale-dot").length,$(".payment-plan__scale-dot").each((function(e,t){i[e]={top:Math.floor($(t).offset().top)}})),$($(".payment-plan__scale-dot").get().reverse()).each((function(e,t){var n={};$(".payment-plan__img path").each((function(o,s){n[o]=s.getTotalLength()/(a-1)*$(t).index(),i[e].whitePath=n}))})),o=i)}),1e3),$(window).scroll((function(){s=$(window).scrollTop(),r=!0,0==d&&(window.requestAnimationFrame((function(){h(s)})),d++),clearTimeout(u),u=setTimeout((function(){r=!1,d=0}),1e3)})),$(".payment-plan__img path").each((function(){$(this).css("stroke-dasharray",this.getTotalLength()),$(this).css("stroke-dashoffset",this.getTotalLength())}))}function h(t){if(i=t+$(window).innerHeight(),(a=Math.floor(i-$(window).innerHeight()/10))>e&&a<n&&!c)for(key in o)if(a>=o[key].top&&a<=o[key].top+40){var l=$(`.payment-plan__scale-dot:eq(${key})`);l.hasClass("active")||(l.addClass("active"),$(".payment-plan__scale-inner-animate").css("height",100/($(".payment-plan__scale-dot").length-1)*l.index()+"%"),$(".payment-plan__scale-dot").each((function(){$(this).index()<key&&!$(this).hasClass("active")&&$(this).addClass("active")})),$(".payment-plan__img path").each((function(e,t){$(t).css("stroke-dashoffset",o[key].whitePath[e])})),l.index()==$(".payment-plan__scale-dot").last().index()&&($(".payment-plan__end").addClass("show"),$(".payment-plan__img path").each((function(e,t){c=!0,setTimeout((function(){$(t).css("stroke-dasharray",0)}),700)}))))}window.requestAnimationFrame((function(){r&&h(s)}))}},initFinishingPopup:function(){var e=$("#decoration"),t=$("#finishing-photos");e.length&&($(document).on("click",'[data-popup="finishing-photos"]',(function(){var n="",i=$(this).data("decoration-name"),a=e.find(`.finishing__img-btn[data-decoration-name="${i}"]`).parents(".finishing__grid-item"),o=a.find(".finishing__description").toArray(),s=2;a.find(".finishing__images img").each((function(e){var t=$(this).data("url");t=$(this).data("url");if(n+='<div data-index="'+e+'" class="popup__finishing-grid-item"><div class="popup__finishing-img"><img data-url="'+t+'" class="fast_background" alt="" title="">',0===e&&(n+='<div class="popup__finishing-grid-tags"><div class="popup__finishing-grid-tags-item">'+i+"</div></div>"),n+="</div>",n+="</div>",e!==s&&o){var a=$(o.shift()).text();a&&(n+='<div class="popup__finishing-grid-item popup__finishing-grid-item--text"><div class="popup__finishing-text">'+a+"</div></div>")}else s+=3})),t.find(".popup__finishing-grid:not(.popup__finishing-grid_more)").html(n);var r=e.find(`.finishing__img-btn[data-decoration-name]:not([data-decoration-name="${i}"])`),l="";0===r.length?t.find(".popup__finishing-grid_more").hide():t.find(".popup__finishing-grid_more").show(),r.each((function(){var e=$(this).parents(".finishing__grid-item").clone();e.removeClass("finishing__grid-item").addClass("popup__finishing-grid-item"),e.find(".finishing__img").removeClass("finishing__img").addClass("popup__finishing-img"),l+=e[0].outerHTML})),t.find(".popup__finishing-grid_more").html(l),fast_background.update(),t.scrollTop(0)})),t.find(".site-block__title h2").html(e.find(".site-block__title h2").html()),t.find(".site-block__subtitle").html(e.find(".site-block__subtitle").html()))},hrefInit:function(){"undefined"==typeof g_is_admin_panel&&$(document).on("click","[data-href]",(function(){var e=$(this).data("href");"_blank"===$(this).data("target")?window.open(e):window.location.href=e}))},scrollToId:function(){$("[data-scroll]").click((function(e){e.preventDefault();var t=$(".header__container"),n=$($(this).data("scroll")),i=$(window).width()<768,a=n.is('[color-scheme="dark"]'),o=0;n.length&&(!t.length||a&&!i||(o=t.outerHeight()),$("html, body").animate({scrollTop:n.offset().top-o},500))}))},paymentPlanRows:function(){0!=$(".payment-rooms__buttons-text").length&&($(`[for="${$(".payment-rooms__buttons-check:checked").attr("id")}"] .payment-rooms__buttons-text`).animate({width:"show"},0),$(".payment-rooms__buttons-check").change((function(){var e=$(this).attr("id"),t=($("[data-payment-row-select-input]"),$(this).val());$(".payment-rooms__buttons-text").animate({width:"hide"},300),$(`[for="${e}"] .payment-rooms__buttons-text`).animate({width:"show"},300),$("[data-payment-row-list]").hide(),$('[data-payment-row-list="'+t+'"]').animate({height:"show"},300),$("[data-payment-row-price-from]").hide(),$('[data-payment-row-price-from="'+t+'"]').animate({opacity:"show"},300)})),$("[data-payments-rooms-rows-select-input]").first().prop("checked",!0).change())},paymentPlanTable:function(){0!=$(".payment-table").length&&($(".payment-table__schedule").on("mouseleave",".payment-table__schedule-cell.mark",(function(){$(".payment-table__schedule-cell, .payment-table__marker, .payment-table__schedule-date").removeClass("mouseover")})),$(".payment-table__schedule").on("mouseover",".payment-table__schedule-cell.mark",(function(e){var t=e.target.closest(".payment-table__schedule-cell"),n=$(t).closest(".payment-table__schedule-row"),i=$(t).index(),a=$(n).index();$(t).addClass("mouseover"),$(n).find(`.payment-table__schedule-cell:lt(${i})`).addClass("mouseover"),$(`.payment-table__schedule-row:gt(${a})`).find(`.payment-table__schedule-cell:eq(${i})`).addClass("mouseover"),$(`.payment-table__marker:eq(${a})`).addClass("mouseover"),$(`.payment-table__schedule-date:eq(${i})`).addClass("mouseover")})))},retailSliderInit:function(){if(0!=$(".lots-retail__slider-wrapp").length){$(".lots-retail__slider-wrapp").each((function(){!function(i){$(i).find(".lots-retail__slider").flickity({pageDots:!1,adaptiveHeight:!0,prevNextButtons:!1,on:{ready:function(){main.fixSwipeIosSlider($(i).find(".lots-retail__slider"))},pointerMove:function(){e&&(e=!1)},pointerUp:function(){e||(e=!0)},staticClick:function(e){$(window).width()>767&&(t($(e.target).closest(".lots-retail__item")),main.showPopup($("#popup-flat")))}}}),$(i).on("click",(function(n){e&&$(window).width()<768&&(t($(n.target).closest(".lots-retail__item")),main.showPopup($("#popup-flat")))})),$(i).find(".lots-retail__slider-btn_next").click((function(){$(this).closest(".lots-retail__slider-wrapp").find(".lots-retail__slider").flickity("next")})),$(i).find(".lots-retail__slider-btn_prev").click((function(){$(this).closest(".lots-retail__slider-wrapp").find(".lots-retail__slider").flickity("previous")})),n(i);var a=0;$(i).find(".lots-retail__slider").on("change.flickity",(function(){var e=$(this).closest(".lots-retail__slider-wrapp"),t=$(e).find(".lots-retail__slider-item.is-selected").index(),i=$(e).find(`.lots-retail__dots-item:eq(${t})`),o=0;$(e).find(".lots-retail__dots-item").removeClass("selected"),i.addClass("selected");var s=i.position().left;o=a>t?s+$(e).find(".lots-retail__dots").scrollLeft()-28:s+$(e).find(".lots-retail__dots").scrollLeft()-68,$(e).find(".lots-retail__dots").stop(!0).animate({scrollLeft:o},400),a=t,n(e)}))}(this)}));var e=!0;$(".lots-retail__info").on("click",(function(n){e&&(t($(n.target).closest(".lots-retail__item")),main.showPopup($("#popup-flat")))}))}function t(e){var t=$("#popup-flat"),n={};n.images=e.data("images").split(","),n.price=e.data("price"),n.area=e.data("area"),n.deposit=e.data("deposit"),n.prepayment=e.data("prepayment"),n.title=e.data("title"),n.text=e.data("text"),n.number=e.data("number"),n.rooms=e.data("rooms"),t.find(".popup__flat-title").html(n.title),t.find(".popup__flat-subtitle").html(n.text),t.find(".popup__flat-number").html(n.number),t.find(".popup__flat-number").html(n.number),t.find(".popup__flat-price__inner").html(main.priceFormat(n.price,"rub")),t.find(".popup__flat-square__inner").html(main.numberFormat(n.area)),t.find(".popup__flat-prepayment").html(n.prepayment),t.find(".popup__flat-rooms").html(n.rooms),$(".popup__flat-slider").flickity("remove",$(".popup__flat-item")),$(".popup__flat-gallery").flickity("remove",$(".popup_flat-gallery__item")),$(".popup__flat-dots").html(""),n.images.forEach(((e,t)=>{$(".popup__flat-slider").flickity("append",$(`<div class="popup__flat-item"><img src="${e}"></div>`)),$(".popup__flat-gallery").flickity("append",$(`<div class="popup_flat-gallery__item"><img src="${e}"></div>`)),$(".popup__flat-dots").append('\n                        <div class="popup__flat-dots__item">\n                            <div class="popup__flat-dot"></div>\n                        </div>\n                        ')})),$(".popup__flat-slider, .popup__flat-gallery").flickity("select",1),$(".popup__flat-slider, .popup__flat-gallery").flickity("select",0)}function n(e){var t=$(e).find(".lots-retail__slider-item.is-selected").index();$(e).find(`.lots-retail__dots-item:eq(${t})`).addClass("selected"),$(e).find(".lots-retail__slider-btn").addClass("visible"),0==t?$(e).find(".lots-retail__slider-btn_prev").removeClass("visible"):t==$(e).find(".lots-retail__dots-item").length-1&&$(e).find(".lots-retail__slider-btn_next").removeClass("visible")}},faq:function(){0!=$(".faq").length&&$(".faq__button").on("click",(function(){var e=$(this).closest(".faq__item"),t=e.find(".faq__answer");if(e.hasClass("active"))return e.removeClass("active"),void t.slideUp(300);$(this).closest(".faq").find(".faq__item").removeClass("active"),$(this).closest(".faq").find(".faq__answer").slideUp(300),t.slideDown(300),e.addClass("active")}))},tooltipPolicy:function(){$(".tooltip-trigger").click((function(e){if($(window).width()<=767){var t=$(this).find(".form-notice__tooltip-wrapper");if(void 0===t)return;if(e.target.closest(".popup-expert__close"))return void t.removeClass("active");t.addClass("active")}}))},tabs:function(){if(0!=$('[data-js="tabs"]').length){$("[data-tabs-nav] > *").on("click",(function(e){var t=$(e.currentTarget);if(!t.is(".active")){var n,i=t.closest('[data-js="tabs"]'),a=i.find("[data-tabs-nav] > *"),o=i.find("[data-tabs-content] > *");a.removeClass("active"),o.removeClass("active"),n=t.index(),t.addClass("active"),o.eq(n).addClass("active")}}))}},initYtplayer:function(){0!=$("#P1").length&&jQuery((function(){jQuery("#P1").YTPlayer()}))},initLocale:function(){this.language=$("html").attr("lang"),void 0===this.language&&(this.language="ru");let e={ru:"ru-RU",en:"en-US"}[this.language];this.locale=void 0===e?"ru-RU":e}};main.init(),$((function(){function e(){$(".layouts__filter-item").each((function(){$(this).hasClass("active")&&$(this).click(),$(this).removeClass("active"),$(this).find(".layouts__filter-item-text").removeClass("active")})),$(".noUi-target").each((function(){this.noUiSlider.set([$(this).data("min"),$(this).data("max")],!0,!0)})),$(".filter__item-select-body input[type=checkbox]:checked, #popup-filter input[type=checkbox]:checked").each((function(){$(this).prop("checked",!1).change()})),$('[name="sort_type"]').first().click(),$("[data-filter-tags]").empty()}function t(){var e=[],t=new Map,n=[".layouts__filter"];$(window).width()>767?n.push('[data-filter="desktop"]'):n.push('[data-filter="mobile"]');for(var i="",o=0;n.length>o;o++)i+=n[o]+' input:not([name="sort_type"]), '+n[o]+" input[type=checkbox], "+n[o]+" .active[data-filter-name]",void 0!==n[o+1]&&(i+=", ");return $(i).each((function(){var n=$(this);if("checkbox"!==n.attr("type")||n.prop("checked")){var o=n.data("filter-group");if(void 0!==o){if(-1!==e.indexOf(o))return;n.val().length&&(e.push(o),t.set("begin_or_group",null),$(i).filter('[data-filter-group="'+o+'"]').each((function(){a($(this),t)})),t.set("end_or_group",null))}else if(n.prop("checked")||n.hasClass("active")){var s=n.data("filter-name")?n.data("filter-name"):n.attr("name"),r=n.data("filter-value")?n.data("filter-value"):n.val(),l=t.get(s);(void 0===l||-1===l.indexOf(r))&&a(n,t)}}})),t}function n(){var n=t(),a=$("[data-filter-tags]"),o=0;for(var s of(a.empty(),n.entries())){var r=s[0],l=s[1];if("rooms/int_multiple_band_filter"===r)var c=",";else c=":";if(r.match(/price.{4}\/int_band_filter/)||"area/int_band_filter"===r||"area_ft2/int_band_filter"===r){var d=l.split(c)[0],u=l.split(c)[1],h=null,p=null,m=null,f=null;if($("[range-wrapp]").each((function(){var e=$(this);$(this).find('[name="'+r+'"]').length>0&&(h=e.find("[data-slider]").attr("data-min"),p=e.find("[data-slider]").attr("data-max"),m=e.find("[data-slider]").attr("data-slider-tag-symbol"),f=e.find("[data-slider]").attr("data-slider-tag-reduction"))})),d!==h||u!==p){if(void 0!==f){d=Math.round(d/1e3),u=Math.round(u/1e3);var _=window.gFormatPrice(d)+" - "+window.gFormatPrice(u)+" "+f+" "+m}else _=window.gFormatPrice(d)+" - "+window.gFormatPrice(u)+" "+m;var g=i(r,l,_);a.append(g)}}else{var v=l.split(c),y=[];v.forEach((e=>{var t=$('[data-filter-name="'+r+'"][data-filter-value="'+e+'"]');if(0===t.length&&0===(t=$('input[name="'+r+'"][value="'+e+'"]')).length){var n=$('input[name="'+r+'"]');if(!y.includes(e)){var s=new RegExp(e);t=n.filter((function(){return $(this).val().match(s)})),y=y.concat(t.val().split(c)),e=t.val()}}var l=t.attr("data-filter-tag-text");if(l){var d=i(r,e,l);a.append(d),o++}}))}}if(a.children().length>1){g=i("clear_all","clear_all",function(e){return window.dashkypitedom.translates[e]}("clear_all"));a.prepend(g)}o>0?($("[data-btn-filter-count]").html(o),$("[data-btn-filter-count]").show()):$("[data-btn-filter-count]").hide(),$("[data-filter-tag]").each((function(t,n){(n=$(n)).click((function(){"clear_all"===n.attr("data-filter-name")?e():function(e){var t=$(e).attr("data-filter-name"),n=$(e).attr("data-filter-value"),i=$('input[name="'+t+'"][value="'+n+'"');t.match(/price.{4}\/int_band_filter/)||"area/int_band_filter"===t||"area_ft2/int_band_filter"===t?$('input[name="'+t+'"]').parents("[range-wrapp]").find(".noUi-target").each((function(){this.noUiSlider.set([$(this).data("min"),$(this).data("max")],!0,!0)})):(i.each((function(){$(this).prop("checked",!1).change()})),0===i.length&&(i=$('[data-filter-name="'+t+'"][data-filter-value="'+n+'"]')).each((function(){$(this).hasClass("active")&&$(this).click(),$(this).removeClass("active"),$(this).find(".layouts__filter-item-text").removeClass("active")})))}(n)}))}))}function i(e,t,n){var i=$("<div></div>");return i.addClass("filter__tags-item"),i.attr("data-filter-name",e),i.attr("data-filter-value",t),i.attr("data-filter-tag",!0),i.append("<span>"+n+'</span><i class="filter__tags-close">'),i}function a(e,t){var n,i;if(void 0!==e.data("filter-name")&&void 0!==e.data("filter-value")?(n=e.data("filter-value"),i=e.data("filter-name")):(n=e.val(),i=e.attr("name")),n.length&&void 0!==i){if(void 0!==e.attr("data-active")&&!e.hasClass("active"))return;var a;if(-1!==i.indexOf("int")&&(n=n.replace(/[^:\d]/g,"")),t.has(i))a=-1!==i.indexOf("int_multiple_band_filter")?",":":",n=t.get(i)+a+n;-1===i.indexOf("int_multiple_band_filter")&&(n=n.split(",").join(":")),t.set(i,n)}}function o(e,t,n){$.ajax({url:e,method:"get",beforeSend:function(){},complete:function(){void 0!==t&&t()},success:function(e){void 0!==n&&n(e),$(document).trigger("filtered")}})}function s(){let e=function(){var e=[],n=t();for(var i of n.entries())e.push({name:i[0],val:i[1]});return e}();return window.history.replaceState({},document.title,window.location.pathname+"?"+function(e){for(var t=new URLSearchParams(window.location.search),n=0;n<e.length;n++){var i=e[n];e[n]=i.name,null!==i.val&&(e[n]+="|"+i.val)}e=e.join(";"),t.set("filters",e);var a=$("[name=sort_type]:checked"),o=a.data("direction");return o.length&&a.length&&(t.set("sort_direction",o),t.set("sort_type",a.val())),t.toString()}(e)),e}var r;$("[data-lots-table-filter-active]").click((function(){var e=$(this).attr("data-lots-table-filter-active"),t=$('[data-filter-value-int="'+e+'"]'),n=$(".layouts__wrapp_filter").first();0!==t.length&&($('.active[data-filter-name="rooms/int_multiple_band_filter"]').each((function(){var e=$(this),t=e.parents(".layouts__filter-item");e.removeClass("active"),e.animate({width:"hide"},300),t.removeClass("active")})),ww_tools.wm.f.scrollTo(n,null,{header:$(".header__container"),tolerance:50}),t.parents(".layouts__filter-item").first().click())})),$("[data-currency]").click((function(){if("true"!=$(this).attr("data-disabled")){var e=$(this).closest(".deal_type_block").find(".filter-price-slider");e.hide().find("input[data-active]").removeClass("active"),e.filter("."+$(this).data("currency")).css("display","flex").find("input[data-active]").addClass("active"),$(this).siblings("[data-currency]").removeClass("active"),$(this).addClass("active"),$(document).trigger("sendFilter")}else $(this).removeClass("active")})).filter(".active").click(),$("[data-area-switcher]").click((function(){var e=$(this),t=e.closest("[data-deal-type]");if(!e.hasClass("active")){var n=e.attr("data-area-switcher"),i=t.find("[data-area-type]"),a=t.find('[data-area-type="'+n+'"]');t.find("[data-area-switcher]").removeClass("active"),e.addClass("active"),i.addClass("hidden-element"),i.find("input").removeClass("active"),a.removeClass("hidden-element"),a.find("input").addClass("active"),$(document).trigger("sendFilter")}})),$(".filter__item-select-body input[type=checkbox], #popup-filter input[type=checkbox]").change((function(){$(document).trigger("sendFilter")})),$('[name="sort_type"]').change((function(){$(document).trigger("sendFilter")})),$("[filter-reset]").click((function(t){t.preventDefault(),e()})),$('[name="sort_type"]').change((function(){$('[name="sort_type"]').removeClass("active"),$('[name="sort_type"][value="'+$(this).val()+'"][data-direction="'+$(this).attr("data-direction")+'"]').addClass("active")})),$(document).on("click",".load-more",(function(e){e.preventDefault();var t=$(this);o($(this).attr("href"),(function(){}),(function(e){$(".filter-results-full").append(e["full-results"]),t.closest(".lots-list__bottom").replaceWith(e["load-more-btn"])}))})),$(".popup__head-line-cross").click((function(e){main.closePopup($(this).parents(".popup"))})),$(document).on("sendFilter",(function(){clearTimeout(r),r=setTimeout((function(){s(),function(){var e=$(".filter-results-short"),t=$(".filter-result-other"),i=$(".filter-result-other-mobile"),a=$(".filter-results-full"),s=$(".lots-list__bottom_replace"),r=$('meta[name="filter-url"]').attr("content"),l=new URLSearchParams(window.location.search);l.delete("page");var c=-1!==r.indexOf("?")?"&":"?";c=-1!==(r+=c+l.toString()).indexOf("?")?"&":"?",o(r+=c+"lang="+$("html").attr("lang"),(function(){}),(function(o){e.html(o["short-results"]),t.replaceWith(o["other-results"]),i.replaceWith(o["other-mobile-results"]),a.replaceWith(o["full-results"]),s.html(o["load-more-btn"]),n()})),setTimeout((function(){fast_background.update()}),300)}()}),50)})),setTimeout((function(){n()}),500)}));
